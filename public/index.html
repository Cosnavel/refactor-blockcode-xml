<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html SYSTEM "studybook.dtd" [

<!ENTITY nbsp   "&#x00A0;"> <!-- no-break space = non-breaking space, U+00A0 ISOnum -->
<!ENTITY shy    "&#x00AD;"> <!-- soft hyphen  -->
<!ENTITY thinsp "&#x202F;"> <!-- narrow no-break space -->
<!ENTITY zwsp   "&#x200B;"> <!-- zero width space for prince, see http://www.princexml.com/bb/viewtopic.php?f=4&t=1160&hilit=hyphens -->

<!ENTITY ndash  "&#8211;"> <!-- – en dash -->
<!ENTITY mdash  "&#x2014;"> <!-- em dash, U+2014 ISOpub -->
<!ENTITY hellip "&#8230;"> <!-- horizontal ellipsis = three dot leader, U+2026 ISOpub  -->
<!ENTITY times  "&#215;">  <!-- multiplication sign -->

<!ENTITY darr   "&#8595;"> <!-- downwards arrow -->
<!ENTITY larr   "&#8592;"> <!-- leftwards arrow -->
<!ENTITY uarr   "&#8593;"> <!-- upwards arrow -->
<!ENTITY rarr   "&#8594;"> <!-- rightwards arrow -->

<!ENTITY rsquo   "&#8217;"> <!-- right single quotation mark (apostrophe) -->
<!ENTITY lsquo   "&#8216;"> <!-- left single quotation mark -->
<!ENTITY raquo  "&#187;">  <!-- right pointing double angle quotation mark -->
<!ENTITY laquo  "&#171;">  <!-- left pointing double angle quotation mark -->
<!ENTITY rsaquo  "&#8250;"> <!-- › single right-pointing angle quotation mark -->
<!ENTITY lsaquo  "&#8249;"> <!-- ‹ single left-pointing angle quotation mark -->
<!ENTITY bdquo  "&#8222;"> <!-- double curved low 9 quotation mark -->
<!ENTITY ldquo  "&#8220;"> <!-- left double curved quotation mark -->
<!ENTITY rdquo  "&#8221;"> <!-- right double curved quotation mark -->

<!--Sample Solutions Assignments -->
<!ENTITY table_of_content_solution  "https://github.com/Webmasters-Europe/js_dom_table_of_content/releases/tag/2.7.0">
<!ENTITY search_and_replace_solution  "https://github.com/Webmasters-Europe/js_dom_search_and_replace/releases/tag/2.7.0">

<!--Links Demos -->
<!ENTITY toc_demo  "https://tableofcontent.webmasters-akademie.dev/">
<!ENTITY sar_demo  "https://search-replace.webmasters-akademie.dev/">

]><html lang="de">
    <head>
        <link type="text/css" href="authoring.css"/>
        <title>JavaScript</title>
        <subtitle>HTML mühelos manipuliert</subtitle>
        <author>Marco Emrich und Christin Marit</author>
        <publication_year>2016</publication_year>
        <cover_designer>Frank Schad</cover_designer>
        <indexterms>
            <indexterm>add</indexterm>
            <indexterm>Ajax</indexterm>
            <indexterm>alt</indexterm>
            <indexterm>API</indexterm>
            <indexterm>appendChild</indexterm>
            <!--indexterm>Array</indexterm-->
            <indexterm>async</indexterm>
            <!--indexterm>Attribute</indexterm-->
            <indexterm>Bibliothek</indexterm>
            <indexterm>Block-Scope</indexterm>
            <indexterm>blur</indexterm>
            <indexterm>change</indexterm>
            <indexterm>checked</indexterm>
            <indexterm>childElementCount</indexterm>
            <indexterm>children</indexterm>
            <indexterm>classList</indexterm>
            <!--indexterm>click</indexterm-->
            <indexterm>cloneNode</indexterm>
            <indexterm>cols</indexterm>
            <indexterm>contains</indexterm>
            <indexterm>Content</indexterm>
            <indexterm>Data</indexterm>
            <indexterm>dblclick</indexterm>
            <indexterm>defer</indexterm>
            <indexterm>disabled</indexterm>
            <indexterm>Document Object Model</indexterm>
            <indexterm>DOM-Scripting</indexterm>
            <indexterm>DOM-Traversal</indexterm>
            <!--indexterm>DOM</indexterm-->
            <indexterm>DOMTokenList</indexterm>
            <indexterm>each</indexterm>
            <indexterm>ECMA</indexterm>
            <indexterm>EcmaScript</indexterm>
            <indexterm>Element-Objekt</indexterm>
            <indexterm>Eltern-Element</indexterm>
            <indexterm>Eventhandler</indexterm>
            <indexterm>Events</indexterm>
            <indexterm>filter</indexterm>
            <indexterm>firstElementChild</indexterm>
            <indexterm>focus</indexterm>
            <indexterm>Framework</indexterm>
            <indexterm>Function-Scope</indexterm>
            <indexterm>getComputedStyle</indexterm>
            <indexterm>Guard Clauses</indexterm>
            <indexterm>Guard</indexterm>
            <indexterm>hashchange</indexterm>
            <indexterm>high</indexterm>
            <indexterm>href</indexterm>
            <indexterm>IDL</indexterm>
            <indexterm>IIFE</indexterm>
            <indexterm>init</indexterm>
            <indexterm>Initialisierung</indexterm>
            <indexterm>innerHTML</indexterm>
            <indexterm>insertBefore</indexterm>
            <indexterm>item</indexterm>
            <indexterm>jQuery</indexterm>
            <indexterm>key</indexterm>
            <indexterm>KeyboardEvent</indexterm>
            <indexterm>keydown</indexterm>
            <indexterm>keypress</indexterm>
            <indexterm>keyup</indexterm>
            <indexterm>keyword</indexterm>
            <indexterm>lastElementChild</indexterm>
            <indexterm>map</indexterm>
            <indexterm>max</indexterm>
            <indexterm>maxlength</indexterm>
            <!--            <indexterm>Methoden</indexterm>-->
            <indexterm>min</indexterm>
            <indexterm>mouseenter</indexterm>
            <indexterm>mouseleave</indexterm>
            <indexterm>mousemove</indexterm>
            <indexterm>multiple</indexterm>
            <!--indexterm>name</indexterm-->
            <indexterm>Newspaper-Metapher</indexterm>
            <indexterm>nextElementSibling</indexterm>
            <indexterm>Node</indexterm>
            <indexterm>NodeList</indexterm>
            <!--indexterm>Objekt</indexterm-->
            <indexterm>on</indexterm>
            <indexterm>parentNode</indexterm>
            <indexterm>Perfomance</indexterm>
            <indexterm>placeholder</indexterm>
            <indexterm>Polyfill</indexterm>
            <indexterm>preventDefault</indexterm>
            <indexterm>previousElementSibling</indexterm>
            <indexterm>querySelector</indexterm>
            <indexterm>Read-Only</indexterm>
            <indexterm>readonly</indexterm>
            <indexterm>Refactoring</indexterm>
            <indexterm>rel</indexterm>
            <indexterm>removeChild</indexterm>
            <indexterm>required</indexterm>
            <indexterm>reset</indexterm>
            <indexterm>resize</indexterm>
            <indexterm>rows</indexterm>
            <indexterm>scroll</indexterm>
            <indexterm>select </indexterm>
            <indexterm>selected</indexterm>
            <indexterm>selector</indexterm>
            <indexterm>Selektion</indexterm>
            <indexterm>siblings</indexterm>
            <indexterm>size</indexterm>
            <indexterm>Source-Order</indexterm>
            <indexterm>src</indexterm>
            <indexterm>start</indexterm>
            <indexterm>step</indexterm>
            <indexterm>strict</indexterm>
            <indexterm>Style-Objekt</indexterm>
            <indexterm>submit</indexterm>
            <indexterm>tabindex</indexterm>
            <indexterm>target</indexterm>
            <indexterm>timestamp</indexterm>
            <indexterm>title</indexterm>
            <indexterm>toggle</indexterm>
            <indexterm>transitionend</indexterm>
            <indexterm>Traversal</indexterm>
            <indexterm>type</indexterm>
            <indexterm>value</indexterm>
            <indexterm>VanillaJS</indexterm>
            <indexterm>visibilitychange</indexterm>
            <indexterm>wheel</indexterm>
        </indexterms>
        <learning_objectives>
            <li>Dynamische Webanwendungen (client-seitig) mit JavaScript (ES 6+) programmieren.</li>
            <li>Mit JavaScript im DOM einer HTML-Seite navigieren.</li>
            <li>HTML mit DOM-Manipulation um dynamisches Verhalten erweitern.</li>
            <li>CSS Änderungen per JavaScript durchführen.</li>
            <li>Auf Benutzerinteraktion (Events) mit JavaScript reagieren.</li>
        </learning_objectives>
    </head>
    <about_author>
        <h3>Über die Autoren</h3>
        <h3>Marco Emrich</h3>
        <p>Marco Emrich ist Diplom-Informatiker (FH), Senior Consultant, leidenschaftlicher Trainer und Verfechter von Software Craftsmanship. Er verfügt über langjährige Erfahrung als Software-Architekt und -Entwickler in ganz unterschiedlichen Branchen. Außerdem hält er regelmäßig Vorträge, leitet Workshops auf bekannten Softwarekonferenzen und schreibt Fachbücher und Artikel für Fachzeitschriften. Wenn er in seiner Freizeit nicht gerade Softwerkskammer-Treffen organisiert, erklärt er wahrscheinlich gerade seinem Sohn, wie man Roboterschildkröten programmiert.</p>
        <p>
            <a href="https://github.com/marcoemrich">marcoemrich</a>
            <br/>
            <a href="https://twitter.com/marcoemrich">@marcoemrich</a>
        </p>
        <h3>Christin Marit</h3>
        <p>Christin Marit ist Diplom-Sozialpädagogin, Webentwicklerin, Fotografin, Minimalistin, Weltenbummlerin und professionelle Lebenskünstlerin. Für die Webmasters Akademie in Nürnberg arbeitet Sie als Kursentwicklerin und E-Tutorin. Sie findet, dass JavaScript zu lernen genauso einfach, schön und spannend sein sollte wie das Leben selbst. </p>
        <p>
            <a href="https://twitter.com/christinmarit">@christinmarit</a>
        </p>
    </about_author>
    <preface>
        <h3>JavaScript, HTML und CSS</h3>
        <p>&hellip; das sind die drei Säulen, auf denen das moderne Web ruht. Egal, welche Technologien Sie sonst noch verwenden, an dem Erfolgs-Trio führt kein Weg vorbei.</p>
        <p>Der erste Teil dieses Kurses (<i>JavaScript &mdash; Aller Anfang ist leicht</i>) hat sich mit den Grundlagen der Sprache JavaScript beschäftigt. Im vorliegenden Teil zeigen wir Ihnen, wie Sie JavaScript nutzen können um &raquo;HTML mühelos zu manipulieren&laquo;. Diese Manipulation hilft uns, Webanwendungen zu bauen, die mehr sind als bloße statische Seiten &mdash; Webanwendungen, die sich flüssig anfühlen und gut bedienbar sind, statt nach jedem Klick die Seite neu aufbauen zu müssen.</p>
        <p>Nach diesem Kurs können Sie dynamische Tooltips erzeugen, Interfaces zum Verwalten von Produkten programmieren oder eigene Bildgalerien entwickeln. Uns würden noch viele andere Anwendungsfälle einfallen &mdash; vor allem aber wollen wir Ihnen Werkzeuge an die Hand geben, mit denen Sie die Anwendungsfälle umsetzen können, die uns gerade nicht einfallen.</p>
        <p>Die Kombination aus HTML und JavaScript (und natürlich auch CSS) versetzt Sie in die Lage, Ihre Ideen Realität werden zu lassen. Wo fertige Webbaukästen Sie nur einschränken, ist JavaScript ein flexibles und williges Werkzeug Ihrer Kreativität &mdash; nur Ihre Phantasie ist die Grenze.</p>
        <p>Im vorliegenden Kursteil geht es nicht um Frameworks wie AngularJS oder React. Stattdessen möchten wir Ihnen zeigen, dass eben jener Browser, mit dem Sie Tag für Tag arbeiten, bereits alles mitbringt, was Sie für dynamische Webanwendungen im Frontend benötigen. </p>
        <p>Einerseits möchten wir Sie ermutigen, kleinere Probleme direkt mit den Bordmitteln des Browsers zu lösen, statt gleich ein schwergewichtiges und komplexes Framework einzubinden. Andererseits setzen Sie vielleicht später für größere Anwendungen ein solches Framework ein. Dann werden Ihnen die Grundkenntnisse aus diesem Kurs eine wertvolle Hilfe sein. Sie helfen Ihnen, die Arbeitsweise des Frameworks zu verstehen und Probleme auch dann zu lösen, wenn Sie an die Grenzen des Frameworks stoßen.</p>
        <p>Wie schon im ersten Teil des Kurses setzen wir den aktuellen JavaScript-Standard ein. Sie sollten bereits mit den grundlegenden Spracheigenschaften von ECMAScript2015 vertraut sein. Ansonsten lohnt es sich eventuell, nochmal den ersten Kursteil zur Auffrischung durchzuarbeiten. Wir setzen das dort begonnene Prinzip fort und verwenden neben den aktuellen Sprachmitteln auch aktuelle Browserimplementierungen. Wir zeigen Ihnen die aktuellen APIs und ein modernes DOM, mit dem das Entwickeln von Webanwendungen wieder Spaß macht. Was sich hinter dem geheimnisvollen Begriff &raquo;DOM&laquo; verbirgt, erfahren Sie gleich in der ersten Lektion. In diesem Sinne, viel Spaß beim Lesen und Coden&hellip;</p>
        <p>Christin &amp; Marco</p>
        <p>PS: Wenn Sie Feedback und Anregungen haben, oder einfach verfolgen möchten, woran ich gerade arbeite, folgen oder schreiben Sie mir an <b>@marcoemrich</b> auf Twitter &mdash; Marco</p>
        <figure>
            <img src="images/people/marco_and_christin.jpg"/>
            <figcaption>Remote Programmieren &hellip; Remote Schreiben &hellip; und Remote Feiern :)</figcaption>
        </figure>
    </preface>
    <lessons>
        <lesson>
            <lesson_name>Was Sie schon immer über das DOM wissen wollten&hellip;</lesson_name>
            <topics>
                <li>was es mit dem DOM auf sich hat.</li>
                <li>warum wir <b>kein</b> jQuery verwenden.</li>
                <li>was Sie in dieser Class erwartet.</li>
            </topics>
            <figure>
                <blockquote>
                    <p>And then there is the DOM &mdash; I'm pretty confident saying this: I think, it is the worst API ever invented.</p>
                </blockquote>
                <figcaption>Douglas Crockford about &raquo;Upgrading the Web&laquo;</figcaption>
            </figure>
            <p>Vielleicht wollen Sie ja erst einmal wissen, was dieses DOM eigentlich ist, um das es hier geht. Also, das DOM ist kein Gebäude &mdash; es ist die Abkürzung für <keyword>Document Object Model</keyword> und der hässliche Star dieses Kurses.</p>
            <p>Es handelt sich dabei um eine sogenannte <keyword>API</keyword> &mdash; ein <keyword>application programming interface</keyword> &mdash; eine Schnittstelle zur Programmierung von Anwendungen. Im Klartext heißt das, eine Sammlung von Objekten, Methoden, Funktionen und Attributen. Sie sehen bald, was das genau bedeutet.</p>
            <p>Der Browser stellt uns damit eine Möglichkeit zur Verfügung, mit der wir HTML-Seiten dynamisch verändern können. Alle Webanwendungen, die Sie kennen, mit denen Sie ohne ständiges Neuladen arbeiten können, wie Google-Mail, Twitter, Facebook usw., verwenden das DOM, um Ihnen gut bedienbare Oberflächen (darüber lässt sich vermutlich streiten) bereitzustellen. JavaScript (kurz: JS) im Browser ist wertlos ohne die Möglichkeit, HTML zu manipulieren &mdash; und dafür benötigen Sie das DOM. Auch moderne Frameworks wie AngularJS oder ReactJS greifen &raquo;unter der Haube&laquo; auf das DOM zurück.</p>
            <p>Warum eigentlich der <i>hässliche</i> Star? Douglas Crockford (der Mann hinter JSON und Autor von <i>JavaScript &mdash; the good parts</i>) hat 2015 in seinem Vortrag <i>Upgrading the Web</i> das DOM die schlechteste API aller Zeiten geschimpft.</p>
            <p>Schwer zu sagen, ob das stimmt &mdash; aber als geplagte Entwickler hat uns das Ringen mit der API schon das eine oder andere graue Haar verursacht (bei Marco ist das ganz deutlich zu sehen). Tatsache ist: Die API ist komplex und nicht einfach zu verwenden.</p>
            <p>Die gute Nachricht ist: Das DOM ist vor allem deswegen so komplex, weil es überladen ist &mdash; mit vielen, vielen Dingen, die in der Praxis kaum Verwendung finden. </p>
            <p>Deswegen greifen wir für Sie die Teile aus der API heraus, die Ihnen den größten Nutzen bringen. Kombiniert mit aktueller ECMAScript6-Syntax und ein paar Kniffen, die wir Ihnen bald zeigen, wird aus der schlechtesten API aller Zeiten&thinsp;&hellip; immer noch keine gute API. Aber zumindest gelingt es Ihnen, Ihre Ziele zu erreichen und dabei Code zu produzieren, der auch langfristig lesbar und wartbar bleibt.</p>
            <h1>DOM-Manipulation im Kontext von Webwendungen</h1>
            <p>Wenn Sie vorhaben, größere JS-Anwendungen oder gar <keyword>Single Page Applications</keyword> zu entwickeln, ist reine DOM-Manipulation sicherlich nicht das Mittel der Wahl. Spezialisierte Frameworks wie <i>AngularJS</i> oder <i>ReactJS</i> sind dafür besser geeignet.</p>
            <p>Warum sind wir der Meinung, dass Sie dennoch <i>zuerst</i> DOM-Manipulation lernen sollten?</p>
            <p>Dafür gibt es eine ganze Reihen von Gründen. Zunächst einmal kann es sein, dass Sie gerade keine Single Page App entwickeln, sondern einfach einer klassische Webanwendung (z.&thinsp;B. einer im <a href="http://roca-style.org/">ROCA-Stil</a>) eine modernere Fassade verpassen wollen. Vielleicht möchten Sie aber auch die Usability verbessern oder einfach ein wenig den &raquo;Fancyness&laquo;-Faktor erhöhen. Dafür ist ein wenig gezielt und nicht übertrieben eingesetztes <keyword>DOM-Scripting</keyword> oft die richtige Wahl. Sie benötigen keine zusätzlichen Frameworks, müssen keine riesigen Datenmengen nachladen oder komplizierten Setup-Code erstellen. Alles, was Sie benötigen, bringt der Browser mit.</p>
            <p>Wo wir gerade über Datenberge sprechen: Vielleicht ist es Ihnen auch wichtig, dass Ihre Website schnell lädt, weil Ihnen ihre mobilen Nutzer am Herzen liegen. Oder Sie wissen, dass Geschwindigkeit ein wichtiger Rankingfaktor für Google ist; ein Gesichtspunkt, den viele SEO-Experten (<keyword>Search Engine Optimization</keyword>, dt. <keyword>Suchmaschinenoptimierung</keyword>) immer noch sträflich vernachlässigen. In diesem Fall ist es besonders wichtig, dass Sie möglichst wenig zusätzlichen Code benötigen.</p>
            <p>Sollten Sie später mit einem umfangreicheren Webframework arbeiten, werden Sie feststellen, dass nicht jedes Framework alles kann oder manche &raquo;einfachen&laquo; Dinge in dem einen oder anderen Framework gar nicht so einfach sind &mdash; weil sie gerade nicht ins Frameworkkonzept passen. </p>
            <p>Dann ist es an der Zeit, mal wieder selbst Hand anzulegen oder zumindest zu verstehen, was das Framework &raquo;unter der Haube&laquo; so treibt.</p>
            <hint type="tip">
                <p>Nur wer das DOM beherrscht, beherrscht den Browser.</p>
            </hint>
            <h1>Ein Leben ohne jQuery</h1>
            <figure float="left" id="yunojquery" width="27%">
                <img src="images/yunojquery.jpg"/>
                <figcaption><a href="https://imgflip.com/i/r7vc2">Y-U-No-jQuery-Meme</a>, erstellt mit dem ImgFlip-Memegenerator</figcaption>
            </figure>
            <p>&raquo;<i>Warum zur Hölle verwendet Ihr kein jQuery?</i>&laquo; lautet der aus der Memesprache (sehr verbreitet in der Webenwicklungsszene) übersetzte Ausdruck, den Sie in <a href="#yunojquery"/> finden.</p>
            <p>Tatsächlich hatten wir diesen Kurs ursprünglich als jQuery-Kurs begonnen. Es waren sogar schon drei Lektionen fertig. Aber sowohl eigene Projekte als auch Gespräche mit Dutzenden von Entwicklern auf Konferenzen haben bestätigt: Die Zeit ist reif &mdash; reif für ein Web ohne jQuery.</p>
            <p>Verstehen Sie uns nicht falsch &mdash; wir sind keine Gegner von jQuery. jQuery ist eine großartige Bibliothek. Wir haben sie in vielen Projekten gerne eingesetzt. Was jQuery vor allem geleistet hat, war, eine stabile Plattform zu bieten, die die Unterschiede zwischen den Browsern ausgleicht. jQuery hat jede noch so verrückte Browserbesonderheit vor uns verborgen und uns so viel Ärger und Tausende von Entwicklungsstunden erspart.</p>
            <p>jQuery brachte auch zu Zeiten von EcmaScript 3.1 bereits High-Order-Funktionen wie <code>map</code> und <code>each</code> mit. Vermutlich hat jQuery sogar den EcmaScript-Standard dazu inspiriert, ähnliche Funktionalität direkt in die Sprache zu integrieren.</p>
            <hint src="images/people/marco.jpg">
                <p>Ich kann gar nicht beschreiben, wie verrückt die Web-Welt war, bevor Bibliotheken wie jQuery und Prototype sich um Browserunterschiede kümmerten. Ich hab' oft nächtelang Dokumentationen gewälzt und JS-Code debuggt, um herauszufinden, warum gerade diese eine Sache, die in allen anderen Browsern tadellos funktioniert, in IE5/IE6 mal wieder anders ist.</p>
            </hint>
            <p>Jedenfalls entwickelt sich das Web weiter. Unter der Voraussetzung, dass der <i>Internet Explorer 9</i> der älteste Browser ist, den Sie noch unterstützen müssen, sind die Unterschiede zwischen den Browsern nicht mehr so groß. Es kommt natürlich auf Ihre Zielgruppe und Ihren Anwendungsfall an, aber die Notwendigkeit jQuery (oder vergleichbare Bibliotheken) einzusetzen, ist nicht mehr so groß wie noch vor wenigen Jahren.</p>
            <p>Mittlerweile hat sich eine ganze Community um das Thema <a href="https://twitter.com/search?q=%23nojquery">#nojquery</a> (Twitter Hashtag) gebildet. Hier ein paar Links zum Weiterschmökern:</p>
            <ul>
                <li>
                    <a href="http://youmightnotneedjquery.com">http://youmightnotneedjquery.com</a>
                </li>
                <li>
                    <a href="http://blog.garstasio.com/you-dont-need-jquery">http://blog.garstasio.com/you-dont-need-jquery</a>
                </li>
                <li>
                    <a href="http://www.sitepoint.com/do-you-really-need-jquery">http://www.sitepoint.com/do-you-really-need-jquery</a>
                </li>
                <li>
                    <a href="http://lea.verou.me/2015/04/jquery-considered-harmful">http://lea.verou.me/2015/04/jquery-considered-harmful</a>
                </li>
                <li>
                    <a href="http://tutorialzine.com/2014/06/10-tips-for-writing-javascript-without-jquery">http://tutorialzine.com/2014/06/10-tips-for-writing-javascript-without-jquery</a>
                </li>
                <li>
                    <a href="http://programmers.stackexchange.com/questions/166273/advantages-of-using-pure-javascript-over-jquery">http://programmers.stackexchange.com/questions/166273/advantages-of-using-pure-javascript-over-jquery</a>
                </li>
            </ul>
            <p>Unter <a href="http://youmightnotneedjqueryplugins.com">http://youmightnotneedjqueryplugins.com</a> finden Sie sogar eine Liste von jQuery-freien Widgets und Plugins. Direkte Vergleiche zwischen jQuery und Vanilla-Code (erklären wir gleich) finden Sie in Ray Nicholus' Buch (2015) <i>Beyond jQuery</i>. </p>
            <h1>JavaScript mit Vanille-Geschmack</h1>
            <p>Generell ist die Idee dieses Kurses, mit <keyword>vanilla JS</keyword> zu arbeiten, so lange es sinnvoll ist. Der Begriff <i>vanilla JS</i> bedeutet: einfaches JavaScript ohne Schnickschnack oder Beiwerk. Als Belohnung winken kleine Dateigrößen und hohe Performance.</p>
            <p>Ein weiterer Begriff mit der gleichen Bedeutung wie vanilla JS wäre übrigens <i>naked JS</i> (Nur hat uns das Lektorat leider alle darauf aufbauenden Scherze gestrichen).</p>
            <p>Unter <a href="http://vanilla-js.com">http://vanilla-js.com</a> finden Sie eine Satireseite von Eric Wastl, die <i>vanilla JS</i> wie eine Bibliothek oder ein Framework anpreist, das Sie sich herunterladen können &mdash; eine leere Datei :)</p>
            <figure>
                <blockquote>
                    <p>The&nbsp;Vanilla JS&nbsp;team takes pride in the fact that it is the&nbsp;most lightweight framework available any&shy;where; using our production-quality deployment strategy, your users' browsers will have&nbsp;Vanilla JS loaded into memory before it even requests your site.</p>
                </blockquote>
                <figcaption>vanilla-js.com</figcaption>
            </figure>
            <p>Ignoriert man mal den humoristischen Aspekt, so bietet die Seite vor allem interessante Vergleiche zwischen vanilla JS und beliebten Bibliotheken &mdash; Vergleiche, die zeigen, dass &raquo;reines&laquo; JS nun wirklich keine schlechte Wahl ist.</p>
            <h1>Voraussetzungen</h1>
            <p>Wir gehen davon aus, dass Sie entweder Band 1: &raquo;<i>JavaScript &mdash; Aller Anfang ist leicht</i>&laquo; durchgearbeitet haben oder äquivalente JavaScript-Grundkenntnisse mitbringen. Sollten Ihnen Konzepte wie Variablen, Kontrollstrukturen (z.&thinsp;B. <code>if</code>), Rekursion oder High-Order-Funktionen (<code>map</code>, <code>reduce</code>, &hellip;) nicht vertraut sein, empfehlen wir Ihnen, sich erst mal mit den Grundlagen zu beschäftigen. Der Band 1 dieser Reihe: <i>JavaScript &mdash; Aller Anfang ist leicht</i> (Emrich, Marit 2015) eignet sich dafür übrigens hervorragend :)</p>
            <hint>
                <p>Dieser Kurs verwendet konsequent die Sprachversion <keyword>ES6+</keyword> bzw. <keyword>EcmaScript 2015+</keyword> von JavaScript.</p>
            </hint>
            <p>Sie sollten also auch mit Basis-ES6-Features wie Stringtemplates, <code>let</code>, <code>const</code> oder dem <i>fat arrow</i>
                <code>=&gt;</code> vertraut sein.</p>
            <h1>Was dieser Kurs ist</h1>
            <p>Dieser Kurs konzentriert sich auf JavaScript im Browser. Inbesondere behandeln wir das Browser-DOM und zeigen Beispiele, wie sie in echten Projekten tatsächlich vorkommen. D.&thinsp;h. Sie lernen die Browser-Funktionen anhand von Code kennen, wie wir ihn (nahezu) auch in Wirklichkeit schreiben würden. Deswegen erwartet Sie kein Feuerwerk an Features, die wir im Akkord abhandeln. Stattdessen zeigen wir Ihnen, wie Sie die neuen Funktionen und Konzepte sinnvoll in realen Umgebungen einsetzen. Dazu gehören auch oft viele Verbesserungsrunden, um schließlich Code zu präsentieren, auf den Sie stolz sein können.</p>
            <h1>Was dieser Kurs nicht(!) ist</h1>
            <p>Wenn Sie später Software mit JS entwickeln, werden Sie oft Details nachschlagen müssen. Dafür ist dieser Kurs aber nur sehr bedingt geeignet. Wir versuchen eher, Ihnen einen Leitfaden an die Hand zu geben, der Ihnen einen schnellen Einstieg in das Browser-DOM ermöglicht. Dabei ist die Reihenfolge der Lektionen auf den Lernfortschritt ausgerichtet, und nicht auf schnelles Auffinden von Themen optimiert. Wir erheben auch keinen Anspruch auf Vollständigkeit, sondern beschränken uns bewusst auf die Dinge, die für Sie als Einsteiger zunächst am wichtigsten sind &mdash; das &raquo;Big Picture&laquo; sozusagen.</p>
            <p>Wenn Sie später bei Ihrer täglichen Entwicklungsarbeit alle Details benötigen, empfehlen wir Ihnen folgende Websites:</p>
            <ul>
                <li><a href="http://www.mozdev.org">www.mozdev.org</a> &mdash; Mozilla Developer Network (MDN)<br/>Das MDN ist viel mehr als eine Referenz für den Firefox-Browser. Sie finden hier sowohl ausführliche Details zum JS-Sprachkern als auch zur Browser-Funktionalität. Selbst Tabellen, welcher Browser welches Feature ab welcher Version implementiert, sind vorhanden&nbsp;&mdash; häufig mit Polyfills (Code, der das Feature nachrüstet) für den Fall der Fälle.</li>
                <li><a href="http://www.webplatform.org">www.webplatform.org</a><br/>Ein gemeinsames Dokumentationsprojekt vom W3C, Microsoft, Adobe und anderen. Sehr gute und ausführliche Dokumentation zu HTML5 und CSS. Die JS-Dokumentation ist noch in Arbeit, aber schon vielversprechend.</li>
                <li><a href="http://caniuse.com">caniuse.com</a><br/><i>Kann ich ein bestimmtes Feature benutzen?</i> Diese Site kennt die Antwort. Ausführliche Übersichten zu neuen Features in HTML, CSS und JS mit Angaben zu den Browserversionen und Hinweisen zu Polyfills.</li>
            </ul>
            <hint src="images/hint/owl.png">
                <p>Falls Sie nach JS-Inhalten googeln möchten, ist es ratsam, ein &raquo;mdn&laquo; zu ergänzen, damit Sie gleich auf der passenden Seite des Mozilla Developer Networks landen &mdash; sonst besteht die Gefahr, dass Sie Seiten in der Trefferliste finden, deren Erklärungen veraltet oder schlichtweg falsch sind.</p>
            </hint>
            <h1>Warum Firefox?</h1>
            <p>Wir setzen Mozilla-Firefox (Version 46+, englische Fassung) als Beispielbrowser für diesen Kurs ein. Firefox hat den Vorteil, dass er bereits alle ES6-Features unterstützt, die wir verwenden. </p>
            <p>Im Grunde spricht nichts dagegen, wenn Sie lieber einen anderen Browser verwenden möchten. Sie sollten nur sicherstellen, dass der Browser bereits über die eingesetzten ES6-Features verfügt. Eine Übersicht über den Stand der ES6-Unterstützung finden Sie in der <a href="http://kangax.github.io/compat-table/es6/">ES6 compatibility table</a>.</p>
            <h1>Projekt &raquo;NerdWorld&laquo;</h1>
            <p>Im ersten Band haben wir das Projekt <i>NerdWorld</i> mit seinem Auftraggeber <i>Björn</i> vorgestellt. NerdWorld ist ein fiktives Projekt, anhand dessen Sie viel über JS lernen können &mdash; vor allem auch, wo und wie Sie JS sinnvoll einsetzen.</p>
            <p>Auch dieses Mal hat Björn wieder jede Menge für Sie zu tun und stellt Sie vor interessante Herausfordungen. Herausfordungen, die Sie Dank JavaScript natürlich <b>mühelos</b> bewältigen!</p>
            <p>Wenn Sie das Projekt bereits aus dem Kursteil <i>JavaScript - Aller Anfang ist leicht</i> kennen, können Sie den folgenden Abschnitt überspringen. Ansonsten wiederholen wir hier noch mal die Projektbeschreibung.</p>
            <h3>Ein Kundengespräch</h3>
            <p>Stellen Sie sich vor, Ihr erster Kunde ist <i>Björn</i> &mdash; ein Ladenbesitzer, der seine Produkte nun auch im Internet anbieten möchte. Der Laden heißt &raquo;<i>NerdWorld</i>&laquo; (das Beispiel ist fiktiv &mdash; Sie können sich das Googeln sparen). </p>
            <p>NerdWorld ist ein Online-Shop, bei dem Nerds und andere Technik-Verrückte Produkte des &raquo;täglichen Bedarfs&laquo; kaufen: Nerfguns, Ufos mit USB-Anschluss, Klingonenwaffen fürs Büro, koffeinhaltige Getränke, stark koffeinhaltige Getränke, noch stärker koffeinhaltige Getränke usw. Eben alles, was der moderne Entwickler zum Überleben im Büro-Dschungel so braucht.</p>
            <p>Es gibt zwar schon eine statische HTML-Site, nur können Sie dort bisher keine Produkte kaufen. Die neue Site soll primär aus einem Shop bestehen. Um das Ganze etwas interessanter zu gestalten, sind außerdem weitere Features geplant oder sollen weiterentwickelt werden, wie z.&thinsp;B.</p>
            <ul>
                <li>ein Chat-Client, über den sich die Kunden mit den Verkäufern/Kundenberatern austauschen</li>
                <li>eine Newsletter-Funktion, mit der der Shop die Kunden über neue Produkte informiert</li>
                <li>ein Newsboard, auf dem die Kunden die neuesten Neuigkeiten erfahren.</li>
            </ul>
            <p>Damit dieser Traum auch Realität wird, hat sich der Geschäftsführer an einen Spezialisten gewandt: an Sie! Sie treffen sich also mit ihm, und er schildert Ihnen die Situation:</p>
            <hint src="images/hint/bjoern.png">
                <p>Seit Jahren verkaufen wir cooles Zeug für Nerds &mdash; oder solche, die es werden wollen. Unsere Produktpalette reicht von Star Trek-Fanartikeln über Programmierer-Utensilien bis hin zu smartphonegesteuerten Mini-Drohnen und Scherzartikeln wie dem Elektroschock-Kugelschreiber.</p>
            </hint>
            <p>Im Laufe dieses Kurses werden wir immer wieder auf <i>Projekt NerdWorld</i> zu sprechen kommen und Ihnen zeigen, wie Sie die Anforderungen mit JS und dem DOM bewältigen.</p>
        </lesson>
        <lesson>
            <lesson_name>Jetzt werden Sie Manipulator</lesson_name>
            <topics>
                <li>wie das DOM aufgebaut ist,</li>
                <li>und wie Sie es zu Ihren Gunsten verändern können.</li>
                <li>wie Sie mit Hilfe von Selektoren alles im DOM finden können.</li>
                <li>die wichtigsten Funktionen für die Arbeit mit dem DOM kennen.</li>
            </topics>
            <h1>&raquo;Hello DOM&laquo; mit querySelector und innerHTML</h1>
            <figure width="50%">
                <img src="images/photos/hello_world_toast.jpg"/>
                <figcaption>Foto: <a href="https://www.flickr.com/photos/oskay/472097903/sizes/o/in/photostream">oskay</a>
                    <br/>Lizenz: <a href="http://creativecommons.org/licenses/by/2.0">CC BY 2.0</a></figcaption>
            </figure>
            <p>Jedes ernstzunehmende Buch und jeder Kurs über Programmierung beginnt mit einem <i>Hello World</i>-Beispiel. Natürlich wollen wir mit dieser Tradition nicht brechen. In Band 1 haben Sie <i>Hello World</i> auf der Konsole ausgegeben. In diesem Kurs geht es nun um die HTML-Struktur. Also &raquo;sagen&laquo; Sie erst einmal <i>Hello World</i> auf einer HTML-Seite. Sie benötigen dafür:</p>
            <ol>
                <li>eine einfache HTML-Seite (<a href="#simple_empty_html"/>)</li>
                <li>Die JavaScript-Konsole des Browsers</li>
            </ol>
            <figure id="simple_empty_html">
                <blockcode numbered="numbered" type="html" src="accompanying_files/02/examples/simple.html"/>
                <figcaption>Einfaches HTML-Document</figcaption>
            </figure>
            <figure id="hello_world_firefox" width="70%">
                <img src="images/screenshots/hello_world_firefox.png"/>
                <figcaption>Hello World in Firefox</figcaption>
            </figure>
            <walkthrough>
                <name/>
                <content>
                    <step>Öffnen Sie das HTML-Dokument aus <a href="#simple_empty_html"/> in Firefox. Die Datei finden Sie im Kurs-Begleitmaterial unter <i>02/examples/simple.html</i></step>
                    <step>
                        <p>Öffnen Sie die Web-Konsole (<kbd>ctrl-shift-K</kbd>) und geben Sie folgenden Code in die JavaScript-Befehlszeile ein (<a href="#hello_world_firefox"/>):</p>
                        <blockcode type="html">document.querySelector('h1').innerHTML = '&lt;em&gt;Hello&lt;/em&gt; DOM';</blockcode>
                    </step>
                </content>
            </walkthrough>
            <p>Sobald Sie die Zeile mit <kbd>Enter</kbd> bestätigen, ändert sich die Überschrift von <i>Hello World</i> nach <i>Hello DOM</i> &mdash; mit entsprechend geändertem Markup (siehe <a href="#hello_dom_firefox"/>).</p>
            <figure id="hello_dom_firefox" width="70%">
                <img src="images/screenshots/hello_dom_firefox.png"/>
                <figcaption>Hello DOM in Firefox</figcaption>
            </figure>
            <h1>Ein Blick hinter die Kulissen</h1>
            <p>Wie funktioniert das?</p>
            <p>Sehen Sie sich das Ganze nochmal in Zeitlupe an. Na gut, wir haben leider keine richtige Zeitlupe, aber wir können zurückspulen (mit einem Browser-Reload) und uns die beiden Teile der Anweisung als Einzelschritte ansehen.</p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>Laden Sie also die HTML-Seite neu (<kbd>ctrl-R</kbd> bzw. <kbd>cmd-R</kbd>), um wieder zur ursprünglichen <i>Hello World</i>-Seite zurückzukehren.</step>
                    <step>Geben Sie nur <code>document.querySelector('h1')</code> (ohne Zuweisung danach) ein.</step>
                </content>
            </walkthrough>
            <figure width="30%">
                <img src="images/screenshots/queryselector_console.png"/>
            </figure>
            <p>Mit der Funktion <code>document.querySelector</code> können Sie HTML-Elemente innerhalb des HTML-Dokumentes auswählen. Der Parameter ist ein beliebiger CSS-Selektor. So liefert Ihnen <code>document.querySelector('h1')</code> das erste <code>h1</code>-Element als JS-Objekt zurück.</p>
            <p>Bisher haben wir den Begriff <keyword>Objekt</keyword> noch nicht genauer definiert. Im Moment ist aber nur wichtig, dass Objekte Werte sind, wie Zahlen oder Strings. Objekte können auch komplexere Dinge repräsentieren, wie hier z.&thinsp;B. das <code>h1</code>-Element.</p>
            <p>Im Übrigen können Sie das <code>h1</code>-Element in der Konsole untersuchen. Beim Mouse-Over wird es im HTML-Dokument hervorgehoben. Klicken Sie das Symbol <icon src="images/icons/firefox_inspect.png"/> daneben an, zeigt der Firefox-Inspector, wo es sich im HTML-Baum befindet (siehe <a href="#h1_im_dom"/>).</p>
            <figure width="40%" id="h1_im_dom">
                <img src="images/screenshots/h1_in_dom_tree.png"/>
                <figcaption>h1 im Firefox-Inspector</figcaption>
            </figure>
            <p>Der Rückgabewert der Funktion <code>document.querySelector</code> ist also ein JS-Objekt, das ein Element im HTML-Baum repräsentiert. Genauer gesagt ist es ein sogenanntes Element-Objekt. Objekte in JS haben <keyword>Eigenschaften</keyword> (engl. <keyword>properties</keyword>). Eine wichtige Eigenschaft, speziell von Element-Objekten, ist <i>innerHTML</i>. Sie ermitteln ihren Wert mit Hilfe der Punkt-Notation, z.&thinsp;B. <code>document.querySelector('h1').innerHTML</code></p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>
                        <p>Geben Sie jetzt in die Konsole ein:</p>
                        <blockcode>document.querySelector('h1').innerHTML</blockcode>
                    </step>
                </content>
            </walkthrough>
            <p>Sie erhalten als Ausgabe:</p>
            <blockcode type="html">Hello &lt;em&gt;World&lt;/em&gt;</blockcode>
            <p><code>document.querySelector('h1')</code> liefert das Element-Objekt zurück, dessen Eigenschaft <i>innerHTML</i> Sie abfragen. Der Wert von <code>innerHTML</code> ist ein String mit dem <i>inneren HTML</i> des jeweiligen Elementes &mdash; also dem HTML-Quellcode, der sich innerhalb der Tags befindet.</p>
            <p>Die Punktnotation funktioniert auch mit anderen Objekten &amp; Eigenschaften. Die Schreibweise hat dabei immer die Form: <code>&lt;Objekt&gt;.&lt;Eigenschaft&gt;</code></p>
            <figure width="70%">
                <img src="images/language_dependent/de/object_attribute.png"/>
            </figure>
            <p>Sie können Eigenschaften ähnlich wie Variablen verwenden. Genauso wie bei einer Variable können Sie auch Eigenschaften neue Werte zuweisen. Sobald Sie der Eigenschaft <code>innerHTML</code> einen neuen Wert zuweisen, ändert sich die HTML-Seite.</p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>
                        <p>Geben Sie ein:</p>
                        <blockcode>document.querySelector('h1').innerHTML = 'Hello again!';</blockcode>
                    </step>
                </content>
            </walkthrough>
            <p>Damit Sie uns auch glauben, dass Objekte tatsächlich einfach nur Werte sind, sind wir Ihnen noch einen Beweis schuldig. Hier ist er: Sie können ein Objekt, wie jeden anderen Wert, einfach an einen Variablennamen binden.</p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>
                        <p>Geben Sie ein:</p>
                        <blockcode>let myH1 = document.querySelector('h1');
myH1.innerHTML = 'Hello once more!';</blockcode>
                    </step>
                </content>
            </walkthrough>
            <p>Außerdem liefert Ihnen nun die Eingabe von <code>myH1</code> in der Konsole wieder das HTML-Element-Objekt zurück.</p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>
                        <p>Probieren Sie es aus! Geben Sie einfach nur ein:</p>
                        <blockcode>myH1</blockcode>
                    </step>
                </content>
            </walkthrough>
            <exercise>
                <name>Almost Famous Quotes</name>
                <content>
                    <blockcode numbered="numbered" src="accompanying_files/02/examples/quotes.html" id="quotes" type="html"/>
                    <step>
                        <p>Ändern Sie mit Hilfe von JS die Überschrift (<code>h1</code>) der HTML-Seite aus <a href="#quotes"/> in <i>Almost Famous Quotes</i>.</p>
                    </step>
                    <step>
                        <p>Die Seite (<a href="#quotes"/>) enthält ein leeres <code>blockquote</code>-Element. Öffnen Sie die HTML-Seite in Firefox. Geben Sie in der Konsole eine Zeile JS-Code ein, die das Element mit folgendem Inhalt befüllt:</p>
                        <blockcode type="html">
                        &lt;p&gt;I have always wished for my computer to be as easy to use as my telephone; my wish has come true because I can no longer figure out how to use my telephone.&lt;/p&gt;
                        &lt;footer&gt;&mdash; &lt;cite&gt;Bjarne Stroustrup&lt;/cite&gt;&lt;/footer&gt;
                    </blockcode>
                    </step>
                </content>
                <answer>
                    <ol>
                        <li>
                            <blockcode>
                                document.querySelector('h1').innerHTML = 'Almost Famous Quotes';
                            </blockcode>
                        </li>
                        <li>
                            <blockcode>
                                document.querySelector('blockquote').innerHTML = '"&lt;p&gt;I have always wished for my computer to be as easy to use as my telephone; my wish has come true because I can no longer figure out how to use my telephone.&lt;/p&gt;&lt;footer&gt;&mdash; &lt;cite&gt;Bjarne Stroustrup&lt;/cite&gt;&lt;/footer&gt;';
                            </blockcode>
                        </li>
                    </ol>
                </answer>
            </exercise>
            <h1>Vom Suchen und Finden im DOM </h1>
            <p>Sie haben gesehen, dass <code>document.querySelector</code> HTML-Elemente als JS-Objekte extrahieren kann. Tatsächlich ist das ganze HTML-Dokument nichts anderes als eine Sammlung von HTML-Elementen, die in einer Baumstruktur angeordnet sind. Äquivalent dazu sind die passenden JS-Objekte ebenfalls in einem Baum angeordnet &mdash; dem sogenannten <keyword>Document Object Model</keyword>, kurz <keyword>DOM</keyword>. Für die einfache HTML-Seite aus <a href="#dom_sample_html"/> sieht das DOM beispielsweise wie in <a href="#dom_sample_tree"/> aus.</p>
            <blockcode numbered="numbered" src="accompanying_files/02/examples/dom_example.html" id="dom_sample_html" type="html"/>
            <figure id="dom_sample_box" width="30%">
                <img src="images/graphs/dom_box.png"/>
                <figcaption>Visualisierung der verschachtelten HTML-Struktur</figcaption>
            </figure>
            <figure id="dom_sample_tree">
                <img src="images/graphs/dom_tree.png"/>
                <figcaption>Baumstruktur der HTML-Seite</figcaption>
            </figure>
            <p>Die Funktion <code>document.querySelector</code> selektiert immer das erste Element, das dem übergebenen CSS-Selektor entspricht, und gibt es zurück. Der Selektor kann dabei ein beliebiger valider CSS-Selektor sein. <a href="#css-selectors"/> zeigt die wichtigsten.</p>
            <table id="css-selectors">
                <caption>Basis CSS3-Selektoren</caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Universal selector</td>
                        <td>
                            <blockcode type="css">*</blockcode>
                        </td>
                        <td>Selektiert ein beliebiges Element. Diesen Selektor sollten Sie nicht ohne weitere Einschränkungen verwenden, da das Selektieren <b>aller</b> Elemente einer Webseite sehr viel Rechenzeit in Anspruch nehmen kann.</td>
                    </tr>
                    <tr>
                        <td>Type selector</td>
                        <td>
                            <blockcode type="css">h1</blockcode>
                        </td>
                        <td>Selektiert alle Elemente eines bestimmten Typs.</td>
                    </tr>
                    <tr>
                        <td>ID selector</td>
                        <td>
                            <blockcode type="css">#some-id</blockcode>
                        </td>
                        <td>Selektiert genau <b>ein</b> Element mit der gegebenen <code>id</code>.</td>
                    </tr>
                    <tr>
                        <td>Class selector</td>
                        <td>
                            <blockcode type="css">.some-class</blockcode>
                        </td>
                        <td>Selektiert alle Elemente, denen die angegebene Klasse zugewiesen wurde. Beachten Sie, dass ein Element mehrere Klassen haben kann.</td>
                    </tr>
                    <tr>
                        <td>-</td>
                        <td>
                            <blockcode type="css">h1, p, .go</blockcode>
                        </td>
                        <td>Das Komma ist selbst kein Selektor, sondern erlaubt es, mehrere Selektoren zu kombinieren. Im Beispiel würden alle <code>h1</code>-Elemente, alle <code>p</code>-Elemente und alle Elemente mit der Klasse <code>go</code> selektiert.</td>
                    </tr>
                </tbody>
            </table>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 1</name>
                <content>
                    <figure float="none" width="40%">
                        <img src="images/photos/binary_mug.png"/>
                        <figcaption>Hot Binary Heat Changing Mug, <a href="http://www.thinkgeek.com/product/2024/?srp=6">© 2016 ThinkGeek, Inc. All Rights Reserved.</a></figcaption>
                    </figure>
                    <p>Jetzt sind Sie dran. Schreiben Sie Ihre eigenen Abfragen. Benutzen Sie das folgende HTML-Dokument als Übungsplattform.</p>
                    <blockcode numbered="numbered" id="0100_htmlcode" src="accompanying_files/02/exercises/010010000100111101010100.html" type="html"/>
                    <p>Tippen Sie eine Abfrage in die Konsole, die:</p>
                    <ol>
                        <li>das <code>h1</code>-Element findet.</li>
                        <li>das Element mit der <code>id</code>
                            <i>buy_form</i> findet.</li>
                        <li>das Element mit der <code>id</code>
                            <i>product_img</i> findet.</li>
                    </ol>
                </content>
                <answer>
                    <ol>
                        <li>document.querySelector('h1')</li>
                        <li>document.querySelector('#buy_form')</li>
                        <li>document.querySelector('#product_img')</li>
                    </ol>
                </answer>
            </exercise>
            <h1>&hellip;sie alle zu finden &hellip; &mdash; mit querySelectorAll</h1>
            <hint src="images/hint/bjoern.png">
                <p>Auf unserer News-Seite haben alle Artikel eine eigene Überschrift. Ergänzen Sie bitte ein <code>Aktuell:</code> vor jeder dieser Überschriften.</p>
            </hint>
            <blockcode src="accompanying_files/02/examples/news.html" type="html" id="news"/>
            <p>Es gibt oft Situationen, in denen Sie mehrere Elemente gleichzeitig auslesen oder verändern müssen. Für diese Fälle gibt es die Funktion <code>querySelectorAll</code>. Im Gegensatz zu <code>querySelector</code> liefert sie, statt des ersten Treffers, <b>alle</b> zum Selektor passenden Elemente zurück.</p>
            <p>Öffnen Sie die Seite <i>news.html</i> (<a href="#news"/>) und geben Sie folgenden Code in die Konsole ein.</p>
            <blockcode>document.querySelectorAll('h2')</blockcode>
            <p>Sie erhalten:</p>
            <blockcode>NodeList [ &lt;h2&gt;, &lt;h2.news&gt;, &lt;h2.news&gt;, &lt;h2.news&gt;, &lt;h2.news&gt; ]</blockcode>
            <p>Eine <keyword>NodeList</keyword> ist ein Objekt, das mehrere Elemente (Knoten/Nodes) in einer Liste zusammenfasst. Der Begriff <i>Knoten</i> ist dabei im Sinne des HTML-Baums gemeint. Ein Knoten hat immer nur ein Eltern-Element, kann aber beliebig viele (oder auch gar keine) Kind-Elemente haben. </p>
            <p>Die <i>NodeList</i> verhält sich ähnlich wie ein Array. Sie können mit dem Index-Operator darauf zugreifen. So gibt Ihnen z.&thinsp;B. </p>
            <blockcode>document.querySelectorAll('h2')[0].innerHTML</blockcode>
            <p>den Text der ersten <code>h2</code>-Überschrift zurück, also im Beispiel den Text <i>Lorem ipsum dolor sit amet.</i></p>
            <p>Wenn Sie wissen möchten, wie viele Knoten der Selektor gefunden hat, oder ob
                überhaupt ein Element zum Selektor passt, können Sie, wie bei einem Array, die
                Eigenschaft <code>length</code> abfragen:</p>
            <blockcode>document.querySelectorAll('h2').length // =&gt; 5</blockcode>
            <blockcode>document.querySelectorAll('img').length === 0 // =&gt; true, means no images found</blockcode>
            <p>Um nun Björns Anforderung zu erfüllen, genügt es natürlich nicht, die Überschriften nur zu selektieren. Sie müssen die Überschriften ändern, oder besser gesagt, den Text innerhalb der Überschriften-Tags.</p>
            <p>Dazu müssen Sie die Überschriften aus der <i>NodeList</i> mit einem <code>forEach</code> durchlaufen.</p>
            <blockcode numbered="numbered">
                const headings = document.querySelectorAll('h2');
                headings.forEach(h =&gt; console.log(h.innerHTML));
            </blockcode>
            <p>Es handelt sich hier übrigens um einen mehrzeiligen Code, den Sie sicherlich speichern möchten: Daher ist es besser, wenn Sie Ihre Konsole nun in den mehrzeiligen Modus schalten (<kbd>strg-b</kbd>). Mit (<kbd>strg-enter</kbd>) können Sie nun Ihre Eingaben abschließen.</p>
            <figure>
                <img src="images/screenshots/firefox-console.png"/>
            </figure>
            <p>Statt die Überschriften nur auszugeben, sollten Sie diese nun ändern.</p>
            <blockcode numbered="numbered">
                const headings = document.querySelectorAll('h2');
                headings.forEach(h =&gt; h.innerHTML = 'Aktuell: ' + h.innerHTML);
            </blockcode>
            <figure width="80%">
                <img src="images/screenshots/news_innerHTML.png"/>
            </figure>
            <hint>
                <h3>Die NodeList</h3>
                <p>Schauen wir uns die NodeList nun einmal genauer an. Sie ähnelt im ersten Moment
                    sehr stark dem Array. So können Sie eine NodeList mittels Index-Operator
                    adressieren, die NodeList besitzt das Attribut <code>length</code> und Sie
                    können mit der Funktion <code>forEach()</code> über die NodeList iterieren.
                    Leider enden hier bereits die Gemeinsamkeiten. So besitzt die NodeList keine der
                    restlichen, Ihnen bekannten, Array-Funktionen.</p>
                <p>Abhilfe schafft die Funktion <code>Array.from()</code>. Mit dieser Funktion
                    können Sie die NodeList in ein Array konvertieren und danach wieder alle Ihnen
                    bekannten Array-Funktionen verwenden. Für weitere Details können Sie gerne einen
                    Blick in die <a href="https://developer.mozilla.org/de/docs/Web/API/NodeList">Dokumentation</a> werfen.</p>
            </hint>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 2</name>
                <content>
                    <p>Basteln Sie noch etwas an der Artikel-Seite weiter. Schreiben Sie Ihre eigenen Abfragen. Benutzen Sie wieder das HTML-Dokument aus <a href="#0100_htmlcode"/> als Übungsplattform.</p>
                    <p>Tippen Sie eine Abfrage in die Konsole, die:</p>
                    <ol>
                        <li>alle <code>li</code>-Elemente findet.</li>
                        <li>alle <code>h2</code>-Elemente findet.</li>
                        <li>alle Elemente mit der Klasse <i>special</i> findet.</li>
                        <li>alle <code>li</code>-Elemente mit der Klasse <i>keyword</i> findet.</li>
                        <li>alle <code>span</code>-Elemente mit der Klasse <i>special</i> findet.</li>
                        <li>alle Elemente findet, die die Klassen <i>i</i> UND <i>b</i> haben.</li>
                    </ol>
                </content>
                <answer>
                    <ol>
                        <li>document.querySelectorAll('li')</li>
                        <li>document.querySelectorAll('h2')</li>
                        <li>document.querySelectorAll('.special')</li>
                        <li>document.querySelectorAll('li.keyword')</li>
                        <li>document.querySelectorAll('span.special')</li>
                        <li>document.querySelectorAll('.i.b')</li>
                    </ol>
                </answer>
            </exercise>
            <exercise>
                <name>Makler und Anwälte&hellip;</name>
                <content>
                    <figure width="70%">
                        <img src="images/exercises/real_estate.png"/>
                        <figcaption>additional_files/02/exercises/real_estate.html</figcaption>
                    </figure>
                    <p>Stellen Sie sich vor, Sie haben die fertige Website einer Immobilien-Firma in der &raquo;Schublade&laquo;. Nun haben Sie einen neuen Kunden &mdash; eine Anwaltskanzlei &mdash; und finden, dass sich das Layout der Website der Makler auch perfekt für die Anwälte eignen würde. Natürlich können Sie dem neuen Kunden den &raquo;neuen&laquo; Entwurf nicht mit den Texten der Makler vorstellen. Damit Sie nicht mühevoll mit copy &amp; paste hantieren müssen, schreiben Sie Code, der die vorhandenen Texte gegen <b>Blind-Texte</b> austauscht. Sie können dafür einen der berüchtigten Lorem Ipsum-Generatoren (oder natürlich das geniale <a href="https://baconipsum.com">Bacon Ipsum</a> bzw. <a href="http://veggieipsum.com">Veggie Ipsum</a> &mdash; je nach persönlichem Geschmack) verwenden.</p>
                    <step>Schreiben Sie eine Funktion, die den Inhalt aller <code>h1</code>-Tags austauscht.</step>
                    <step>Schreiben Sie eine weitere Funktion, um den Inhalt der <code>p</code>-Tags auszutauschen.</step>
                    <step>Auch die Navigationspunkte sollen ausgetauscht werden.</step>
                </content>
                <answer>
                    <ol>
                        <li>
                            <blockcode numbered="numbered">
                              const headings = document.querySelectorAll('h1');
                              headings.forEach(h =&gt; h.innerHTML = 'Lorem ipsum');
                           </blockcode>
                        </li>
                        <li>
                            <blockcode numbered="numbered">
                              const text = document.querySelectorAll('p');
                              text.forEach(p =&gt; p.innerHTML = 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi.');
                            </blockcode>
                        </li>
                        <li>
                            <blockcode numbered="numbered">
                              const menuItems = document.querySelectorAll('#main_menu a');
                              menuItems.forEach(a =&gt; a.innerHTML = 'Lorem');
                            </blockcode>
                        </li>
                    </ol>
                </answer>
            </exercise>
            <h2>Attribut-Selektoren</h2>
            <p>Die letzte Übung war eine nette Fingerübung, aber es gibt noch viel mehr CSS-Selektoren &mdash; diese sind natürlich, wie alle CSS-Selektoren, auch in JS verwendbar.</p>
            <p>Die nächsten CSS-Selektoren, die Sie sich anschauen sollten, sind die sogenannten <keyword>attribute selectors</keyword>. Mit ihrer Hilfe können Sie auf Elemente mit bestimmten Attributen und Werten zugreifen. <a href="#attribute_selectors"/> zeigt eine Übersicht.</p>
            <table id="attribute_selectors">
                <caption>CSS attribute selectors. All examples select &lt;img src="funny_cat.png" ... /&gt;</caption>
                <thead>
                    <tr>
                        <th>Selektor</th>
                        <th>Beispiel zu<br/><code>&lt;img src="funny_cat.png" ... /&gt;</code></th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>[<i>attr</i>]</td>
                        <td>
                            <blockcode type="css">[src]</blockcode>
                        </td>
                        <td>Selektiert Elemente mit dem angegebenen Attribut. Der Attributwert spielt dabei keine Rolle (<keyword>attribute presence</keyword>).</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src='funny_cat.png']</blockcode>
                        </td>
                        <td>Selektiert Elemente, die das angegebene Attribut (<i>src</i>) mit genau dem angegebenen Wert (<i>funny_cat.png</i>) enthalten (<keyword>exact attribute match</keyword>).</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>*=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src*=cat]</blockcode>
                        </td>
                        <td>Selektiert Elemente, bei denen das angegebene Attribut (<i>src</i>) den Wert (<i>cat</i>) als Teilstring enthält (<keyword>substring attribute match</keyword>).</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>^=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src^=funny]</blockcode>
                        </td>
                        <td>Selektiert Elemente, bei denen das angegebene Attribut (<i>src</i>) mit dem Wert (<i>funny</i>) beginnt.</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>$=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src$=png]</blockcode>
                        </td>
                        <td>Selektiert Elemente, bei denen das angegebene Attribut (<i>src</i>) auf den angegebenen Wert (<i>png</i>) endet.</td>
                    </tr>
                </tbody>
            </table>
            <h2>Combinator Selectors</h2>
            <p>Als Nächstes werfen wir einen Blick auf die <keyword>combinator selectors</keyword>. Sie erlauben Ihnen, Elemente anhand ihrer Beziehung zu anderen Elementen zu finden. Das einfache Leerzeichen, das Sie vermutlich schon kennen, ist ein solcher combinator. Sie können damit die Nachfahren eines angegebenen Elementes selektieren. In <a href="#combinator_selectors"/> finden Sie weitere combinator selectors.</p>
            <blockcode src="accompanying_files/02/examples/selector_testing.html" id="selector_testing" type="html"/>
            <table id="combinator_selectors">
                <caption>Combinator Selectors &mdash; Ergebnisse basieren auf <a href="#selector_testing"/></caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Descendant combinator (Leerzeichen)</td>
                        <td>
                            <blockcode type="css">li span</blockcode>
                        </td>
                        <td>Selektiert Elemente (hier <code>span</code>), die die Nachfahren eines anderen angegebenen Elements (hier <code>li</code>) sind &mdash; völlig unabhängig davon, wie viele Ebenen dazwischen liegen.<p><b>Ergebnis:</b>
                                <code>[&lt;span&gt;11&lt;/span&gt;, &lt;span&gt;21&lt;/span&gt;,
                                    &lt;span&gt;22&lt;/span&gt;]</code></p></td>
                    </tr>
                    <tr>
                        <td>Adjacent sibling combinator (+)</td>
                        <td>
                            <blockcode type="css">li#li11 + li</blockcode>
                        </td>
                        <td>Mit diesem Selektor können Sie das Element auswählen, das im HTML-Quelltext <b>direkt nach</b> dem angegeben Element (hier <code>li#li11</code>) auf der gleichen Ebene (Geschwister-Element) folgt. Falls das im Dokument nachfolgende Element nicht dem hinter dem +-Symbol angegebenen entspricht, wird nichts selektiert.<p><b>Ergebnis:</b>
                                <code>[&lt;li id="li12"&gt;12&lt;/li&gt;]</code></p></td>
                    </tr>
                    <tr>
                        <td>General sibling combinator (~)</td>
                        <td>
                            <blockcode type="css">li#li12 ~ li</blockcode>
                        </td>
                        <td>Mit diesem Selektor können Sie alle Elemente auswählen, die im Dokument nach dem angegebenen Element (hier <code>li#li12</code>) auf der gleichen Ebene (Geschwister-Element) folgen. Es wird <b>nicht nur das direkt folgende</b> Element gewählt, wie beim <i>Next sibling combinator</i>.<p><b>Ergebnis:</b>
                                <code>[&lt;li id="li13"&gt;13&lt;/li&gt;, &lt;li
                                    id="li14"&gt;14&lt;/li&gt;]</code></p></td>
                    </tr>
                    <tr>
                        <td>Child combinator (&gt;)</td>
                        <td>
                            <blockcode type="css">li &gt; span</blockcode>
                        </td>
                        <td>Eine Variante der Nachfahren-Selektoren sind die Kind-Selektoren, mit denen Sie Elemente auswählen können, die <b>direkte</b> &raquo;Kinder&laquo; von übergeordneten Eltern-Elementen sind.<br/>Im Beispiel werden nur <code>span</code>-Elemente selektiert, die sich direkt innerhalb eines <code>li</code>-Elements befinden. <code>&lt;span&gt;22&lt;/span&gt;</code> befindet sich in einem <code>strong</code>-Element und wird deswegen nicht selektiert.<p><b>Ergebnis:</b>
                                <code>[&lt;span&gt;11&lt;/span&gt;, &lt;span&gt;21&lt;/span&gt;]</code></p></td>
                    </tr>
                </tbody>
            </table>
            <p>Wie Sie sehen, sind CSS-Selektoren praktisch und einfach zu verwenden. Vermutlich kennen Sie die meisten davon schon längst. Es sollte also nicht schwer sein, sich ein paar weitere zu merken.</p>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 3</name>
                <content>
                    <p>Wenden Sie sich nochmal der 010010000100111101010100-Tasse zu. Benutzen Sie geeignete Selektoren, um </p>
                    <ol>
                        <li>das erste <code>li</code> zu finden, das sich innerhalb der <code>ul</code> mit der <code>id</code>
                            <i>product_specification</i> befindet.</li>
                        <li>das erste <code>span</code>-Element zu finden, das sich innerhalb des ersten <code>h1</code>-Elements mit der CSS-Klasse <i>article</i> befindet.</li>
                        <li>alle Elemente mit der Klasse <i>keyword</i> innerhalb von <code>p</code>-Elementen zu finden.</li>
                        <li>alle <code>li</code>-Elemente innerhalb von <code>ul</code>-Elementen zu finden.</li>
                    </ol>
                </content>
                <answer>
                    <ol>
                        <li>document.querySelector('ul#product_specification li')</li>
                        <li>document.querySelector('h1.article span')</li>
                        <li>document.querySelectorAll('p .keyword')</li>
                        <li>document.querySelectorAll('ul li')</li>
                    </ol>
                </answer>
            </exercise>
            <h2>Pseudo Classes</h2>
            <p>Die sogenannten <i>pseudo classes</i> erlauben eine weitere Spezialisierung der Selektoren.</p>
            <table>
                <caption>Pseudo Classes</caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>:first-child</td>
                        <td>ul li:first-child</td>
                        <td><p>Mit dieser Pseudo-Klasse sprechen Sie das erste Kind-Element eines übergeordneten Containers (hier: <code>ul</code>) an, falls es sich um ein Element vom angegeben Tag-Typ (hier: <code>li</code>) handelt.</p>Sollte das erste Kindelement nicht den richtigen Tag-Typ haben, wird nichts selektiert.</td>
                    </tr>
                    <tr>
                        <td>:nth-child(x)</td>
                        <td>ul li:nth-child(5)</td>
                        <td>Die Pseudo-Klasse spricht das x-te Kind-Element an &mdash; im Beispiel das fünfte Element innerhalb von <code>ul</code>, falls es vom Tag-Typ <code>li</code> ist.</td>
                    </tr>
                    <tr>
                        <td>:last-child</td>
                        <td>ul li:last-child</td>
                        <td>Äquivalent zu <code>:first-child</code> selektieren Sie hier das letzte Kind-Element, sofern es vom richtigen Tag-Typ ist.</td>
                    </tr>
                    <tr>
                        <td>:only-child</td>
                        <td>#article p:only-child</td>
                        <td>Diese Klasse selektiert ein Element nur, wenn es sich um das einzige Kind eines angegebenen Eltern-Elementes handelt.</td>
                    </tr>
                    <tr>
                        <td>:empty</td>
                        <td>div:empty</td>
                        <td>Mit dieser Pseudo-Klasse sprechen Sie nur Elemente an, die ohne Kind-Elemente sind. Inhalt in Form von Text wird dabei ebenfalls als Kind-Element betrachtet.</td>
                    </tr>
                    <tr>
                        <td>:not(selector)</td>
                        <td>:not(span)</td>
                        <td>Negation. Wählt Elemente aus, wenn sie nicht dem in Klammern angegebenen Selektor entsprechen. Im Beispiel würde alles außer <code>span</code>-Elementen ausgewählt.</td>
                    </tr>
                </tbody>
            </table>
            <p>Die vorgestellten Selektoren sind natürlich längst nicht alle, aber damit kommen Sie in der Praxis schon recht weit. Fall es nötig sein sollte, finden Sie weitere Selektoren in der offiziellen <a href="http://www.w3.org/TR/css3-selectors/#attribute-selectors">W3C-specification</a> oder in einer Online-Dokumentation wie <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference">MDN</a> oder <a href="http://docs.webplatform.org/wiki/css/selectors">Webplatform</a>.</p>
            <h1>Document vs. Element</h1>
            <p>Die Methoden <code>querySelector</code> und <code>querySelectorAll</code> lassen sich auf <code>document</code>
                <b>global</b> und auf einzelnen Elementen <b>lokal</b> verwenden. Global heißt, der Selektor durchsucht das gesamte Dokument. Lokal bedeutet, dass nur die Kinder des entsprechenden Element-Knotens zur Suche herangezogen werden.</p>
            <h3>Beispiel</h3>
            <p>HTML-Dokument:</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                  &lt;/ul&gt;
                  &lt;ul id="second_list"&gt;
                    &lt;li&gt;3&lt;/li&gt;
                    &lt;li&gt;4&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <p>JavaScript in der Konsole:</p>
            <figure>
                <blockcode type="html">document.querySelectorAll('li')
// =&gt; &lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;li&gt;4&lt;/li&gt;

document.querySelector('#second_list').querySelectorAll('li')
// =&gt; &lt;li&gt;3&lt;/li&gt;&lt;li&gt;4&lt;/li&gt;            </blockcode>
                <figcaption>// =&gt; zeigt den Rückgabewert</figcaption>
            </figure>
            <h1>Kurz und bündig &mdash; $</h1>
            <p>Viele Bibliotheken und Frameworks aus dem JS-Umfeld, wie z.&thinsp;B. <a href="https://jquery.com">jQuery</a> und <a href="http://prototypejs.org/">Prototype</a>, bringen eine Funktion namens <code>$</code> (bzw. <code>$$</code>) mit. Diese Funktion entspricht mehr oder weniger <code>document.querySelector</code> bzw. <code>document.querySelectorAll</code> &mdash; mit kleinen Unterschieden je nach Implementierung. Da Sie <code>document.querySelector</code> in der Praxis sehr häufig verwenden, wäre die kürzere Schreibweise <code>$</code> extrem nützlich. Ein einzelnes Zeichen ist nicht nur schneller zu tippen, sondern verbessert auch die Lesbarkeit, vor allem bei langen Code-Zeilen.</p>
            <p>Um von der kürzeren Schreibweise zu profitieren, müssen Sie sich aber nicht erst eine komplette Bibliothek oder ein großes Framework in Ihr Projekt reinholen. Sie erreichen den gleichen Effekt mit zwei simplen Funktionen. Verwenden Sie die Funktionen <code>document.querySelector</code> und <code>document.querySelectorAll</code> einfach anstelle der beiden Bezeichner <code>$</code> und <code>$$</code>:</p>
            <blockcode numbered="numbered">
const $  = q =&gt; document.querySelector(q);
const $$ = q =&gt; Array.from(document.querySelectorAll(q));
            </blockcode>
            <p>Das <code>Array.from(&hellip;)</code> erzeugt aus den Aufrufergebnissen der inneren Funktion ein Array. Dadurch können Sie sämtliche Methoden wie <code>map</code>, <code>filter</code>, <code>forEach</code> usw. verwenden. Im Einzelnen können Sie jetzt nochmals im Heft 1 &quot;JavaScript &mdash; Aller Anfang ist leicht&quot; nachlesen.</p>
            <p>Fügen Sie diese beiden Zeilen in Ihren Code ein, stehen Ihnen <code>$</code> und <code>$$</code> als Kurzschreibweisen zur Verfügung. </p>
            <p>Übrigens bringen die Konsolen von Firefox und Chrome die Funktionen <code>$</code> und <code>$$</code> bereits mit. Mit den obigen beiden Zeilen überschreiben Sie die browsereigenen Definitionen.</p>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 4</name>
                <content>
                    <p>Wenden Sie sich nochmal der 010010000100111101010100-Tasse zu. Benutzen Sie geeignete Selektoren, um </p>
                    <ol>
                        <li>alle Bilder zu finden, deren Dateiname auf <code>jpg</code> endet.</li>
                        <li>alle <code>input</code>-Elemente vom Typ <code>button</code> zu finden, die sich innerhalb von Formularen befinden.</li>
                        <li>alle Elemente mit der Klasse <i>model</i> zu finden, die ein Attribut <i>data-model</i> haben, das den Wert <i>V7</i> enthält.</li>
                        <li>alle Bilder zu finden, die <b>nicht</b> die Klasse <code>float_left</code> enthalten.</li>
                        <li>alle <b>zweiten</b> Listenpunkte zu finden.</li>
                        <li>alle Listen (<code>ul</code>) zu finden, die unmittelbar nach einer Überschrift zweiter Ordnung (<code>h2</code>) folgen.</li>
                    </ol>
                </content>
                <answer>
                    <ol>
                        <li>$$('img[src$=jpg]')</li>
                        <li>$$('form input[type=button]')</li>
                        <li>$$('.model[data-model*=V7]')</li>
                        <li>$$('img:not(.float_left)')</li>
                        <li>$$('li:nth-child(2)') oder $$('li:nth-type-of-child(2)') </li>
                        <li>$$('h2 + ul')</li>
                    </ol>
                </answer>
            </exercise>
            <h1>Die wichtigsten CSS-Selektoren im Überblick</h1>
            <h3>Filtern nach HTML-Elementen</h3>
            <p>Bis hier hin haben Sie bereits einige CSS-Selektoren, sowie Funktionen zum Finden von HTML-Elementen kennen gelernt. Um in der Fülle an Informationen einen Überblick zu behalten, bekommen Sie in diesem Kapitel eine kurze Zusammenfassung der am häufigsten verwendeten CSS-Selektoren.</p>
            <p>Am Einfachsten ist es lediglich nach den HTML-Tags zu filtern.</p>
            <blockcode>
document.querySelector('p');

document.querySelectorAll('p');
            </blockcode>
            <p>Der Aufruf <code>document.querySelector()</code> gibt das erste p-Element der HTML-Seite zurück. <code>document.querySelectorAll()</code> gibt hingegen eine NodeList mit allen p-Tags der HTML-Seite zurück. Egal welches HTML-Element Sie haben möchten, Sie können eine der Oben aufgeführten Funktionen verwenden. Möchten Sie nun anstelle der p-Elemente alle div-Elemente erhalten, so schreiben Sie einfach:</p>
            <blockcode>
document.querySelectorAll('div');
</blockcode>
            <h3>Filtern nach ID</h3>
            <p>Häufig suchen Sie jedoch ein bestimmtes Element. Dieses finden Sie am Einfachsten
                über seine ID, vorausgesetzt es besitzt eine. Gewöhnen Sie sich also am besten an,
                Elementen mit einer ID zu versehen.</p>
            <p>Um nun ein Element anhand seiner ID zu finden gibt es mehrere Möglichkeiten. Einerseits können Sie erneut die Funktion <code>document.querySelector()</code> verwenden. Wenn Sie ein Element mit der ID <i>speichern</i> finden möchten, würde der Code wie Folgt aussehen:</p>
            <blockcode>
document.querySelector('#speichern');
            </blockcode>
            <p>Beim Suchen nach IDs müssen Sie die Hashtag <code>#</code> direkt vor die ID
                schreiben. Es.</p>
            <p>Es gibt jedoch eine Alternative, um ein Element anhand seiner ID zu finden. Die
                Funktion <code>document.getElementById()</code> macht genau das, was ihr Name
                vermuten lässt. Sie sucht ein Element mit der übergebenen ID und gibt dieses zurück.
                Bei dieser Funktion müssen Sie die ID des Elements ohne die Hashtag <code>#</code>
                übergeben.</p>
            <blockcode>
document.getElementById('speichern');
</blockcode>
            <h3>Filtern nach Klasse</h3>
            <p>Wenn ihre Applikation wächst, werden Sie häufig versuchen alle Elemente einer Klasse
                zu erhalten. Um dieses Problem zu lösen, können Sie analog zu der Suche anhand der
                ID vorgehen. Das Sonderzeichen, welches signalisiert, dass nach einer Klasse gesucht
                wird ist der Punkt <code>.</code>. Möchten Sie nun alle Elemente finden, welche die
                Klasse <i>schriftB</i> besitzen, dann sieht Ihr Code folgendermaßen aus:</p>
            <blockcode>
document.querySelectorAll('.schriftB');
            </blockcode>
            <h3>Filtern nach Kindelementen</h3>
            <p>Eine auch oft vorkommende Situation ist, dass Sie alle Elemente in einem bestimmten
                Element finden möchten. Beispielsweise möchten Sie alle <code>span</code> Elemente
                erhalten, die sich im Element mit der ID <code>mainText</code> befinden. Der
                Selektor für diese Suche lautet <code>'#mainText span'</code>. Gehen wir den String
                einmal durch. Als erstes kommt die bereits bekannte Schreibweise, um ein Element
                anhand seiner ID zu erhalten. Daraufhin kommt ein Leerzeichen gefolgt von dem
                HTML-Element, welches wir suchen. Unser Argument besteht also aus zwei
                CSS-Selektoren, welche durch ein Leerzeichen getrennt werden. </p>
            <blockcode>
  ...
  &lt;body&gt;
    &lt;p id="mainText"&gt;
        &lt;span&gt;...&lt;/span&gt;
        &lt;span&gt;...&lt;/span&gt;
    &lt;/p&gt;
  &lt;/body&gt;
            </blockcode>
            <blockcode>
document.querySelectorAll('#mainText span');
// => NodeList [ &lt;span&gt;, &lt;span&gt; ]
            </blockcode>
            <p>Allerdings liefert die Funktion alle Elemente, welche sich in dem Element mit der ID
                <code>mainText</code> befinden. Ist unter den Treffern bspw. ein span-Element,
                welches wiederum ein span-Element beinhaltet, so wird das innere span-Element
                ebenfalls ausgegeben. Möchten Sie hingegen nur die Elemente ausgegeben bekommen,
                welche sich unmittelbar in dem Element mit der ID <code>mainText</code> befinden, so
                müssen Sie ihren Parameter-String weiter modifizieren. Dafür gibt es das Zeichen
                <code>&gt;</code>. Dieses wird zwischen beiden Elemeneten unseres Parameter-Strings
                plaziert. Somit lautet der neue Parameter-String <code>'#mainText &gt; span'</code>. </p>
            <blockcode>
  ...
  &lt;body&gt;
    &lt;p id="mainText"&gt;
      &lt;span&gt;...&lt;/span&gt;
      &lt;span&gt;
        &lt;span&gt;...&lt;/span&gt;
      &lt;/span&gt;
    &lt;/p&gt;
  &lt;/body&gt;
            </blockcode>
            <blockcode>
document.querySelectorAll('#mainText span');
// => NodeList [ &lt;span&gt;, &lt;span&gt;, &lt;span&gt; ]


document.querySelectorAll('#mainText &gt; span');
// => NodeList [ &lt;span&gt;, &lt;span&gt; ]
            </blockcode>
            <p>In diesem kurzen Kapitel haben Sie die wichtigsten CSS-Selektoren wiederholt. Für
                viele Situationen genügt es, wenn Sie diese CSS-Selektoren beherrschen. Das heißt
                selbstverständlich nicht, dass Sie die <a
                    href="https://developer.mozilla.org/de/docs/Web/CSS/CSS_Selectors">restlichen
                    CSS-Selektorn</a> nicht lernen sollten.</p>
            <table>
                <thead>
                    <tr>
                        <th>CSS-Selektor</th>
                        <th>Filter</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>'p'</td>
                        <td>HTML-Element</td>
                        <td>liefert das übergebene HTML-Element</td>
                    </tr>
                    <tr>
                        <td>'#mainText'</td>
                        <td>ID</td>
                        <td>liefert das HTML-Element mit der übergebenen ID</td>
                    </tr>
                    <tr>
                        <td>'.schriftB'</td>
                        <td>Klasse</td>
                        <td>liefert das HTML-Element mit der übergebenen Klasse</td>
                    </tr>
                    <tr>
                        <td>'parent child'</td>
                        <td>alle Childelemente in Parentelement</td>
                        <td>liefert alle HTML-Elemente, welche Childelemente des Parentelements
                                sind<p>('parent', 'child' durch entsprechende CSS-Selektoren
                                ersetzen)</p></td>
                    </tr>
                    <tr>
                        <td>'parent > child'</td>
                        <td>direkte Childelemente in Parentelement</td>
                        <td>liefert nur HTML-Elemente, welche direkte Childelemente des
                            Parentelements sind<p>('parent', 'child' durch entsprechende
                                CSS-Selektoren ersetzen)</p></td>
                    </tr>
                </tbody>
            </table>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Diese Tabelle zeigt die wichtigsten Möglichkeiten zur <b>Selektion</b> von DOM-Elementen. Weitere finden Sie im MDN bei den Beschreibungen der entsprechenden APIs: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a> &amp; <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document">Document</a>. </caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                        <th>Interface/API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>querySelector</td>
                        <td>gibt das <b>erste</b> Element zurück, das zum angegebenen Selektor passt. Durchsucht nur Elemente innerhalb des HTML-Teilbaums, auf dessen Wurzelelement <code>querySelector</code> aufgerufen wurde.</td>
                        <td>Element</td>
                    </tr>
                    <tr>
                        <td>querySelectorAll</td>
                        <td>gibt <b>alle</b> Elemente zurück, die zum angegebenen Selektor passen. Durchsucht nur Elemente innerhalb des HTML-Teilbaums, auf dessen Wurzelelement <code>querySelectorAll</code> aufgerufen wurde.</td>
                        <td>Element</td>
                    </tr>
                    <tr>
                        <td>document.querySelector <i>(aka $)</i></td>
                        <td>gibt das <b>erste</b> Element zurück, das zum angegebenen Selektor passt. Durchsucht das gesamte HTML-Dokument. Sollte das Element nicht gefunden werden, ist das Ergebnis <code>null</code>.</td>
                        <td>Document</td>
                    </tr>
                    <tr>
                        <td>document.querySelectorAll <i>(aka $$)</i></td>
                        <td>gibt <b>alle</b> Elemente zurück, die zum angegebenen Selektor passen. Durchsucht das gesamte HTML-Dokument. Die $$-Funktion gibt die gefundenen Elemente als <b>Array</b> mit eben diesen Elementen zurück. Sollte kein Element gefunden werden, ist das Ergebnis ein leeres Array.</td>
                        <td>Document</td>
                    </tr>
                    <tr>
                        <td>document.body</td>
                        <td>gibt das <code>body</code>-Element zurück.</td>
                        <td>Document</td>
                    </tr>
                </tbody>
            </table>
            <h1>Testen Sie Ihr Wissen</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Bestimmen Sie den Rückgabewert von folgendem Ausdruck:</p>
                        <blockcode>document.querySelectorAll('.span img').length</blockcode>
                        <p>zu folgendem HTML-Fragment:</p>
                        <blockcode numbered="numbered">&lt;div&gt;
    &lt;img src="x.png"&gt;
    &lt;span&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;
    &lt;span&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;bar&lt;/em&gt;&lt;/span&gt;&lt;img src="x.png" /&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;bar&lt;/em&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;</blockcode>
                    </question_text>
                    <answer><blank>0</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Bestimmen Sie den Rückgabewert von folgendem Ausdruck:</p>
                        <blockcode>document.querySelectorAll('span &gt; img').length</blockcode>
                        <p>zu folgendem HTML-Codeschnippsel:</p>
                        <blockcode numbered="numbered">&lt;div&gt;
    &lt;img src="x.png"&gt;
    &lt;span&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;
    &lt;span&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;bar&lt;/em&gt;&lt;/span&gt;&lt;img src="x.png" /&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;bar&lt;/em&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;                        </blockcode>
                    </question_text>
                    <answer><blank>3</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Bestimmen Sie den Rückgabewert von folgendem Ausdruck:</p>
                        <blockcode>document.querySelectorAll('div img').length</blockcode>
                        <p>zu folgendem HTML-Codeschnippsel:</p>
                        <blockcode numbered="numbered">&lt;div&gt;
    &lt;img src="x.png"&gt;
    &lt;span&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;
    &lt;span&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;bar&lt;/em&gt;&lt;/span&gt;&lt;img src="x.png" /&gt;&lt;/li&gt;
        &lt;li&gt;&lt;span&gt;&lt;em&gt;bar&lt;/em&gt;&lt;img src="x.png" /&gt;&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;   </blockcode>
                    </question_text>
                    <answer><blank>5</blank></answer>
                </question>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Welches sind geeignete Selektoren, um nur das erste Bild des nachfolgenden HTML-Fragments zu finden?</p>
                        <blockcode type="NOT_DEFINED">&lt;body&gt;
  &lt;img src="gifs/heat_change_mug_a.gif" alt="Heat Changing Mug - Model A" /&gt;
  &lt;img src="gifs/heat_change_mug_b.gif" alt="Heat Changing Mug - Model B" /&gt;
  &lt;img src="gifs/heat_change_mug_c.gif" alt="Heat Changing Mug - Model C" /&gt;
&lt;/body&gt;</blockcode>
                    </question_text>
                    <answer correct="correct">
                        <p>document.querySelector('img[src$=gif]')</p>
                    </answer>
                    <answer>
                        <p>document.querySelectorAll('img[src$=gif]')</p>
                    </answer>
                    <answer>
                        <p>document.querySelectorAll('img[src^=gif]')</p>
                    </answer>
                    <answer correct="correct">
                        <p>document.querySelector('img[src^=gif]')</p>
                    </answer>
                    <answer>
                        <p>document.querySelectorAll('img[gif]')</p>
                    </answer>
                    <answer>
                        <p>document.querySelector('img[gif]')</p>
                    </answer>
                </question>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Benutzen Sie einen geeigneten Selektor, um alle Überschriften der Stufe 3 (<code>h3</code>) zu finden, die unmittelbar nach einem Absatz (<code>p</code>) folgen.</p>
                    </question_text>
                    <answer correct="correct">document.querySelectorAll('p + h3')</answer>
                    <answer>document.querySelectorAll('h3 + p')</answer>
                    <answer>document.querySelectorAll('p - h3')</answer>
                    <answer>document.querySelectorAll('h3 - p')</answer>
                    <answer>document.querySelectorAll('p &gt; h3')</answer>
                    <answer>document.querySelectorAll('h3 &gt; p')</answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Benutzen Sie einen geeigneten Selektor, um alle Überschriften der Stufe 2 (<code>h2</code>) zu finden, die unmittelbar nach einem Bild (<code>img</code>) folgen.</p>
                    </question_text>
                    <answer correct="correct"><code>document.querySelector</code><blank>All(</blank><code>'</code><blank>img + h2</blank><code>'</code><blank>)</blank></answer>
                </question>
            </questions>
        </lesson>
        <lesson>
            <lesson_name>Jetzt geht's ans CSS</lesson_name>
            <topics>
                <li>wie Sie CSS im DOM verwenden können.</li>
                <li>das <code>classList</code> Attribut kennen,</li>
                <li>und dessen wichtigste Funktionen zu benutzen.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Unser Chat-Room erfreut sich gerade großer Beliebtheit. Wenn allerdings gerade mal wieder sehr viele Kunden online sind, kann die Liste recht unübersichtlich werden. Deswegen wünschen sich einige Anwender die Möglichkeit, direkt nach ihren Freunden zu suchen. Dazu möchten sie den gesuchten Namen in einem Suchfeld eingeben. Dann sollen alle Fundstellen in der Liste hervorgehoben werden.</p>
            </hint>
            <p>Wow &mdash; das ist keine einfache Aufgabe, was Björn da von Ihnen verlangt. Aber jedes Problem wird überschaubar, wenn Sie es in Einzelteile zerlegen.</p>
            <h1>Listige Informationen mit classList &amp; DOMTokenList</h1>
            <figure>
                <blockcode numbered="numbered" type="html">
              &lt;ul id="chat_members"&gt;
                &lt;li class="admin"&gt;Heribert&lt;/li&gt;
                &lt;li&gt;Friedlinde&lt;/li&gt;
                &lt;li&gt;Tusnelda&lt;/li&gt;
                &lt;li&gt;Berthold&lt;/li&gt;
                &lt;li&gt;Oswine&lt;/li&gt;
                &lt;li&gt;Ladislaus&lt;/li&gt;
              &lt;/ul&gt;
             </blockcode>
                <figcaption>Ausschnitt aus additional_files/03/examples/chat.html</figcaption>
            </figure>
            <p>Ermitteln Sie zunächst die <code>li</code>-Elemente mit den Teilnehmernamen.</p>
            <blockcode>$$('#chat_members li') // =&gt; Array(6) [ li.admin, li, li, li, li, li ]</blockcode>
            <p>Wie Sie sehen, ist der erste Chat-Teilnehmer, <i>Heribert</i>, zusätzlich mit der Klasse <code>admin</code> gekennzeichnet.</p>
            <p>Um nun einfach mal Heribert als <code>highlighted</code> zu kennzeichnen, greifen Sie ihn gezielt aus dem <i>Array</i> heraus:</p>
            <blockcode>$$('#chat_members li')[0] // =&gt; &lt;li class="admin"&gt;</blockcode>
            <p>Jedes <code>NodeObject</code> hat neben der Eigenschaft <code>innerHTML</code> auch eine Eigenschaft namens <code>classList</code>, die die CSS-Klassen des Objekts repräsentiert. Fragen Sie diese Eigenschaft für das erste Element (d.&thinsp;h. Index <code>0</code>) ab:</p>
            <blockcode>$$('#chat_members li')[0].classList // =&gt; DOMTokenList [ "admin" ]</blockcode>
            <p>Sie erhalten eine sogenannte <i>DOMTokenList</i> zurück, die nur die Klasse <i>admin</i> enthält. Das ist wenig verwunderlich: Heribert ist einer der Administratoren des Chats &mdash; dementsprechend hat sein <code>li</code>-Element die Klasse <i>admin</i>.</p>
            <p>Eine <i>DOMTokenList</i> verhält sich dabei ähnlich wie ein Array. Sie können z.&thinsp;B. die Eigenschaft <code>length</code> verwenden, um die Anzahl der CSS-Klassen zu ermitteln:</p>
            <blockcode>$$('#chat_members li')[0].classList.length // =&gt; 1</blockcode>
            <p>Friedlinde hat überhaupt keine Klasse:</p>
            <blockcode>$$('#chat_members li')[1].classList.length // =&gt; 0</blockcode>
            <p>Mit dem Indexoperator <code>[]</code> können Sie sich die erste Klasse als String herausziehen:</p>
            <blockcode>$$('#chat_members li')[0].classList[0] // =&gt; 'admin'</blockcode>
            <h1 id="classList">classList hat Methode(n)</h1>
            <p>Einen Unterschied zwischen <i>DOMTokenList</i> und Array stellen jedoch die dazugehörigen Funktionen dar. Es gibt kein <code>push</code>, <code>pop</code>, <code>sort</code> usw. Das liegt vor allem daran, dass die Reihenfolge der CSS-Klassen keine Rolle spielt. Statt dessen gibt es die Funktionen <code>add</code>, <code>remove</code>, <code>toggle</code> und <code>contains</code>. </p>
            <h2>Mehr Klasse mit add</h2>
            <p>Fügen Sie mal spaßeshalber Heribert die Klasse <code>highlighted</code> hinzu:</p>
            <blockcode numbered="numbered">$$('#chat_members li')[0].classList.add('highlighted');</blockcode>
            <figure id="heribert_hightlighted">
                <img src="images/screenanimations/chat_add.png"/>
                <figcaption>Chat: &raquo;Heribert&laquo; hervorgehoben</figcaption>
            </figure>
            <p>Wie Sie in <a href="#heribert_hightlighted"/> sehen können, ist Heribert nun hervorgehoben. Außerdem enthält die <code>classList</code> zwei Elemente:</p>
            <blockcode numbered="numbered">
                $$('#chat_members li')[0].classList.length // =&gt; 2
            </blockcode>
            <p>Wenn Sie Heribert nun im Firefox-Inspector betrachten, sehen Sie, dass das <code>li</code>-Element über beide Klassen (<i>admin</i> und <i>highlighted</i>) verfügt. </p>
            <p>Einen weiteren Unterschied erkennen Sie, wenn Sie eine bereits vorhandene Klasse ein weiteres Mal hinzufügen:</p>
            <blockcode numbered="numbered">
                $$('#chat_members li')[0].classList.add('highlighted');
                $$('#chat_members li')[0].classList.length // =&gt; 2
            </blockcode>
            <p>Die <i>DOMTokenlist</i> hat immer noch nur zwei Elemente. In einer <i>DOMTokenList</i> kann im Gegensatz zu einem Array der gleiche Wert nicht mehrfach vorkommen.</p>
            <figure>
                <img src="images/screenanimations/chat_add2.png"/>
            </figure>
            <h2>Was zuviel ist, ist zuviel &mdash; mit remove</h2>
            <p>Wenn Sie eine Klasse lieber wieder loswerden möchten, können Sie dazu <code>remove</code> verwenden.</p>
            <blockcode numbered="numbered">
                 $$('#chat_members li')[0].classList.remove('highlighted');
                 $$('#chat_members li')[0].classList.length // =&gt; 1
            </blockcode>
            <h2>Wechselspiel mit toggle</h2>
            <p>Die Funktion <code>toggle</code> schaltet sogar zwischen Hinzufügen und Entfernen hin und her. Geben Sie folgenden Code mindestens zweimal ein, um den Effekt zu beobachten:</p>
            <blockcode>
                 $$('#chat_members li')[0].classList.toggle('highlighted');
            </blockcode>
            <!--img animation_src="images/screenanimations/chat_toggle.gif"
                src="images/screenanimations/chat_toggle.png" -->
            <h2>Are you there? &mdash; mit contains</h2>
            <p>Zu guter Letzt können Sie noch prüfen, ob eine bestimmte Klasse vorhanden ist:</p>
            <blockcode numbered="numbered">
                $$('#chat_members li')[0].classList.contains('admin'); // =&gt; true
                $$('#chat_members li')[0].classList.contains('i_am_not_here'); // =&gt; false
            </blockcode>
            <h1>Nur highlighten, was man highlighten will &mdash; mit filter</h1>
            <p>Nun wissen Sie, wie Sie einen Teilnehmer hervorheben können. Sie müssen nur noch herausfinden, <b>welche</b> Teilnehmer Sie hervorheben müssen. Tatsächlich müssen Sie aus der Menge aller Teilnehmer erst einmal die <i>herausfiltern</i>, die dem eingegebenen Suchstring entsprechen. Die Funktion <code>filter</code> könnte Ihnen hier weiterhelfen.</p>
            <p>Filtern Sie die Knoten heraus, deren Inhalt (<code>innerHTML</code>) den gesuchten String (z.&thinsp;B. <i>ert</i>) enthält.</p>
            <blockcode numbered="numbered">
                const $$ = q =&gt; Array.from(document.querySelectorAll(q));

const searchFor = 'ert';

const liNodes = $$('#chat_members li');
const liNodesFound = liNodes.filter(liNode =&gt;
  liNode.innerHTML.includes(searchFor));</blockcode>
            <p>Zuletzt fügen Sie jedem gefundenen Teilnehmer noch die Klasse <code>highlighted</code> hinzu:</p>
            <figure id="highlight_chatmembers_ert">
                <blockcode numbered="numbered">
                    const $$ = q =&gt; Array.from(document.querySelectorAll(q));

const searchFor = 'ert';

const liNodes = $$('#chat_members li');
const liNodesFound = liNodes.filter(liNode =&gt;
  liNode.innerHTML.includes(searchFor));

liNodesFound.forEach(li =&gt; li.classList.add('highlighted'));
            </blockcode>
                <figcaption>Highlighten von Mitgliedsnamen, die den String 'ert' enthalten</figcaption>
            </figure>
            <figure width="20%">
                <img src="images/screenshots/chat_with_bert_selected.png"/>
            </figure>
            <h1>Methoden???</h1>
            <p>Fall Sie es nicht bemerkt haben, wir hatten gemeinerweise den Begriff <keyword>Methode</keyword> schon eingeschmuggelt, ohne zu erklären, was Methoden eigentlich sind. Wir entschuldigen uns und werden es nun nachholen.</p>
            <p>Methoden sind eine spezielle Art von Funktionen. Sie unterscheiden sich von anderen Funktionen dadurch, dass Sie zu einem Objekt gehören. Sie erkennen sie daran, dass dem Funktionsnamen beim Aufruf ein Punkt vorangestellt ist: Beispielsweise bezieht sich die Methode <code>add</code> in <code>li.classList.add("highlighted")</code> auf die vorhergehende <code>classList</code>. Das <code>add</code> fügt die Klasse auch nicht zu irgendeiner <code>classList</code> hinzu, sondern zu der des entsprechenden <code>li</code>-Elements. Insofern können Sie sich das Objekt vor dem Punkt vorstellen wie ein weiteres Argument, das in die Funktion eingeht.</p>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Methoden des classList-Interfaces. Ein ausführliche Referenz finden Sie im <a href="https://developer.mozilla.org/en/docs/Web/API/Element/classList">MDN</a>
                </caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>add</td>
                        <td>$('#bar').classList.add('foo')</td>
                        <td>fügt eine Klasse hinzu. <br/>Im Beispiel erhält das Element mit der <code>id</code>
                            <i>bar</i> die Klasse <i>foo</i>.</td>
                    </tr>
                    <tr>
                        <td>remove</td>
                        <td>$('#bar').classList.remove('foo')</td>
                        <td>entfernt eine Klasse. <br/>Enfernt im Beispiel die Klasse <i>foo</i> von Element mit der <code>id</code>
                            <i>bar</i>.</td>
                    </tr>
                    <tr>
                        <td>item</td>
                        <td>$('#bar').classList.item(2)</td>
                        <td>gibt eine Klasse aus der <code>classList</code> anhand des übergebenen Index-Arguments zurück.<br/>Gibt im Beispiel den dritten Klassennamen des Elements mit der <code>id</code>
                            <i>bar</i> zurück.</td>
                    </tr>
                    <tr>
                        <td>toggle</td>
                        <td>$('#bar').classList.toggle('foo')</td>
                        <td>entfernt oder fügt eine Klasse hinzu. <br/>Im Beispiel wird die Klasse <i>foo</i> hinzugefügt, falls das Element mit der <code>id</code>
                            <i>bar</i> noch nicht über diese Klasse verfügt. Falls die Klasse schon vorhanden ist, wird sie entfernt.</td>
                    </tr>
                    <tr>
                        <td>contains</td>
                        <td>$('#bar').classList.contains('foo')</td>
                        <td>gibt <code>true</code> zurück, falls die angegebene Klasse in der <code>classList</code> vorhanden ist.</td>
                    </tr>
                </tbody>
            </table>
            <h3>Beispiel zur <code>classList</code></h3>
            <p>HTML-Struktur (vorher):</p>
            <blockcode>&lt;body&gt;&lt;p id="bar" class="foo"&gt;&lt;p&gt;&lt;/body&gt;</blockcode>
            <p>JavaScript in der Kosole:</p>
            <blockcode>
                $('#bar').classList.contains('foo') //true
                $('#bar').classList.item(0) // =&gt; 'foo'
                $('#bar').classList.remove('foo')
                $('#bar').classList.add('xyz')
            </blockcode>
            <p>HTML-Struktur (nachher):</p>
            <blockcode>&lt;body&gt;&lt;p id="bar" class="xyz"&gt;&lt;p&gt;&lt;/body&gt;</blockcode>
            <h1>Testen Sie Ihr Wissen</h1>
            <questions>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Ordnen Sie allen div-Elementen die CSS-Klasse <code>foo</code> zu <i>ohne Verwendung der $ bzw. $$-Funktion</i>.</p>
                    </question_text>
                    <answer correct="correct">document.querySelectorAll('div').forEach( a =&gt; a.classList.add('foo') );</answer>
                    <answer>document.querySelectorAll('div').forEach( d =&gt; d.classes.add('foo') );</answer>
                    <answer>document.querySelectorAll('div').forEach( d =&gt; d.classList += 'foo' );</answer>
                    <answer>document.querySelectorAll('div').forEach( d.classList.add('foo') );</answer>
                    <answer>document.querySelectorAll('div').forEach( a.classes += 'foo' );</answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Entfernen Sie die CSS-Klasse <code>animated</code> von allen nummerischen Eingabefeldern.</p>
                    </question_text>
                    <answer>
                        <p><code>document.</code><blank>querySelectorAll</blank><code>('input[type="number"]').forEach( input =&gt; </code><blank>input.classList.remove(</blank><code>'animated') );</code></p>
                    </answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Finden Sie heraus, ob das Element mit der id <code>nav</code> über die CSS-Klasse <code>centered</code> verfügt.</p>
                    </question_text>
                    <answer>
                        <p><code>document.</code><blank>querySelector</blank><code>('#nav')</code><blank>.classList.contains(</blank><code>'centered'</code><blank>)</blank><code>;</code></p>
                    </answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Gegeben ist folgendes HTML-Fragment.</p>
                        <blockcode>&lt;p class="very special person"&gt;Anna&lt;/p&gt;</blockcode>
                        <p>Ermitteln Sie die CSS-Klasse <code>special</code> vom p-Element der CSS-Klasse <code>person</code>.</p>
                    </question_text>
                    <answer>
                        <p><code>document.querySelector('p</code><blank>.person').classList.item(1)</blank><code>;</code></p>
                    </answer>
                </question>
            </questions>
            <h1>Übungen</h1>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 5</name>
                <content>
                    <p>Fragen Sie nicht nach dem Sinn, aber nun besteht der Wunsch, den Text teilweise in grauer Schriftfarbe darzustellen.</p>
                    <step>Schreiben Sie eine Funktion, die allen p-Elementen die CSS-Klasse <code>gray</code> zuordnet.</step>
                    <step>Eine Ausnahme soll nur der Fließtext darstellen, der den Kaufvorgang enthält. Die p-Elemente mit der Klasse <code>buy_info_text</code> sollen dementsprechend von dem Vorgang ausgeschlossen werden.</step>
                    <step>Weisen Sie nun allen Listenpunkten, die noch <b>keine</b> andere Klasse haben, die Klasse <code>gray</code> zu.</step>
                </content>
                <answer>
                    <p>
                        <b>1.</b>
                    </p>
                    <blockcode numbered="numbered">
                        const $$ = q =&gt; Array.from(document.querySelectorAll(q));
                        $$('p').forEach(p =&gt; p.classList.add('gray'));</blockcode>
                    <p>
                        <b>2.</b>
                    </p>
                    <blockcode numbered="numbered">
                        const $$ = q =&gt; Array.from(document.querySelectorAll(q));
                        $$('p:not(.buy_info_text)').forEach(p =&gt; p.classList.add('gray'));</blockcode>
                    <p>
                        <b>3.</b>
                    </p>
                    <blockcode numbered="numbered">
                        const $$ = q =&gt; Array.from(document.querySelectorAll(q));
                        $$('li:not([class])').forEach(li =&gt;li.classList.add('gray'));</blockcode>
                </answer>
            </exercise>
            <exercise>
                <name>Auf die Länge kommt es an???</name>
                <content>
                    <p>Einer Ihrer Kunden wendet sich mit folgendem Wunsch an Sie:</p>
                    <blockquote>
                        <p>Leider sind viele unserer Besucher eher kurz angebunden. Im Forum haben sich nun einige gewünscht, dass die Länge des Artikels schon aus der Überschrift (<code>h1</code>) klar hervorgeht. Unser Designer hat sich deswegen drei Stile für Überschriften überlegt und diese auch als entsprechende CSS-Klassen hinterlegt.</p>
                    </blockquote>
                    <p>Messen Sie die Länge eines Artikels in Zeichen und geben Sie den Überschriften automatisch die richtige Klasse.</p>
                    <ul>
                        <li><code>coffe_break_article</code> bis 3000 Zeichen</li>
                        <li><code>normal_length_article</code> bis 9000 Zeichen</li>
                        <li><code>lone_weekend_article</code> ab 9000 Zeichen</li>
                    </ul>
                    <p>Es geht um die Detailseiten der Artikel. Gehen Sie davon aus, dass jede dieser Seiten nur genau eine <code>h1</code>-Überschrift hat und der komplette Artikel (inklusive Bildern und HTML-Struktur) sich in einem Element mit der id <i>content</i> befindet. </p>
                    <p>Für das Zählen der Zeichen dürfen Sie den kompletten HTML-Code von <i>content</i> auswerten. Es geht nur darum, eine grobe Abschätzung zu bekommen.</p>
                    <p>Hier ist eine HTML-Beispieldatei, die Sie zum Ausprobieren verwenden können. Sie finden die Beispieldatei im Begleitmaterial:</p>
                    <blockcode>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;title&gt;Article Detail Page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;h1&gt;Lorem ipsum&lt;/h1&gt;
        &lt;section id="content"&gt;
            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;

            ...

            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;

        &lt;/section&gt;

    &lt;/body&gt;
&lt;/html&gt;</blockcode>
                    <p>Durch Duplizieren oder Löschen von Lorem-ipsum-Absätzen können Sie unterschiedliche Textlängen einfach testen. </p>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/03/solutions/article_length/article_length.js"/>
                </answer>
            </exercise>
            <hint src="images/people/christin.jpg">
                <h3>Die Heimtücke der scheinbar unscheinbaren Fehler</h3>
                <p>Jeder, der schon mal stundenlang verzweifelt einen Fehler gesucht hat, nur um dann festzustellen, dass es sich um einen Syntax-, Tipp,- oder Flüchtigkeitsfehler handelte, weiß, wie ärgerlich das ist. Meine daraus resultierende Erkenntnis, kuriose Fehler betreffend: Sie können ÜBERALL sein! &hellip; Naja, vielleicht nicht überall, aber doch an unvermuteten Stellen, und gerade dann führen sie nicht selten zu den merkwürdigsten und unlogischsten Problemen.</p>
                <p>Also: Egal ob Sie gerade &raquo;nur&laquo; HTML &amp; CSS, JS oder sonstigen Code schreiben: sorgfältiges und achtsames Arbeiten zahlt sich immer aus.</p>
            </hint>
        </lesson>
        <lesson>
            <lesson_name>Und nun: ab ins HTML</lesson_name>
            <topics>
                <li>wie Sie JavaScript-Skripte in Ihre HTML-Dokumente einbinden.</li>
                <li>wie Sie Struktur in Ihre Skripte bringen.</li>
            </topics>
            <p>Auf der Konsole alle Befehle einzeln einzugeben, wird langsam aber sicher etwas mühsam. Deswegen sollten Sie den Code aus der letzten Lektion nun in einer JavaScript-Datei ablegen.</p>
            <walkthrough>
                <name/>
                <content>
                    <step>Öffnen Sie einen Editor Ihrer Wahl, z.&thinsp;B. Notepad++, Visual Studio
                        Code. </step>
                    <step>Legen Sie eine neue Datei an, falls nötig. Kopieren Sie den Code aus <a href="#highlight_chatmembers_ert"/> in diese Datei und speichern Sie sie unter dem Namen <i>highlight_chat_members.js</i></step>
                    <step>
                        <p>Binden Sie die JS-Datei in der HTML-Datei <i>additional_files/03/examples/chat.html</i> ein:</p>
                        <blockcode numbered="numbered">
                      &lt;head&gt;
                        &hellip;
                        &lt;script
                          src="highlight_chat_members.js"
                          defer="defer"&gt;&lt;/script&gt;
                      &lt;/head&gt;
                    </blockcode>
                    </step>
                </content>
            </walkthrough>
            <p>Sobald Sie die HTML-Datei im Browser öffnen, hebt Ihr JS-Code beim Laden der Seite die passenden Mitglieder hervor. </p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>Ändern Sie nun den String <code>searchFor</code> von <code>'ert'</code> in <code>'a'</code>.</step>
                    <step>Führen Sie einen Browser-Reload (<kbd>ctrl-R</kbd> bzw. <kbd>cmd-R</kbd>) durch.</step>
                </content>
            </walkthrough>
            <p>Das Script hebt nun andere passende Mitglieder hervor &mdash; die, deren Namen <code>'a'</code> enthalten.</p>
            <walkthrough continued="continued">
                <name/>
                <content>
                    <step>Ändern Sie den String <code>searchFor</code> von 'a' wieder in den ursprünglichen Wert <code>'ert'</code> zurück und führen Sie erneut einen Reload durch.</step>
                </content>
            </walkthrough>
            <h1>Rauszögern, ohne abzuwarten: Defer &amp; Async</h1>
            <p>Vielleicht ist Ihnen aufgefallen, dass das <code>script</code>-Element zusätzlich mit dem Attribut <code>defer="defer"</code> ausgestattet ist. Wofür ist das gut?</p>
            <p>Lassen Sie mal versuchsweise das Attribut weg. Sie sehen dann, dass das Hervorheben nicht mehr funktioniert. Die Ursache ist ein Timing-Problem. Damit das Hervorheben funktioniert, müssen die entsprechenden DOM-Elemente (also hier die Chatmitglieder) bereits vorhanden sein, wenn der JS-Code darauf zugreift. Zu dem Zeitpunkt, an dem der Browser das Script lädt (im <code>head</code>), sind die Elemente aber noch nicht da. Der Browser findet sie erst später &mdash; unten im <code>body</code>.</p>
            <p>Das Problem ist leicht zu lösen, indem Sie das <code>script</code>-Element mit dem <code>defer</code>-Attribut ausstatten. <code>defer</code> verzögert die Ausführung des Scriptes. Erst, wenn die Seite ihr DOM komplett aufgebaut hat, führt sie das Script aus.</p>
            <p>Ein weiterer Vorteil von <code>defer</code> besteht darin, dass der Browser das Script <i>parallel</i> zum weiteren Parsen der HTML-Seite lädt. Dadurch muss der HTML-Aufbau nicht auf das Laden und Ausführen der JavaScript-Datei warten. Das HTML wird schneller angezeigt.</p>
            <p>Ein verwandtes Attribut ist <code>async</code>. Es sorgt genauso wie <code>defer</code> dafür, dass der Browser die JS-Datei parallel zu anderen Dateien lädt und das Ausführen des HTML-Codes an dieser Stelle nicht warten muss. Im Gegensatz zu <code>defer</code> führt der Browser die JS-Datei jedoch sofort aus, sobald sie geladen ist. Es gibt keine Garantie, dass das DOM bereits aufgebaut ist. Außerdem entspricht die Lade- und Ausführungsreihenfolge der JS-Dateien nicht unbedingt der Reihenfolge der script-Tags im HTML-Quellcode (sogenannte <keyword>Source-Order</keyword>). Jedes Script startet sobald es geladen ist &mdash; d.&thinsp;h. kleinere Scripte starten meistens vor großen.</p>
            <hint src="images/hint/storyteller_left.jpg">
                <h3>&raquo;Also früher, da mussten wir noch&hellip;&laquo;</h3>
                <p>Bevor Browser das <code>defer</code>-Attribut &raquo;korrekt&laquo; unterstützten, waren Entwickler auf Tricks angewiesen. <i>Korrekt</i> bedeutet hier, dass der IE vor Version 11 das Attribut zwar unterstützte, aber die Verarbeitungsreihenfolge der Scripte nicht garantiert war. Chrome und Firefox unterstützen das Attribut schon sehr lange spezifikationskonform (Firefox 3.5 &amp; Chrome 8).</p>
                <p>Einer dieser Tricks war es beispielsweise, die Scripte nicht im <code>head</code> zu platzieren, sondern im <code>body</code> &mdash; direkt vor dem schließenden body-Tag.</p>
                <p>Alle diese Tricks hatten ihre spezifischen Nachteile und/oder waren mit Zusatzaufwand verbunden.</p>
            </hint>
            <h1>Strikt und abgeschottet: Blocks &amp; use strict</h1>
            <p>Nun sollten Sie innerhalb der JS-Datei noch zwei Dinge ergänzen. Zum einen ist es sinnvoll, ein <code>'use strict';</code> zu ergänzen, um von der strikteren Syntaxprüfung der JS-Engine zu profitieren &mdash; zum anderen sollten Sie den Code komplett in einen Block, d.&thinsp;h. in geschweifte Klammern <code>{}</code> packen.</p>
            <blockcode numbered="numbered">
              'use strict';

              {

                // your code here
                &hellip;
              }
            </blockcode>
            <p> </p>
            <p>Ein Block errichtet einen Scope, einen Lebensraum für Variable. Alle Variablen (<code>let</code>) oder Konstanten (<code>const</code>), die Sie innerhalb des Blocks anlegen, sind nicht global und können somit nicht mit anderen Bezeichnern in Konflikt treten. Sie wissen nie, ob später noch andere JS-Dateien eingebunden werden, die vielleicht die gleichen Variablennamen verwenden.</p>
            <hint src="images/hint/storyteller_left.jpg">
                <h3>&raquo;Also früher, da mussten wir noch&hellip;&laquo;</h3>
                <p>Früher haben wir eine sogenannte <keyword>IIFE</keyword> verwendet, um zu verhindern, dass sich globale Bezeichner überall ausbreiten. Variablen, die wir mittels <code>var</code> angelegt hatten, hatten keinen Block-Scope, wie moderne Variablen (<code>let</code>) oder Konstanten (<code>const</code>).</p>
                <p>Da sich alte Variablen von einem Block nicht begrenzen ließen, musste etwas anderes her. Variablen mit <code>var</code> haben Function-Scope &mdash; entsprechend lassen Sie sich mit einer Funktion einfangen.</p>
                <p>Genau darin besteht der Trick. Wir haben anonyme Funktionen angelegt und diese sofort wieder ausgeführt &mdash; nicht, weil wir wirklich eine Funktion gebraucht hätten, sondern nur, um den Gültigkeitsbereich der Variablen einzuschränken:</p>
                <blockcode>
                    (function() {

                      ... Your code here ...

                    })();
                </blockcode>
                <p><i>IIFE</i> steht für <i>Immediatly Invoked Function Expression</i> &mdash; ein Funktionsausdruck, der sofort ausgeführt wird.</p>
            </hint>
            <h1>Nur ein kleines bisschen Refactoring&thinsp;&hellip;</h1>
            <p>Hier ist nochmal die komplette Datei zu den vorherigen Beispielen:</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members.js" id="ugly_chat_members"/>
            <p>Da der Code nun in einer Datei liegt, und Sie ihn nicht mehr direkt in die Konsole tippen, wird die Les- und Wartbarkeit des Codes immer wichtiger. Der Code aus <a href="#ugly_chat_members"/> ist nicht gerade ein Musterbeispiel für Clean Code (sauberen, lesbaren Code). Mit ein paar Handgriffen können Sie ihn aber in Form bringen. Das Verbessern von Code &mdash; ohne dabei das Verhalten zu ändern &mdash; heißt übrigens <keyword>Refactoring</keyword> (Opdyke, Johnson 1990). Es gibt reichlich Literatur zu diesem Thema &mdash; z.&thinsp;B. das bekannte Buch <i>Refactoring</i> von Martin Fowler (1999).</p>
            <p>Unser Fokus liegt allerdings nicht auf dem Thema <i>Refactoring</i>. Deswegen möchten wir an dieser Stelle nicht zu sehr abschweifen und sämtliche Refactoring-Techniken erläutern. Andererseits haben wir aber den Anspruch, dass Sie lernen, Code zu schreiben, auf den Sie stolz sein können. Deswegen möchten wir Ihnen zumindest an diesem kleinen Beispiel zur Illustration ein paar Verbesserungen zeigen. Den Code aus <a href="#ugly_chat_members"/> können wir so wirklich nicht stehen lassen &mdash; sonst zeigen Sie ihn all Ihren Bekannten (oder dem JS-Profi von nebenan) und unser Ruf ist endgültig im Eimer.</p>
            <p>Also &mdash; was können Sie tun, um den Code zu verbessern?</p>
            <h3>Extract Method</h3>
            <p>Erst einmal sollte der Code nicht einfach so dastehen. Packen Sie ihn in eine eigene Funktion. Als Funktionsbezeichner bietet sich <code>highlightChatMembers</code> an:</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members_ref1.js"/>
            <p>Statt den gesuchten String in einer Konstante zu hinterlegen, sollten Sie einen Parameter verwenden. Der gesuchte String kommt später vom Anwender! Als Parametername ist <code>partOfMemberName</code> im aktuellen Kontext etwas genauer und verständlicher als <code>searchFor</code>.</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members_ref2.js"/>
            <p>Außerdem war der alte Funktionsname <code>highlightChatMembers</code> nun nicht mehr treffend. Der Name <code>highlightChatMembersBy</code> verdeutlicht, dass die Funktion einen Parameter (hier: <code>partOfMemberName</code>) entgegennimmt. Sie können die Signatur</p>
            <blockcode>
                highlightChatMembersBy(partOfMemberName)
            </blockcode>
            <p>praktisch wie einen Satz aussprechen:</p>
            <blockquote>
                <p>&raquo;markiere die Chatteilnehmer anhand eines Teils ihres Namens&laquo;</p>
            </blockquote>
            <p>Ein wichtiges Prinzip beim Programmieren ist das <keyword>Single Responsibility Principle</keyword> (Martin 2002). Angewandt auf Funktionen bedeutet es: Jede Funktion sollte immer nur eine Sache tun. Die Funktion <code>highlightChatMembersBy</code> tut eindeutig zu viel: Chat-Mitglieder finden, filtern und hervorheben&thinsp;&hellip; Die richtige Medizin dagegen nennt sich <keyword>Extract Method</keyword> (Fowler 1999) &mdash; das Extrahieren neuer Methoden bzw. Funktionen aus bestehendem Code.</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members_ref3.js"/>
            <p>Das Finden der Mitglieder übernimmt nun die Funktion <code>chatMembers</code>, während <code>highlight</code> sich um die Hervorhebung (engl. <i>Highlighting</i>) eines einzelnen Elements kümmert. Ein weiterer Kandidat für eine eigene Funktion ist das Prüfen auf Treffer:</p>
            <blockcode>liNode.innerHTML.includes(partOfMemberName)</blockcode>
            <p>Ein geeigneter Bezeichner für die Funktion wäre <code>doesMemberMatch</code>. <a href="#hightlight_chat_members_ref4"/> zeigt den neuen Code mit extrahierten Funktionen.</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members_ref4.js" id="hightlight_chat_members_ref4"/>
            <p>Jetzt fällt vielleicht auf, dass Sie die Konstante <code>liNodesFound</code> im Grunde nicht mehr benötigen. Auch der Name <i>liNodesFound</i> trägt nicht unbedingt dazu bei, den Code verständlicher zu machen. Nehmen Sie die Bezeichner einfach raus. Damit verkürzen Sie:</p>
            <blockcode numbered="numbered">
                &hellip;
                const liNodesFound = chatMembers()
                  .filter(member =&gt;
                    doesMemberMatch(partOfMemberName, member));

                liNodesFound.forEach(highlight);
                &hellip;
            </blockcode>
            <p>auf eine Zeile (auch wenn wir sie aus Lesbarkeitsgründen in mehrere Zeilen umbrechen):</p>
            <blockcode numbered="numbered">
                &hellip;
                chatMembers()
                  .filter(member =&gt;
                    doesMemberMatch(partOfMemberName, member))
                  .forEach(highlight);
                &hellip;
            </blockcode>
            <p>Damit ist die Implementierung der Funktion <code>highlightChatMembersBy</code> auch leicht zu lesen:</p>
            <ol>
                <li>Besorge die chatMembers.</li>
                <li>Filtere die zu <code>partOfMemberName</code> passenden (engl. <i>does match</i>) heraus.</li>
                <li>Hebe alle gefundenen hervor.</li>
            </ol>
            <p>Wer die Details verstehen möchte, kann die einzelnen Funktionen jederzeit nachlesen, aber so kommuniziert <code>highlightChatMembersBy</code> schon mal die groben Schritte, die vorher in den Details versteckt waren.</p>
            <h3>Newspaper-Metapher</h3>
            <figure width="80%">
                <img src="images/photos/newspaper.jpg"/>
                <figcaption>Foto: <a href="https://unsplash.com/photos/E7RLgUjjazc">Olu Eletu</a>, <a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0</a></figcaption>
            </figure>
            <p>Als Nächstes bietet es sich an, die neuen, extrahierten Funktionen etwas zu sortieren: Grobe High-Level-Funktionen gehören nach oben, detaillierte Low-Level-Hilfsfunktionen nach unten. Dadurch können Sie Ihren Code lesen wie eine Zeitung &mdash; oben stehen die &raquo;dicken&laquo; Headlines, und wer mehr wissen möchte, erfährt sukzessive mehr Details. Das ist die sogenannte <keyword>Newspaper-Metapher</keyword> von Robert C. Martin (2008).</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members_ref5.js"/>
            <!--
            <h1>Array.from war gestern. Jetzt heißt es: Array-Methoden für alle!</h1>
            <p>Jedes Mal, wenn Sie auf dem Ergebnis der <code>$$</code>-Funktion eine High-Order-Function wie <code>map</code> oder <code>filter</code> aufrufen möchten, müssen Sie es vorher mit <code>Array.from</code> konvertieren, z.&thinsp;B.</p>
            <blockcode numbered="numbered">const chatMembers = () =&gt; Array.from($$("#chat_members li"));</blockcode>
            <p>Finden Sie das nicht auch ein wenig nervig?</p>
            <p>Abhilfe bietet die folgende Zeile (aus dem legendären <a href="https://gist.github.com/paulirish/12fb951a8b893a454b32">bling.js-Gist von Paul Irish</a>). Sie müssen sie nicht im Detail verstehen, aber sie sorgt im Grunde dafür, dass einer <i>NodeList</i> auch alle Methoden eines <code>Arrays</code> zur Verfügung stehen.</p>
            <blockcode>NodeList.prototype.__proto__ = Array.prototype;</blockcode>
            <p>Damit entfällt die Notwendigkeit, die <i>NodeList</i> mittels <code>Array.from</code> in ein <code>Array</code> zu wandeln. Die Funktion <code>chatMembers</code> wird dadurch recht einfach.</p>
            <blockcode src="accompanying_files/04/examples/highlight_chat_members_ref6.js" numbered="numbered"/>
            <p>Zugegeben: Hier lohnt es sich kaum, da das <code>Array.from</code> nur ein einziges Mal im Code vorkommt. Es macht aber durchaus Sinn, die Zeile einfach einzubinden, um dann etwas entspannter zu programmieren. Sie müssen dann nicht jedes Mal darüber nachdenken, ob Sie vielleicht gerade eine Methode von <code>Array</code> auf der <i>NodeList</i> verwenden und deswegen erst konvertieren müssen.</p>
            <p>Aufpassen müssen Sie nur, wenn Sie weitere Drittbibliotheken einbinden, die evtl. ebenfalls die <i>NodeList</i> verändern könnten. In diesem Fall müssen Sie eben wieder zu <code>Array.from</code> zurück.</p>
            -->
            <h1>Und jetzt noch eine klitzekleine Verbesserung</h1>
            <p>Wenn Sie als Suchstring <code>'Bert'</code> verwenden, wird nur Berthold, aber nicht Heribert selektiert. Das liegt daran, dass der Stringvergleich <keyword>case sensitive</keyword> ist, also Groß- und Kleinschreibung berücksichtigt. Eine einfache Möglichkeit, Groß- und Kleinschreibung bei der Suche zu ignorieren, ist, beide am Vergleich beteiligten Strings vorher komplett in Kleinbuchstaben umzuwandeln &mdash; mit der String-Methode <code>toLowerCase</code>.</p>
            <blockcode numbered="numbered" src="accompanying_files/04/examples/highlight_chat_members_ref6_lowercase.js"/>
            <p>Es gäbe übrigens noch genügend Möglichkeiten, das Refactoring fortzuführen, etwa mit Hilfe von <keyword>funktionaler</keyword> oder <keyword>objektorientierter Programmierung</keyword> oder gar <keyword>hexagonaler Architektur</keyword>. &raquo;Doch das ist eine andere Geschichte und soll ein anderes Mal erzählt werden.&laquo;</p>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Welches HTML Attribut verzögert die Ausführung von JavaScript, bis das DOM geladen ist?</p>
                    </question_text>
                    <answer><blank>defer</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Welches HTML Attribut erlaubt das parallele Laden von JS-Dateien und führt sie sofort nach dem Laden aus?</p>
                    </question_text>
                    <answer><blank>async</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Laden Sie das die JavaScript-Datei <code>main.js</code>, sodass es das Laden von HTML nicht verzögert und sofort nach dem Laden ausgeführt wird.</p>
                    </question_text>
                    <answer>&lt;script <blank>src=</blank>"main.js" <blank>async</blank>="<blank>async</blank>" /&gt;</answer>
                </question>
            </questions>
        </lesson>
        <lesson>
            <lesson_name>Events feiern, wie sie fallen &hellip;</lesson_name>
            <topics>
                <li>was Events und Eventhandler sind,</li>
                <li>und wie Sie diese verwenden.</li>
                <li>was Sie beim Arbeiten mit Events beachten sollten.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Wenn das neue Chat-Feature heute Abend fertig ist, veranstalten wir eine Release-Party im Büro. Nichts Großes &mdash; aber es gibt was zu trinken, gute Musik und auch eine Kleinigkeit zu essen&thinsp;&hellip;</p>
                <figure width="80%">
                    <img src="images/photos/wine.jpg"/>
                    <figcaption>Foto: <a href="https://unsplash.com/photos/JKMnm3CIncw">Yutacar</a>, <a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0</a></figcaption>
                </figure>
            </hint>
            <p>Der Code ist nun in eine JavaScript-Datei ausgelagert und etwas &raquo;sauberer&laquo; geworden. Leider ist Björn noch nicht zufrieden. Da fehlt noch was&thinsp;&hellip; </p>
            <p>Natürlich sollten Besucher der Website kein JS programmieren müssen, um Chatmitglieder hervorzuheben. Die Hervorhebungen sollten sich automatisch anhand der Eingabe im Suchfeld ändern.</p>
            <p>Dazu muss der Code auf Benutzereingaben reagieren. Der Browser stellt dazu sogenannte <keyword>Events</keyword> zur Verfügung. Mit Events sind hier also leider keine Hochzeiten oder Partys gemeint. </p>
            <h1>Events im Browser</h1>
            <p>Für den Browser ist schon jede kleine Einflussnahme durch den Anwender ein Event. Ein Event kann dabei fast alles sein, beispielsweise: </p>
            <ul>
                <li>das Anklicken eines Buttons</li>
                <li>das Überfahren eines Bildes mit der Maus</li>
                <li>das Loslassen einer Taste</li>
                <li>das Verlassen eines Eingabefeldes</li>
                <li>Fingergesten auf Touchbildschirmen, wie z.&thinsp;B. Zoom</li>
            </ul>
            <p>Es gibt auch Events, die nicht direkt vom Anwender ausgelöst werden, z.&thinsp;B. durch Netzwerkanfragen oder bei abgeschlossenen Ladevorgängen von Dateien. Vorerst konzentrieren wir uns aber auf Events, die unmittelbar mit dem Anwenderverhalten zu tun haben.</p>
            <h1>Zum anständigen Behandeln von Events: Eventhandler</h1>
            <h2>Vorbereitende Maßnahmen</h2>
            <p>Starten Sie zunächst mit einem kleinen Experiment in der Konsole. Das Event, das Sie interessiert, ist das Loslassen einer Taste im Eingabefeld. Im HTML-Dokument des Chats finden Sie das Eingabefeld (<code>input</code>-Element) innerhalb eines <code>div</code>-Elements mit der <code>id</code>
                <i>member_search</i>:</p>
            <blockcode numbered="numbered" type="html">
                &hellip;
                &lt;div id="member_search"&gt;&lt;input type="text" placeholder="...Find a member..."/&gt;&lt;/div&gt;
                &hellip;
            </blockcode>
            <p>Selektieren Sie das Feld zunächst mittels <code>$('#member_search input')</code>. Sie erhalten das <code>input</code>-Element als Rückgabewert in der Konsole. Wenn Sie den Mauszeiger darüber bewegen, erkennen Sie, dass es sich um das richtige Feld handelt.</p>
            <p>An dieses Feld müssen Sie ein Event binden. Verwenden Sie dazu die Methode <code>addEventListener</code>. Nahezu jedes HTML-Element-Objekt verfügt über diese Methode. </p>
            <blockcode>$('#member_search input').addEventListener( &hellip; );</blockcode>
            <p><code>addEventListener</code> benötigt zwei Argumente. Das erste Argument ist der <keyword>Eventtyp</keyword> als String. In diesem Fall sollten Sie <code>'keyup'</code> verwenden &mdash; das Loslassen einer Taste.</p>
            <blockcode>$('#member_search input').addEventListener('keyup', &hellip;);</blockcode>
            <p>Das zweite Argument muss eine Funktion sein &mdash; der Browser führt sie beim Auftreten des Events aus. Verwenden Sie erst einmal etwas Einfaches, um zu sehen, ob es überhaupt funktioniert:</p>
            <blockcode>() =&gt; alert(1)</blockcode>
            <p>Die Funktion, die Sie auf das Event registrieren, wird übrigens als <keyword>Event handler</keyword> oder <keyword>Event listener</keyword><footnote>Grundsätzlich lassen sich die beiden Begriffe noch <a href="https://stackoverflow.com/questions/6348494/addeventlistener-vs-onclick#6902073">weiter unterscheiden</a>, der Einfachheit halber verwenden wir sie aber synonym.</footnote> bezeichnet. Diese Funktion verarbeitet das angegebene Event.</p>
            <p>Damit ist die Anweisung vollständig &mdash; geben Sie sie in die Konsole ein:</p>
            <blockcode>$('#member_search input').addEventListener('keyup', () =&gt; alert(1));</blockcode>
            <p>Sobald Sie in das Eingabefeld klicken und eine Taste drücken, erscheint beim Loslassen eine Alert-Box mit der <code>1</code>. Das ist sicherlich noch nicht sehr sinnvoll. Vielleicht ist auch das Wegklicken der Alert-Boxen ein wenig nervig, aber Sie wissen nun, dass es funktioniert. Check. Mission erfolgreich.</p>
            <h2>&hellip; und nun alles zusammen</h2>
            <p>Nun kommt der etwas schwierigere Teil: Sie müssen aus dem vorhanden Code für Highlighting und Eventregistierung ein vollständiges Programm bauen.</p>
            <p>Entfernen Sie den Aufruf <code>highlightChatMembersBy('ert');</code> aus der JS-Datei. Stattdessen soll das <code>keyup</code>-Event den Aufruf der Funktion auslösen:</p>
            <blockcode numbered="numbered">
                $('#member_search input')
                  .addEventListener('keyup', () =&gt;
                    highlightChatMembersBy('ert'));
            </blockcode>
            <p>&hellip;und tatsächlich: Sobald Sie im Suchfeld eine Taste drücken, ändert sich das Highlighting. Statt des festen Highlightings zum String <code>'ert'</code> möchten Sie aber die tatsächliche Eingabe verwenden. Wie kommen Sie da dran?</p>
            <p>Sie benötigen nochmal das Objekt des Input-Elements. Sie können es sich wieder mittels $('#member_search input') besorgen &mdash; und es dann nach dem Wert fragen, den der Benutzer eingegeben hat. Den Wert finden Sie in der Eigenschaft <code>value</code> &mdash; also <code>$('#member_search input').value</code>. Mehr zu dieser und anderen Eigenschaften erfahren Sie in <a href="#attribute"/>.</p>
            <p>Zusammengesetzt erhalten Sie folgende Anweisung:</p>
            <blockcode numbered="numbered">
                const $ = q =&gt; document.querySelector(q); // sofern noch nicht vorhanden
                $('#member_search input')
                  .addEventListener('keyup', () =&gt;
                    highlightChatMembersBy($('#member_search input').value));
            </blockcode>
            <p>Damit ergibt sich nun insgesamt folgender Code:</p>
            <blockcode numbered="numbered" src="accompanying_files/05/examples/highlight_chat_members_1_event/highlight_chat_members.js"/>
            <p>Experimentieren Sie ein wenig mit der aktuellen Implementierung. Geben Sie verschiedene Strings ein. Was fällt Ihnen auf?</p>
            <h1>Guard Clauses: Wächter für Ihre Funktionen</h1>
            <hint src="images/hint/bjoern.png">
                <p>Huch &mdash; ich hab' gerade einen Bug gefunden. Wenn ich nach Chatmitgliedern suche, passiert es sehr schnell, dass <i>alle</i> hervorgehoben werden.</p>
                <p>Bitte beheben Sie das! So können wir das Feature unmöglich online stellen.</p>
                <figure width="80%">
                    <img src="images/screenanimations/chat_search.png"/>
                </figure>
            </hint>
            <p>Tja &mdash; das Problem besteht darin, dass das Programm zwar die passenden Mitglieder hervorhebt, aber diese Hervorhebung nicht wieder entfernt.</p>
            <p>Statt nun mühsam herauszufinden, welche Hervorhebungen Sie wieder entfernen müssen, ist es einfacher, Sie entfernen einfach alle Hervorhebungen und heben anschließend nur die jeweils passenden hervor. Dazu benötigen Sie weiteren Code, der die CSS-Klasse von allen Mitgliedern entfernt:</p>
            <blockcode numbered="numbered">
                  const removeHighlightsFromAllChatMembers = () =&gt;
                    chatMembers().forEach(removeHighlight);

                  const removeHighlight = el =&gt; el.classList.remove('highlighted');
            </blockcode>
            <p>Im Übrigen ist es überhaupt kein Problem, dass einige der <code>li</code>-Elemente mit Chatmitgliedern die Klasse <i>highlighted</i> gar nicht haben &mdash; in dem Fall wird auch nichts entfernt.</p>
            <p>Ordnen Sie die beiden Funktionen passend zu ihrem Detailgrad der Funktionen ein. Außerdem muss die neue Funktion <code>removeHighlightsFromAllChatMembers</code> noch aufgerufen werden. Dazu empfiehlt es sich, eine übergeordnete Funktion namens <code>updateHighlightingOfChatMembers</code> zu erstellen, die zunächst alle highlights entfernt (<code>removeHighlightsFromAllChatMembers</code>) und danach die richtigen Chatmitglieder markiert (<code>highlightChatMembersBy</code>):</p>
            <blockcode numbered="numbered">
            const updateHighlightingOfChatMembers = partOfMemberName =&gt; {
              removeHighlightsFromAllChatMembers();
              highlightChatMembersBy(partOfMemberName);
            };
            </blockcode>
            <p>Nun müssen Sie nur noch die neue Funktion <code>updateHighlightingOfChatMembers</code> statt der reinen Markierungsfunktion <code>highlightChatMembersBy</code> in den Eventhandler einbinden. Sie erhalten diesen Code:</p>
            <blockcode numbered="numbered" src="accompanying_files/05/examples/highlight_chat_members_2_remove/highlight_chat_members.js" id="highlight_chat_members_remove"/>
            <p>Der Code aus <a href="#highlight_chat_members_remove"/> funktioniert&thinsp;&hellip; fast. Er funktioniert bis auf die kleine Unschönheit, dass bei einer leeren Eingabe alle Mitglieder selektiert sind. Der leere String kommt in jedem String vor!</p>
            <p>Dieses Verhalten können Sie einfach dadurch unterdrücken, dass Sie zu Beginn der Funktion <code>highlightChatMembersBy</code> prüfen, ob <code>partOfMemberName</code> leer ist. Bei einem Leerstring muss die Funktion einfach die Arbeit verweigern. Beenden Sie die Funktion vorzeitig mittels <code>return</code>.</p>
            <blockcode>if (partOfMemberName === '') return;</blockcode>
            <p>Zeilen wie diese, die vor Ausführung einer Funktion prüfen, ob die Werte der eingehenden Argumente überhaupt Sinn machen, heißen <a href="http://c2.com/cgi/wiki?GuardClause"><keyword>Guard-Clauses</keyword></a> oder einfach <keyword>Guards</keyword>. Sie schützen die Funktionen vor ungültigen Eingangswerten.</p>
            <figure id="highlight_with_guard">
                <blockcode numbered="numbered">
            const highlightChatMembersBy = partOfMemberName =&gt; {
              if (partOfMemberName === '') return;
              chatMembers()
                .filter(member =&gt;
                  doesMemberMatch(partOfMemberName, member))
                .forEach(highlight);
            };
            </blockcode>
                <figcaption>Die Funktion highlightChatMembersBy mit Guard</figcaption>
            </figure>
            <p>Der Code aus <a href="#highlight_with_guard"/> verhält sich endlich wie gewünscht. Bevor Sie zu Björn stürmen, um ihm die gute Nachricht zu überbringen, könnten Sie sich vielleicht noch ein wenig Zeit nehmen, um den Code zu verbessern. Ihr Wartungsprogrammierer wird es Ihnen irgendwann danken!</p>
            <h1>Der gekonnte Einstieg &mdash; mit init</h1>
            <p>Der Code zur Eventregistierung steht auch noch etwas unmotiviert da. Besser wäre es, ihn in eine Funktion zu packen. Das hat viele Vorteile: Er wird wiederverwendbar und bekommt einen Namen (damit ist er leichter zu identifizieren). Außerdem gibt es weitere Vorteile in Bereichen, mit denen wir uns noch nicht beschäftigt haben &mdash; z.&thinsp;B. ist der Code leicher zu testen.</p>
            <p>Zwei Funktionsnamen bieten sich hier an: <i>registerEvents</i> oder einfach <i>init</i>. Wenn Sie möchten, könnten Sie auch noch konkreter werden und die Funktion sogar <i>registerEventsForChatMemberHighlighting</i> nennen. In diesem Kontext, in dem die Datei aber nur eine einzige Aufgabe hat, ist das generische <i>init</i> durchaus akzeptabel.</p>
            <p>Der Name <i>init</i> steht für Initialisierung. Das ist quasi die Funktion, die alles andere einleitet und somit einen Einstiegspunkt in den restlichen Code bietet. Im Grunde können Sie die Funktion nennen, wie Sie möchten, aber <i>init</i> hat sich etabliert. Andere Programmierer lesen den Funktionsnamen und verstehen sofort, was Sie damit meinen. </p>
            <p>Im Sinne der Newspaper-Metapher gehört die Funktionsdefinition von <code>init</code> an den Anfang. Der Aufruf <code>init()</code> kann aber erst erfolgen, wenn alle Definitionen abgeschlossen sind.</p>
            <blockcode numbered="numbered" src="accompanying_files/05/examples/highlight_chat_members_3_init/highlight_chat_members.js"/>
            <!-- TODO ME: Screencast einbetten: chat_init.mov -->
            <h1>Schauen Sie hinter die Fassade &mdash; mit dem Event-Objekt</h1>
            <p>Dass Sie hier noch etwas verbessern können wird deutlich, wenn Sie sich die Eventregistrierung genauer betrachten.</p>
            <blockcode numbered="numbered">
                const $ = q =&gt; document.querySelector(q);
                $('#member_search input')
                  .addEventListener('keyup', () =&gt;
                    updateHighlightingOfChatMembers($('#member_search input').value));
            </blockcode>
            <p>Die Funktion, die Sie hier als Eventhandler registrieren, ist diese:</p>
            <blockcode>
                () =&gt; updateHighlightingOfChatMembers($('#member_search input').value);
            </blockcode>
            <p>Das Interessante dabei ist, dass die Funktion beim Aufruf durch das Event dieses automatisch als Argument übergeben bekommt. Sie müssen der Funktion nur noch einen Parameter spendieren, um das Event aufzufangen:</p>
            <blockcode>
                event =&gt; updateHighlightingOfChatMembers($('#member_search input').value);
            </blockcode>
            <p>Was können Sie mit dem <code>event</code> anfangen? Sie können es beispielsweise loggen, um zu sehen, was es alles enthält:</p>
            <blockcode numbered="numbered">
                event =&gt; {
                  console.log(event);
                  updateHighlightingOfChatMembers($('#member_search input').value);
                }
            </blockcode>
            <p>Wenn Sie die Taste <kbd>a</kbd> drücken, zeigt die Konsole:</p>
            <blockcode>keyup { target: &lt;input&gt;, key: "a", charCode: 0, keyCode: 65 }</blockcode>
            <p>Ein Klick auf das <i>keyup</i> verrät Ihnen, dass es sich bei <code>event</code> um ein JS-Objekt vom &raquo;Typ&laquo;<footnote>Eigentlich gibt es in JS keine spezifischen Objekttypen. Korrekt wäre: Es handelt sich um ein JS-Objekt, das das Objekt <code>KeyboardEvent</code> in seiner Prototype-Chain hat. Wir verwenden den Begriff <i>Typ</i> hier als Vereinfachung. Es geht nur darum, dass alle Objekte des gleichen &raquo;Typs&laquo; auch die gleichen Eigenschaften haben.</footnote>
                <code>KeyboardEvent</code> handelt. Keyboardevents besitzen viele interessante Eigenschaften. Einige davon zeigt die folgende Tabelle:</p>
            <table>
                <tbody>
                    <tr>
                        <th>Eigenschaft</th>
                        <th>Inhalt</th>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>keyup</td>
                    </tr>
                    <tr>
                        <td>code</td>
                        <td>KeyA</td>
                    </tr>
                    <tr>
                        <td>key</td>
                        <td>a</td>
                    </tr>
                    <tr>
                        <td>timeStamp</td>
                        <td>[Timestamp, wann das Event sich ereignet hat]</td>
                    </tr>
                    <tr>
                        <td>target</td>
                        <td>[Element, das das Event ausgelöst hat]</td>
                    </tr>
                    <tr>
                        <td>ctrlKey</td>
                        <td>false [war die Ctrl-Taste dabei gedrückt?]</td>
                    </tr>
                    <tr>
                        <td>altKey</td>
                        <td>false [war die Alt-Taste dabei gedrückt?]</td>
                    </tr>
                </tbody>
            </table>
            <p>Es gibt noch viel mehr Eigenschaften, doch schon diese wenigen verdeutlichen, dass Sie im Eventobjekt alle Informationen finden, die beim Auftreten des Events eine Rolle spielen, z.&thinsp;B.:</p>
            <ul>
                <li>Welche Art von Event ist das? <i>keyup</i></li>
                <li>Welche Taste wurde losgelassen? <i>a</i></li>
                <li>Wann wurde das Event ausgelöst?</li>
                <li>Wo wurde das Event ausgelöst?</li>
            </ul>
            <p>Diese Informationen können Sie dann in Ihrem Eventhandler verwerten. Für das aktuelle Programm ist vor allem die Eigenschaft <code>target</code> interessant. Da <code>target</code> das gesuchte Input-Field enthält, das Sie sonst mittels <code>$('#member_search input')</code> selektieren, können Sie den Eventhandler auch folgendermaßen registrieren:</p>
            <blockcode>
                event =&gt; updateHighlightingOfChatMembers(event.target.value);
            </blockcode>
            <p>Das hat wieder eine Reihe von handfesten Vorteilen. Es ist in jedem Fall performanter, da der Browser das Element-Objekt nicht noch einmal ermitteln muss. In <code>target</code> liegt es bereits vor. Der viel wichtigere Vorteil ist allerdings die verbesserte Wartbarkeit. Sollte sich der Selektor zum Finden des Feldes ändern (z.&thinsp;B. weil sich die HTML-Struktur ändert), so müssen Sie nicht daran denken, den Eventhandler anzupassen. Er bezieht sich immer auf das jeweilige <code>target</code>, völlig unabhängig davon, wie Sie das Element gefunden und das Event darauf registriert haben.</p>
            <blockcode id="highlight_chat_members_target" numbered="numbered" src="accompanying_files/05/examples/highlight_chat_members_4_target/highlight_chat_members.js"/>
            <p>Übrigens können Sie <code>event</code> noch als <code>e</code> abkürzen. Normalerweise gelten Abkürzungen als &raquo;böse&laquo; und sollten vermieden werden &mdash; in diesem Fall geht das aber in Ordnung. Der einzelne Buchstabe <code>e</code> ist eine gängige Abkürzung für <code>event</code> und ist akzeptabel, solange der Scope (Sichtbarkeitsbereich der Variable) auf eine sehr kurze Funktion begrenzt ist.</p>
            <p>Jetzt ist es soweit &mdash; Sie können Björn das verbesserte Feature zeigen, und weil er so zufrieden damit ist, schmeißt er nun doch noch eine Party &mdash; hoffentlich wird das ein unvergessliches Event!</p>
            <hint src="images/hint/bjoern.png">
                <p>Danke! Genauso hab' ich mir das vorgestellt! Und hey, wir sehen uns heute Abend!</p>
                <!-- TODO ME: Screencast einbetten: chat_event.mov -->
            </hint>
            <h1>preventDefault oder: Wer mag schon immer nur &raquo;Standard&laquo;?</h1>
            <p>Am übernächsten Tag, als sich Björn wieder ein wenig von der Party erholt hat, präsentiert er die nächste Anforderung. </p>
            <hint src="images/hint/bjoern.png">
                <p>Wie Sie bestimmt noch wissen, gibt es auf der Startseite einen kleinen Newsbereich. Der Bereich zeigt die aktuellen News in einer Box mit Scrollbalken an. Das möchten wir gerne ändern. </p>
                <p>In Zukunft soll dort immer nur eine Nachricht angezeigt werden. Stattdessen soll es dann Vor- und Zurück-Buttons geben, mit denen sich die News durchblättern lassen.</p>
                <p>Unser Designer hat das Layout bereits fertig, es fehlt nur noch die Funktionalität.</p>
                <figure width="80%">
                    <img src="images/screenanimations/newsboard_01.png"/>
                </figure>
            </hint>
            <p>Wenn ein Kunde &raquo;<i>nur noch</i>&laquo; sagt, ist das meistens kein gutes Zeichen. Na gut, los geht's &mdash; schließlich zahlt Björn nicht schlecht&thinsp;&hellip;</p>
            <p>Später einmal, wenn alles fertig ist, wird der Server die Nachrichten liefern. Damit Sie aber jetzt schon Daten zum Ausprobieren haben, haben wir uns erlaubt, Ihnen Blindtext in Form eines Arrays zur Verfügung zu stellen:</p>
            <figure>
                <blockcode numbered="numbered">

                const messages = [
                  `&lt;h1&gt;Tutoren streiken!!!&lt;/h1&gt;
                  &lt;h2&gt;Alle Einsendeaufgaben werden ab sofort mit 0 Punkten bewertet&lt;/h2&gt;
                  &lt;p&gt;[&amp;hellip;]&lt;/p&gt;
                  &lt;p&gt;am 25.09.2015 von K. Einer&lt;/p&gt;`,

                  `&lt;h1&gt;Wahnsinn!&lt;/h1&gt;
                  &lt;h2&gt;Wie ich mit einer dämlichen Idee ein Vermögen machte&lt;/h2&gt;
                  &lt;p&gt;[&amp;hellip;]&lt;/p&gt;
                  &lt;p&gt;am 13.08.2015 von Dr. B. Lödmann&lt;/p&gt;`,

                  `&lt;h1&gt;Prokrastination?&lt;/h1&gt;
                  &lt;h2&gt;Wie oft hörst du dich selbst sagen: &bdquo;Nein, ich hab's noch nicht erledigt; ich habe es vor!&ldquo;&lt;/h2&gt;
                  &lt;p&gt;[&amp;hellip;]&lt;/p&gt;
                  &lt;p&gt;am 02.06.2015 von A. Meisenbär&lt;/p&gt;`
                ];

            </blockcode>
                <figcaption>Ausschnitt aus additional_files/05/examples/newsboard.js</figcaption>
            </figure>
            <p>Hier ist noch das vorgegebene HTML:</p>
            <blockcode numbered="numbered" src="accompanying_files/05/examples/newsboard.html" type="html"/>
            <p>Die Nachrichten sollen im <code>div</code>-Element mit der Klasse <code>newsboard_content</code> erscheinen. Direkt nach dem Laden sollte die erste Nachricht bereits angezeigt werden. Der Code ist zunächst nichts Besonderes:</p>
            <blockcode numbered="numbered">
                'use strict';

                {
                  const init = () =&gt; {
                    showFirstMessage();
                  };

                  const showFirstMessage = () =&gt; showMessageByNumber(1);

                  const showMessageByNumber = messageNumber =&gt;
                    $('.newsboard_content').innerHTML = messages[messageNumber - 1];

                  const messages = [&hellip;];

const $ = q =&gt; document.querySelector(q);
const $$ = q =&gt; Array.from(document.querySelectorAll(q));

                  init();
                }
            </blockcode>
            <p>Bei der Initialisierung rufen Sie die Funktion <code>showFirstMessage</code> auf, die mittels <code>showMessageByNumber(1)</code> die erste Nachricht anzeigt. Letztere Funktion leistet die eigentliche Arbeit: Sie extrahiert die Nachricht aus dem Array und überträgt sie mittels <code>innerHTML</code> an die richtige Stelle im Dokument.</p>
            <p>Einen kleinen Kniff zeigt Zeile 11. Als Index für das <code>messages</code>-Array verwenden Sie den Parameter <code>messageNumber</code>, ziehen aber vorher noch 1 ab. Das ist notwendig, weil das Array bei Index <code>0</code> beginnt. Wir möchten aber von der ersten Nachricht reden, nicht von der nullten.</p>
            <p>Jetzt wird es ein wenig interessanter. Binden Sie das <code>click</code>-Event an die Vor- und Zurück-Zeichen <code>&lsaquo;</code> und <code>&lsaquo;</code>. Sie können die Elemente, die die Zeichen enthalten, über das jeweilige <code>title</code>-Attribut <code>prev</code> bzw. <code>next</code> ansprechen.</p>
            <blockcode numbered="numbered">
                &hellip;
                const init = () =&gt; {
                  showFirstMessage();
                  $('[title=next]').addEventListener('click', nextMessage);
                  $('[title=prev]').addEventListener('click', prevMessage);
                };

                &hellip;

                const nextMessage = e =&gt; console.log('next');
                const prevMessage = e =&gt; console.log('prev');
                &hellip;
            </blockcode>
            <p>Leider funktioniert das noch nicht. Der Designer hat nämlich Links (<code>a</code>-Elemente) für die Vor- und Zurück-Zeichen verwendet. Wären es <code>button</code>-Elemente gewesen, hätten Sie kein Problem. Aber Links haben bereits ein Verhalten beim Anklicken: Sie rufen die im <code>href</code>-Attribut angegebene URL auf!</p>
            <p>Was tun? Sie könnten das Element natürlich ändern. Möglicherweise hat sich der Designer aber etwas dabei gedacht. Beispielsweise könnten die Links dafür da sein, dass das Newsboard auch ohne JS funktioniert &mdash; auf die klassische Weise.</p>
            <p>Es gibt eine bessere Lösung. Verhindern Sie einfach, dass die Links ihr Standardverhalten (Default) auslösen.</p>
            <p>Dafür stellt das Event-Objekt die Methode <code>preventDefault</code> zur Verfügung.</p>
            <blockcode numbered="numbered">
                const nextMessage = e =&gt; {
                  console.log('next');
                  e.preventDefault();
                };
                const prevMessage = e =&gt; {
                  console.log('prev');
                  e.preventDefault();
                };
            </blockcode>
            <p>Nachdem dieses Problem gelöst ist, können Sie sich darum kümmern, tatsächlich die Nachrichten umzublättern, statt nur Log-Nachrichten auszugeben!</p>
            <p>Die Kernproblematik ist hier, dass Sie sich die Nummer der gerade angezeigten Nachricht irgendwo merken müssen. Das heißt, die Anwendung hat einen <keyword>Zustand</keyword> (engl. <keyword>state</keyword>). Das Drücken des Vorwärtszeichens ist abhängig von diesem Zustand. Das Programm muss wissen, welche Nachricht gerade angezeigt wird, um die nächste zu bestimmen.</p>
            <p>Zustandsbehaftung ist immer etwas problematisch. Sie erschwert das Programmverständnis. Im Grunde wollen wir einen veränderlichen Zustand (<keyword>mutable State</keyword>) bei der Programmierung vermeiden. Gerade in grafischen Oberflächen ist er aber oft ein notwendiges Übel.</p>
            <p>Im Moment haben Sie noch keine gute Lösung, um damit umzugehen &mdash; wir kommen später nochmal darauf zurück. Deswegen verwenden Sie erstmal eine Lösung, die nicht ideal ist. Sie können später immer noch ein Refactoring durchführen.</p>
            <p>Speichern Sie die Nummer der aktuellen Nachricht in einer Variable, die sich mehrere Funktionen teilen:</p>
            <blockcode>let currentMessageNumber = 1;</blockcode>
            <p>Damit haben Sie eine einfache Möglichkeit, den Wert beim Vor- und Zurückblättern zu ändern.</p>
            <blockcode numbered="numbered">
            {
              ...

              const nextMessage = e =&gt; {
                showMessageByNumber(currentMessageNumber += 1);
                e.preventDefault();
              };
              const prevMessage = e =&gt; {
                showMessageByNumber(currentMessageNumber -= 1);
                e.preventDefault();
              };

              ...
              let currentMessageNumber = 1;
              ...
            }
            </blockcode>
            <p>Die Variable <code>currentMessageNumber</code> hat zum Glück keinen <keyword>global-Scope</keyword>, da sie nur innerhalb des äußeren Blocks existiert. Solange dieser Block nicht sehr viel größer wird, ist das tolerierbar. Sobald Ihre Anwendung wächst, brauchen Sie aber eine bessere Lösung. Wir kümmern uns in <a href="#attribute"/> darum.</p>
            <p>Hurra, es funktioniert! Hier ist der Code nochmal im Ganzen:</p>
            <blockcode numbered="numbered" src="accompanying_files/05/examples/newsboard.js"/>
            <p>Ein paar Dinge lassen sich aber verbessern. Darum können Sie sich gleich in den Übungen kümmern.</p>
            <h1>Kurz und knapp &mdash; $on</h1>
            <p>Genau wie <code>document.querySelectorAll</code> ist auch
                <code>.addEventListener</code> oft umständlich. Viele Bibliotheken (z.&thinsp;B.
                jQuery) haben dafür die Methode <code>on</code> geprägt. So bedeutet beispielsweise
                <code>$('#my_button').on('click', &hellip;)</code> soviel wie &raquo;beim Klicken
                    (<i>on click</i>) auf den Button mit der id <i>my_button</i>&laquo;. Da wir
                natürlich auch in den Genuss einer vereinfachten Schreibweise kommen möchten,
                verwenden wir hier Code, der eine eigene <code>$on</code>-Funktion definiert:
                <!-- HL: auskommentiert
 ursprünglich an <a href="https://gist.github.com/paulirish/12fb951a8b893a454b32">bling.js</a> angelehnt ist:</p>
            <blockcode numbered="numbered">
Node.prototype.on = function (name, fn) {
  this.addEventListener(name, fn);
  return this;
};

Array.prototype.on = Array.prototype.addEventListener = function (name, fn) {
  this.forEach(elem  =&gt; elem.on(name, fn));
  return this;
};</blockcode>--></p>
            <blockcode numbered="numbered">
const $on = (el, ev, fn) => {
  Array.isArray(el) ? el.forEach(ae => $on(ae, ev, fn)) :
    el.addEventListener(ev, fn);
  return el;
};
            </blockcode>

            <h2>Wie funktioniert die <code>$on</code>-Funktion?</h2>
            <p>Die Funktion hat drei Aufrufparameter:</p>
            <ol>
                <li>hier mit &raquo;<code>el</code>&laquo; bezeichnet, das Element, welches einen Eventlistener zugewiesen bekommen soll. Das kann ein per <code>$(&hellip;)</code> gefundenes DOM-Element sein oder auch ein ganzes durch <code>$$(&hellip;)</code> gefundenes Array von Elementen.</li>
                <li>hier mit &raquo;<code>ev</code>&laquo; bezeichnet, den Bezeichner für das zu behandelnde Event, wie z.B. &quot;click&quot;, &quot;mousemove&quot; oder sonstige Strings,</li>
                <li>hier mit &raquo;<code>fn</code>&laquo; bezeichnet, die Funktion, welche bei Eintreten des Events abgearbeitet werden soll.</li>
            </ol>
            <p>Die <code>$on</code>-Funktion prüft zuerst, ob es sich beim übergebenen Element um ein Array handelt (<code>Array.isArray(el)</code>). Falls ja, wird die Funktion <code>$on</code> nun rekursiv für jeden einzelnen Arrayeintrag aufgerufen.</p>
            <p>Wenn <code>el</code> aber kein Array ist, wird die Methode addEventListener auf <code>el</code> angewendet.</p>
            <p>In beiden Fällen wird als Ergebniswert das übergebene Element <code>el</code> zurückgegeben.</p>

            <p>Der angegebene Code ermöglicht es, die <code>Node</code>s und die <code>Array</code>s
                mit Hilfe der <code>$on</code>-Funktion auf Events reagieren zu lassen. So bedeutet
                nunmehr <code>$on($$('button'), 'click', &hellip;))</code> soviel wie &raquo;beim
                Klicken (<i>on click</i>) auf einen der Button&laquo; tu etwas.</p>
            <h2>Ein Beispiel für die Verwendung von <code>$on</code> auf einem <code>Array</code></h2>
            <p>Für einen <i>Online-Taschenrechner</i> soll ein Tastenfeld erstellt werden, bei dem die jeweils gedrückte Zahl im Display erscheint. Hier das HTML:</p>
            <blockcode numbered="numbered" src="accompanying_files/05/examples/calculator/calculator.html" type="html"/>
            <p>Im JS benötigen Sie (neben unseren Hilfsfunktionen <code>$</code> und <code>$$</code>) jetzt nur noch eine einzige Zeile Code, um die gewünschte Funktionalität zu realisieren:</p>
            <blockcode>$on($$('#keyfield &gt; button'), 'click',
  e =&gt; $('#display').value += e.target.innerHTML));</blockcode>
            <p>Die übergebene Funktion</p>
            <blockcode>e =&gt; $('#display').value += e.target.innerHTML</blockcode>
            <p>schreibt die jeweilige Zahl ins <code>display</code>. Statt diese Funktion auf jeden Button einzeln zu registrieren, genügt ein einziges <code>$on</code>, um alle Buttons mit dem Event-Handler auszustatten.</p>

            <p>Wenn Sie möchten, können Sie sogar mehrere <code>$on</code>-Aufrufe verschachteln:</p>
<blockcode>
$on(
  $on($$('#keyfield &gt; button'),
    'click', e =&gt; $('#display').value += e.target.innerHTML
  ),
  'mouseenter', e =&gt; console.log(e.target.innerHTML)
);
</blockcode>

            <h1>Zusammenfassung</h1>
            <table>
                <caption>Ein Auswahl in der Praxis benötigter Browser-Events. Eine vollständige Liste finden Sie in der <a href="https://developer.mozilla.org/en-US/docs/Web/Events">MDN Event reference</a>.</caption>
                <thead>
                    <tr>
                        <th>Eventname</th>
                        <th>wird ausgelöst, wenn &hellip;</th>
                        <th>z.&thinsp;B. verfügbar auf</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>blur</td>
                        <td>ein Element den Fokus verliert.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>change</td>
                        <td>ein Anwender eine Änderung am Element bewirkt &mdash; z.&thinsp;B. durch Wählen einer Option innerhalb einer <code>select</code>-Box oder durch das Bestätigen einer Checkbox. Im Gegensatz zum <code>input</code>-Event gilt: Bei einem <code>input</code>-Field oder einer <code>textarea</code> &raquo;feuert&laquo; dieses Event erst, nachdem das Feld seinen Fokus wieder verliert (d.&thinsp;h. die Eingabe als abgeschlossen gilt).</td>
                        <td>input, select, textarea</td>
                    </tr>
                    <tr>
                        <td>click</td>
                        <td>ein Anwender auf ein Element klickt (und wieder loslässt). Das <code>click</code>-Event repräsentiert den kompletten Vorgang: Drücken und Loslassen. Wenn Sie nur auf das Runterdrücken reagieren möchten, verwenden Sie <code>mousedown</code>, für nur das Loslassen <code>mouseup</code>.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>dblclick</td>
                        <td>ein Anwender auf einem Element einen Doppelklick ausführt.</td>
                        <td>button, img, body</td>
                    </tr>
                    <tr>
                        <td>focus</td>
                        <td>ein Element den Fokus erhält.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>hashchange</td>
                        <td>sich der Fragmentbezeichner der URL ändert (der Fragmentbezeichner ist der Teil, der nach dem #-Symbol folgt, inkl. Symbol).</td>
                        <td>window</td>
                    </tr>
                    <tr>
                        <td>input</td>
                        <td>der Inhalt eines <code>input</code>- oder <code>textarea</code>-Elements geändert wird. Im Gegensatz zu <code>change</code> feuert dieser Event bei jeder Eingabe sofort. Unter <a href="http://jsfiddle.net/AtvtZ/">http://jsfiddle.net/AtvtZ/</a> finden Sie einen guten Vergleich von <code>input</code> und <code>change</code>.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>keydown</td>
                        <td>der Anwender eine Taste drückt.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>keypress</td>
                        <td>der Anwender eine Taste gedrückt hält.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>keyup</td>
                        <td>der Anwender eine Taste loslässt.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>mouseenter</td>
                        <td>der Anwender den Mauszeiger über das Element bewegt &mdash; genauer: die Fläche des Elements mit dem Mauszeiger betritt.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>mouseleave</td>
                        <td>der Anwender den Mauszeiger aus einem Element herausbewegt.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>mousemove</td>
                        <td>sich der Mauszeiger über dem Element bewegt.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>reset</td>
                        <td>ein Formular zurückgesetzt wird.</td>
                        <td>form</td>
                    </tr>
                    <tr>
                        <td>resize</td>
                        <td>der Anwender die Größe des Browserfensters verändert.</td>
                        <td>window</td>
                    </tr>
                    <tr>
                        <td>scroll</td>
                        <td>innerhalb eines Elements (oder des Browserfensters) gescrollt wird.</td>
                        <td>window, div</td>
                    </tr>
                    <tr>
                        <td>select</td>
                        <td>der Anwender Text markiert.</td>
                        <td>input, textarea, p</td>
                    </tr>
                    <tr>
                        <td>submit</td>
                        <td>ein Formular abgeschickt wird.</td>
                        <td>form</td>
                    </tr>
                    <tr>
                        <td>transitionend</td>
                        <td>eine CSS-Transition beendet ist.</td>
                        <td>img, div, p</td>
                    </tr>
                    <tr>
                        <td>visibilitychange</td>
                        <td>der Inhalt eines Elements sichtbar oder unsichtbar wird.</td>
                        <td>img, div, p</td>
                    </tr>
                    <tr>
                        <td>wheel</td>
                        <td>der Anwender am Rad dreht (wir meinen das wörtlich, nicht im übertragenen Sinn). Normalerweise ist es das Mausrad, aber es kann auch ein Trackball oder ein Touchpad sein.</td>
                        <td>window, div</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption><b>MouseEvent</b>: wichtige Attribute</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Bedeutung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>altKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>ALT</kbd>-Taste zurück.</td>
                    </tr>
                    <tr>
                        <td>button</td>
                        <td>Nummer des gedrückten Buttons (0 bis 4)</td>
                    </tr>
                    <tr>
                        <td>clientX</td>
                        <td>X-Position des Mauszeigers im DOM</td>
                    </tr>
                    <tr>
                        <td>clientY</td>
                        <td>Y-Position des Mauszeigers im DOM</td>
                    </tr>
                    <tr>
                        <td>ctrlKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>CTRL</kbd>-Taste zurück.</td>
                    </tr>
                    <tr>
                        <td>metaKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>META</kbd>-Taste (Windows- bzw. Command-Taste) zurück.</td>
                    </tr>
                    <tr>
                        <td>movementX</td>
                        <td>Relative Bewegung des Mauszeigers auf der X-Coordinate seit dem letzten <code>mousemove</code></td>
                    </tr>
                    <tr>
                        <td>movementY</td>
                        <td>Relative Bewegung des Mauszeigers auf der Y-Coordinate seit dem letzten <code>mousemove</code></td>
                    </tr>
                    <tr>
                        <td>screenX</td>
                        <td>X-Position des Mauszeigers auf dem Bildschirm</td>
                    </tr>
                    <tr>
                        <td>screenY</td>
                        <td>Y-Position des Mauszeigers auf dem Bildschirm</td>
                    </tr>
                    <tr>
                        <td>shiftKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>SHIFT</kbd>-Taste zurück.</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption><b>KeyboardEvent</b>: wichtige Attribute</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Bedeutung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>altKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>ALT</kbd>-Taste zurück.</td>
                    </tr>
                    <tr>
                        <td>code</td>
                        <td>Codewert der gedrückten Taste, z.&thinsp;B. <code>KeyA</code> (unabhängig vom Keyboard-Layout)</td>
                    </tr>
                    <tr>
                        <td>ctrlKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>CTRL</kbd>-Taste zurück.</td>
                    </tr>
                    <tr>
                        <td>key</td>
                        <td>die gedrückte Taste, z.&thinsp;B. <code>a</code> oder <code>ArrowDown</code> (abhängig vom Keyboard-Layout)</td>
                    </tr>
                    <tr>
                        <td>metaKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>META</kbd>-Taste (Windows- bzw. Command-Taste) zurück.</td>
                    </tr>
                    <tr>
                        <td>shiftKey</td>
                        <td>Gibt <code>true</code> bei gedrückter <kbd>SHIFT</kbd>-Taste zurück.</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption><b>WheelEvent</b>: wichtige Attribute</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Bedeutung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>deltaX</td>
                        <td>Scrollbewegung auf der X-Achse</td>
                    </tr>
                    <tr>
                        <td>deltaY</td>
                        <td>Scrollbewegung auf der Y-Achse</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption><b>Event</b>: wichtige Attribute (werden an alle speziellen Eventtypen, wie z.&thinsp;B. <code>MouseEvent</code> vererbt)</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Bedeutung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>currentTarget</td>
                        <td>Element, auf dem der aktuelle Eventhandler registriert ist (oft identisch mit <code>target</code>)</td>
                    </tr>
                    <tr>
                        <td>target</td>
                        <td>Element, das das Event ausgelöst hat (oft identisch mit <code>currentTarget</code>)</td>
                    </tr>
                    <tr>
                        <td>timestamp</td>
                        <td>Zeitpunkt, zu dem das Event ausgelöst wurde</td>
                    </tr>
                </tbody>
            </table>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question type="fill_in_the_blanks" public="public" reviewed="reviewed"><!-- HL: korrekt -->
                    <question_text>
                        <p>Gegeben sind die folgenden Hilfsfunktionen:</p>
                        <blockcode numbered="numbered">
                            const $   = q => document.querySelector(q);
                            const $$  = q => Array.from(document.querySelectorAll(q));
                            const $on = (el, ev, fn) => Array.isArray(el) ?
                            el.forEach(o => $on(o, ev, fn)) :
                            el.addEventListener(ev, fn);
                        </blockcode>
                        <p>Registrieren Sie eine Funktion auf dem <code>keydown</code>-Event aller <code>textarea</code>-Tags. Die Funktion soll <i>Hello World</i> in der JavaScript-Konsole des Browsers ausgeben.</p>
                    </question_text>
                    <answer><blank>$on</blank><code>(</code><blank>$$</blank><code>('textarea'), 'keydown', e =&gt; console.log('Hello World'));</code></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Programmieren Sie eine Funktion <code>logMouseX</code>. Die Funktion soll
                            die X-Coordinate des Mauszeigers (auf dem Bildschirm) in der
                            JavaScript-Konsole des Browsers ausgeben. Diese Funktion wird später wie
                            folgt als EventHandler registriert:</p>
                        <blockcode>document.addEventListener('mousemove', logMouseX);</blockcode>
                    </question_text>
                    <answer><code>const </code><blank>logMouseX = </blank><code>e =&gt; console.log</code><blank>(e.screenX)</blank>;</answer>
                </question>
                <question type="multiple_choice" reviewed="reviewed"><!-- HL: korrekt -->
                    <question_text>
                        <p>Gegeben sind die folgenden Hilfsfunktionen:</p>
                        <blockcode numbered="numbered">
                            const $   = q => document.querySelector(q);
                            const $$  = q => Array.from(document.querySelectorAll(q));
                            const $on = (el, ev, fn) => Array.isArray(el) ?
                            el.forEach(o => $on(o, ev, fn)) :
                            el.addEventListener(ev, fn);
                        </blockcode>
                        <p>Registrieren Sie eine Funktion, die <i>Hello World</i> in der JavaScript-Konsole des Browsers ausgibt, auf dem Doppelklick aller <i>button</i>-Tags.</p>
                    </question_text>
                    <answer correct="correct">$on($$('button'), 'dblclick', e =&gt; console.log('Hello World'));</answer>
                    <answer>$on($('button'), 'dblclick', e =&gt; console.log('Hello World'));</answer>
                    <answer>$on($$('button'), 'dblclick', console.log('Hello World'));</answer>
                    <answer correct="correct">$$('button').forEach(el => $on(el, 'dblclick', e =&gt; console.log('Hello World')));</answer>
                    <answer>$('button').addEventListener(e =&gt; console.log('Hello World', 'dblclick'));</answer>
                    <answer>$$('button').addEventListener(e =&gt; console.log('Hello World'), 'dblclick');</answer>
                    <answer>$on($('button'), 'dblclick', console.log('Hello World'));</answer>
                </question>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Registrieren Sie eine Funktion auf dem Doppelklick des ersten&nbsp;<i>button</i>-Tags, die <i>Hello World</i> in der JavaScript-Konsole des Browsers ausgibt.</p>
                    </question_text>
                    <answer>
                        <p>document.querySelectorAll('button').addEventListener('dblclick', e =&gt; console.log('Hello World'));</p>
                    </answer>
                    <answer correct="correct">
                        <p>document.querySelector('button').addEventListener('dblclick', e =&gt; console.log('Hello World'));</p>
                    </answer>
                    <answer>
                        <p>document.querySelectorAll('button').addEventListener('dblclick', console.log('Hello World'));</p>
                    </answer>
                    <answer>
                        <p>document.querySelector('button').addEventListener(e =&gt; console.log('Hello World', 'dblclick'));</p>
                    </answer>
                    <answer>
                        <p>document.querySelectorAll('button').addEventListener(e =&gt; console.log('Hello World'), 'dblclick');</p>
                    </answer>
                    <answer>
                        <p>document.querySelector('button').addEventListener('dblclick', console.log('Hello World'));</p>
                    </answer>
                </question>
            </questions>
            <h1>Übungen</h1>
            <exercise>
                <name>Please Click Me</name>
                <content>
                    <step>
                        <p>Der folgende Button soll beim Betätigen eine Alert-Box öffnen mit dem Text &raquo;<i>Hey I like it when you click me!</i>&laquo;.</p>
                        <blockcode type="html">&lt;button&gt;Click Me&lt;/button&gt;</blockcode>
                    </step>
                    <step>Entfernen Sie die Alert-Box. Beim Betätigen des Buttons soll sich stattdessen der Button-Text ändern.</step>
                    <step>Ändern Sie den Text in &raquo;<i>Cool, you found an easteregg</i>&laquo;, für den Fall, dass der Anwender beim Klicken die Taste <kbd>alt</kbd> gedrückt hält.</step>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/05/solutions/click_me.js"/>
                </answer>
            </exercise>
            <exercise>
                <name>Newsboard: Das geht noch besser</name>
                <content>
                    <p>Das Newsboard wartet noch auf das Vervollständigen seiner Funktionen.</p>
                    <step>Belegen Sie die Links <code>&raquo;</code> und <code>&laquo;</code> mit Funktionalität. Der Link mit der Aufschrift <code>&laquo;</code> soll es erlauben, zur ersten Nachricht zu springen, der Link <code>&raquo;</code> zur letzen.</step>
                    <step>Der bisher eher sinnlose rote Kreis in der linken oberen Ecke soll nun die Gesamtanzahl der Nachrichten anzeigen. Schreiben Sie eine Funktion, die diese Anzahl ausliest und in das <code>&lt;span&gt;</code> mit der Klasse <code>message_number</code> einträgt.</step>
                    <step>Unterstützen Sie ab sofort das Navigieren durch die News mit der Tastatur. Die Pfeiltasten nach links und rechts sollen dabei jeweils die gleiche Funktionalität wie die Buttons <code>&lt;</code> und <code>&gt;</code> ermöglichen.</step>
                    <step>Auch das Springen auf die erste bzw. letzte Position soll nun mit Tastatur möglich sein. Die Tastenkombination dafür ist <kbd>alt</kbd> und die Pfeiltaste nach links (zur ersten Nachricht) bzw. rechts (zur letzten Nachricht).</step>
                </content>
                <answer>
                    <b>1.</b>
                    <blockcode numbered="numbered" src="accompanying_files/05/solutions/newsboard/newsboard_1a.js"/>
                    <b>1. (refactored)</b>
                    <blockcode numbered="numbered" src="accompanying_files/05/solutions/newsboard/newsboard_1b.js"/>
                    <b>2.</b>
                    <blockcode numbered="numbered" src="accompanying_files/05/solutions/newsboard/newsboard_2.js"/>
                    <b>3.</b>
                    <blockcode numbered="numbered" src="accompanying_files/05/solutions/newsboard/newsboard_3.js"/>
                    <b>4.</b>
                    <blockcode numbered="numbered" src="accompanying_files/05/solutions/newsboard/newsboard_4.js"/>
                </answer>
            </exercise>
            <!--
                TODO

                Kommt Später: Löschen von Nachrichten mittels X, korrigieren der Anzahl
                Kommt Später: Alle Mitteilungen wieder anzeigen

                Kommt Später: Wenn nix mehr da -> dann weg

            -->
        </lesson>
        <lesson>
            <lesson_name>Mehrere JS-Dateien verwenden</lesson_name>
            <topics>
                <li>wie Sie mehrere Skripte laden können.</li>
                <li>wie Sie immer die Übersicht über Ihre Skripte behalten.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Hi. Ich komme gerade von einem Meeting mit Carl Biersee. Carl ist unser Consultant. Wir zahlen ihm eine Menge Geld dafür, dass er uns immer wieder sagt, wie toll unsere neue Plattform ist, und dass wir auf dem richtigen Weg sind.</p>
                <p>Heute hat er einen Blick auf die aktuelle Codebasis geworfen. Ich meine, Carl ist ein netter Kerl. Er wollte den Code nicht schlecht reden. Aber er hat uns doch klar zu verstehen gegeben, dass da nach oben noch ziemlich viel Luft ist.</p>
                <p>Ein Sache, die Sie auf jeden Fall verbessern sollten: den Code auf mehrere Dateien aufteilen. Er hat auch noch irgendwas von DRY und Rädern erzählt&thinsp;&hellip;oder so ähnlich?</p>
            </hint>
            <p>Ob Karl sein Geld wirklich wert ist, darüber kann man sicherlich geteilter Meinung sein. In einem hat er jedoch recht: Ab einer gewissen Größe ist es sinnvoll, den Code auf mehrere Dateien aufzuteilen. Das bringt eine Reihe von Vorteilen:</p>
            <ul>
                <li>bessere Übersicht</li>
                <li>einfachere Wiederverwendung</li>
                <li>erleichterte Teamarbeit</li>
            </ul>
            <h3>Bessere Übersicht</h3>
            <p>Je größer eine Datei wird, um so schwieriger ist es, innerhalb der Datei die richtige Codestelle zu finden. Wenn Sie Ihren Code thematisch aufteilen und die Dateien sinnvoll benennen, hilft das ungemein bei der Wartung und Weiterentwicklung. </p>
            <p>Stellen Sie sich vor, Sie sind Handwerker und suchen ein Werkzeug. In einem möglichen Szenario haben Sie einen Schreibtisch mit beschrifteten Schubladen. In einem anderen haben Sie eine große Kiste, in die das Werkzeug reingekippt wurde. Wo würden Sie lieber suchen?</p>
            <h3>Einfachere Wiederverwendung</h3>
            <p>Wenn Sie Funktionen haben, die Sie an vielen Stellen in Ihrer Anwendung benötigen, ist es natürlich ungeschickt, das Rad immer wieder aufs Neue zu erfinden. Auch <i>Copy&amp;Paste</i> von Funktionen ist keine besonders gute Lösung. Wir haben das zwar in der Vergangenheit immer wieder getan. Aber jetzt wollen wir das verbessern.</p>
            <p>Das Problem mit Copy&amp;Paste zeigt sich spätestens dann, wenn Sie Ihren Code überarbeiten oder einen Bug ausmerzen. In dem Fall müssen Sie alle Kopien dieses Codefragments ebenfalls anpassen. Tun Sie das nicht, wird der Bug Sie verfolgen, oder es kommt zu Inkonsistenzen und überraschendem Verhalten.</p>
            <p>Besser ist: Sie lagern gemeinsamen Code aus und binden die gleiche Datei an allen benötigten Stellen ein. Dann vermeiden Sie Inkonsistenzen und müssen nicht den Klonen hinterjagen.</p>
            <hint>
                <h3>Das DRY-Prinzip</h3>
                <p>DRY ist hier nicht wörtlich gemeint. Es steht für <i><b>D</b>on't <b>R</b>epeat <b>Y</b>ourself</i> &mdash; wiederhole Dich nicht! Damit ist gemeint, dass Entwickler immer versuchen sollten, Redundanzen im Code zu vermeiden. </p>
                <p>Es geht nicht um simple Duplikate. Jedes Stück Wissen, jedes Konzept sollte genau <b>eine</b> autoritative Quelle, nur <b>eine</b> Repräsentation im Code haben (Venners 2003). Wenn sich ein Konzept ändert, sollte es im Code idealerweise nur <b>eine</b> Stelle geben, die Sie anpassen müssen. Manchmal ist es strittig, ob Code redundant ist oder nur zufällig gleich.</p>
                <p>Mittels Copy&amp;Paste erzeugte Funktionen verstoßen meistens gegen das Dry-Prinzip. <b>Vermeiden Sie Copy&amp;Paste!</b></p>
            </hint>
            <h3>Erleichterte Teamarbeit</h3>
            <p>Falls Sie mit mehreren Leuten am gleichen Projekt arbeiten, ist es hilfreich, viele kleine statt wenige große Dateien zu haben. Je besser das Projekt aufgeteilt ist, desto weniger kommen Sie sich in die Quere.</p>
            <p>Gute Versionierungssysteme (wie z.&thinsp;B. <a href="https://git-scm.com">GIT</a>) helfen, Änderungen zusammenzuführen, wenn mehrere Entwickler an der selben Datei arbeiten. Am einfachsten ist es aber immer noch, wenn das gar nicht nötig ist.</p>
            <hint src="images/hint/owl.png">
                <p>Die empfohlenen Dateigröße liegt übrigens bei ca. <b>50 bis 60 Zeilen Code</b>. Das ist etwa die Codemenge, die Sie ohne zu scrollen auf eine Bildschirmseite bekommen. Das ist natürlich nur eine Daumenregel &mdash; begründete Ausnahmen gibt es immer wieder.</p>
            </hint>
            <h1>Fröhliches Datei-Zerhacken</h1>
            <p>Wie lässt sich das nun realisieren? Im Grunde ist es nicht schwierig, aber es gibt ein paar Stolperfallen. Oft ist die Reihenfolge, in der das HTML-Dokument die JS-Dateien einbindet, relevant.</p>
            <p>Das <code>defer</code>-Attribut sorgt dafür, dass das Laden der Scripte asynchron geschieht und die Scripte somit in (mehr oder weniger) zufälliger Reihenfolge eintrudeln. Glücklicherweise garantiert das <code>defer</code>-Attribut aber auch, dass die Scripte nach dem Laden in der Reihenfolge ausgeführt werden, die <a href="http://www.breck-mckye.com/blog/2014/04/document-loading-and-DOM-lifecycle-events/">das HTML-Dokument vorgibt</a>. Damit unterscheidet es sich vom <code>async</code>-Attribut, das Scripte sofort nach dem Laden ausführt &mdash; völlig unabhängig von der Reihenfolge der <code>script</code>-Tags im HTML.</p>
            <blockcode numbered="numbered" type="html">
                &lt;script src="code1.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="code2.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="code3.js" defer="defer"&gt;&lt;/script&gt;
            </blockcode>
            <p>Dennoch ist es aus Wartungsgründen unschön, wenn eine Änderung der Reihenfolge dazu führt, dass das Programm nicht mehr funktioniert. Mit ein wenig Disziplin können Sie das vermeiden.</p>
            <p>Halten Sie einfach folgende Regeln ein:</p>
            <ul>
                <li>Aufrufe von Funktionen erfolgen nur in der letzten eingebundenen Datei. Idealerweise gibt es nur einen einzigen Funktionsaufruf, z.&thinsp;B. <code>init()</code> oder <code>run()</code>.</li>
                <li>Alle anderen Dateien definieren lediglich Variablen (<code>let</code>) oder &mdash; bevorzugt &mdash; Konstanten (<code>const</code>).</li>
            </ul>
            <p>Wenn Sie die beiden obigen Regeln befolgen, sind Sie bereits auf der sicheren Seite. Die Funktionalität ist komplett geladen, bevor ein Funktionsaufruf sie benötigt. Darüber hinaus gibt es Programmierrichtlinien, die Ihnen helfen, den Code sinnvoll zu organisieren.</p>
            <hint type="doc">
                <h3>Programmierrichlinie</h3>
                <ul>
                    <li>Ordnen Sie JS-Dateien von <i>generisch</i> nach <i>spezifisch</i>. </li>
                </ul>
                <p>Die letzte Datei, die Sie einbinden, sollte den speziellsten Code enthalten, der sich auf die aktuelle Anwendung bezieht. Die davor eingebundenen Dateien können allgemeinere Funktionen enthalten, die auch an anderer Stelle benötigt werden.</p>
                <ul>
                    <li>Laden Sie externe Bibliotheken und Fremdcode immer vor dem eigenen Code.</li>
                </ul>
            </hint>
            <p>Falls Sie mehrere unabhängige JS-Funktionalitäten in die gleiche HTML-Seite einbinden, so betrachten Sie jede dieser Funktionalitäten als eine eigenständige Gruppe von Scripten. Die obigen Regeln gelten dann pro Gruppe.</p>
            <h3>Beispiel</h3>
            <blockcode numbered="numbered" type="html">
                &lt;script src="gruppe1_allgemeine_bibliothek1.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="gruppe1_allgemeine_bibliothek2.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="gruppe1_eigene_funktionen.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="gruppe1_eigene_datei_mit_init_aufruf.js" defer="defer"&gt;&lt;/script&gt;

                &lt;script src="gruppe2_allgemeine_bibliothek1.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="gruppe2_allgemeine_bibliothek2.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="gruppe2_eigene_funktionen.js" defer="defer"&gt;&lt;/script&gt;
                &lt;script src="gruppe2_eigene_datei_mit_init_aufruf.js" defer="defer"&gt;&lt;/script&gt;
            </blockcode>
            <p>Damit Carl nun endlich Ruhe gibt (Sie wissen schon, er wird dafür bezahlt, dass er &raquo;Probleme&laquo; findet), teilen Sie das Newsboard am besten in drei Dateien auf.</p>
            <blockcode numbered="numbered" src="accompanying_files/06/examples/newsboard/dom_helper.js"/>
            <p>Die Datei <i>dom_helper.js</i> enthält im Moment nur die $-Funktion. Wenn Sie weitere allgemeine Funktionen benötigen, können Sie sie hier ergänzen. </p>
            <blockcode numbered="numbered" src="accompanying_files/06/examples/newsboard/messages.js"/>
            <p>Die Datei <i>message.js</i> enthält die Nachrichten selbst. Falls jemand weitere Nachrichten ergänzt, muss er nur noch diese Datei ändern. Das vermindert die Wahrscheinlichkeit, dass sich nachträglich Fehler in den eigentlichen Anwendungscode einschleichen.</p>
            <blockcode numbered="numbered" src="accompanying_files/06/examples/newsboard/newsboard.js"/>
            <p>Folgender Code bindet die drei Dateien ein:</p>
            <figure>
                <blockcode numbered="numbered" type="html">

                &lt;head&gt;
                  ...
                  &lt;script src="dom_helper.js" defer="defer"&gt;&lt;/script&gt;
                  &lt;script src="messages.js" defer="defer"&gt;&lt;/script&gt;
                  &lt;script src="newsboard.js" defer="defer"&gt;&lt;/script&gt;
                  ...
                &lt;/head&gt;
                ...

            </blockcode>
                <figcaption>newsboard.html</figcaption>
            </figure>
            <h1>Der Terror der globalen Verschmutzung</h1>
            <p>Leider gibt es ein weiteres Hindernis. Wenn Sie auf Variablen und Konstanten aus einer anderen Datei zugreifen möchten, dürfen Sie diese nicht in einen Block packen. Ein äußerer Block sorgt ja gerade dafür, dass die Namen der Variablen (bzw. Konstanten) diesen nicht verlassen und damit den Sichtbarkeitsbereich der Datei überschreiten.</p>
            <p>Das kann aber unweigerlich zu den Problemen führen, vor denen gerade der Block schützen sollte: der <i>Verschmutzung des globalen Namensraums</i>.</p>
            <p>Binden Sie viele Dateien ein, kann es passieren, dass diese die gleichen Namen verwenden. In dem Fall kommt es zu einem Namenskonflikt und dadurch zu Fehlern. Vor allem, wenn Sie viele 3rd-Party-Scripts (z.B. Youtube, Google-Analytics) oder externe Bibliotheken einbinden, kann es schnell passieren, dass Sie die Kontrolle verlieren. Dann steht Ihnen eine aufwendige Fehlersuche bevor &mdash; auch bekannt als <keyword>Bug Hunt</keyword>.</p>
            <p>Das klingt möglicherweise erst einmal nach einer eher unwahrscheinlichen Situation. Wir können Ihnen aber versichern, dass das ein sehr reales Problem ist. Es ist nicht so selten, wie Sie vielleicht denken!</p>
            <p>Versuchen Sie deswegen die Anzahl der globalen Variablen und Konstanten möglichst klein zu halten.</p>
            <hint src="images/people/marco.jpg">
                <h3>Ein kleines Experiment</h3>
                <p>Suchen Sie sich einen beliebigen erfahrenen JS-Entwickler in Ihrer Nachbarschaft (falls nicht vorhanden, Radius bitte ausdehnen). Bitten Sie diesen Entwickler, eine Anekdote zu Thema <i>Namenskonflikt</i> zum Besten zu geben. Vermutlich wird er Ihnen eine haarsträubende Geschichte erzählen.</p>
            </hint>
            <hint src="images/hint/owl.png">
                <h3>Kampf gegen die globale Verschmutzung</h3>
                <p>Tatsächlich gibt es Auswege aus dem Dilemma der <i>globalen Namensraumverschutzung</i>. Die entsprechenden Prinzipien sprengen aber ein wenig den Rahmen dieses Kurses. Falls es Sie interessiert, finden Sie hier ein paar weiterführende Infos:</p>
                <ul>
                    <li><a href="https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript">Modulpattern &amp; revealing Modulepattern</a> (Osmani )</li>
                    <li><a href="https://leanpub.com/setting-up-es6/read#sec_webpack-babel">ES6-Imports mit webpack und Babel</a> (Rauschmayer 2016)</li>
                    <li>
                        <a href="https://github.com/ModuleLoader/es6-module-loader">ES6-Imports mit dem ES6-module-loader</a>
                    </li>
                </ul>
            </hint>
            <h1>Kein bisschen verstaubte Bibliotheken</h1>
            <p>Im Zusammenhang mit Programmiersprachen ist eine <keyword>Bibliothek</keyword> (engl. <keyword>library</keyword> &mdash; abgekürzt <keyword>lib</keyword>) eine Sammlung von Code (z.B. in Form von Funktionen), den Sie in Ihre eigenen Programme einbinden können. Der Code kann dabei unterschiedlich spezialisiert oder allgemein gehalten sein. Normalerweise ist er aber eher generisch und kann in vielen verschiedenen Programmen verwendet werden.</p>
            <p>Im Grunde haben Sie in dieser Lektion schon eine Bibliothek zusammengestellt &mdash; vielleicht nicht aus dicken Wälzern und alten Scharteken, aber in Form einer Datei. Genau! Die Datei <i>dom_helper.js</i> ist bereits eine kleine Bibliothek.</p>
            <blockcode numbered="numbered" src="accompanying_files/06/examples/newsboard/dom_helper.js"/>
            <p>Zugegeben, sie enthält momentan nur eine Funktion &mdash; die Funktion <code>$</code>. Eine Bibliothek mit nur einem Buch würden Sie wohl kaum eine Bibliothek nennen. Für nur eine einzige Funktion wäre es auch in der Praxis ein wenig übertrieben, eine Bibliothek einzubinden. Tatsächlich haben wir aber bereits eine Reihe von Funktionen und Erweiterungen, die wir häufiger benötigen. </p>
            <p>Tragen Sie diese Funktionen in die Datei <i>dom_helper.js</i> ein, und Sie können in Zukunft auf ständiges Copy&amp;Paste dieser Funktionen verzichten.</p>
            <blockcode numbered="numbered" src="accompanying_files/lib/dom_helper.js"/>
            <p>Im Begleitmaterial finden Sie die Datei bereits im <code>/lib</code>-Verzeichnis.</p>
            <p>Falls Sie einen Fehler finden, müssen Sie ihn auch nur einmal beheben und nicht in allen durch Copy&amp;Paste entstandenen Kopien.</p>
            <h3>Sharing is caring: Einbinden fremder Bibliotheken</h3>
            <p>Das Gute ist, dass bereits viele JS-Entwickler Bibliotheken zu den verschiedensten Themen angelegt und unter einer OpenSource-Lizenz veröffentlicht haben. Solche Bibliotheken können Sie bei Bedarf einbinden und müssen dadurch nicht alles selbst entwickeln.</p>
            <hint src="images/hint/owl.png">
                <h3>Package Manager</h3>
                <p>Das Einbinden und Wiederverwenden von fremden Bibliotheken gelingt am einfachsten mit Hilfe eines <keyword>Package-Managers</keyword>. Das Verwenden eines solchen Managers behandeln wir hier jedoch nicht. Falls Sie mehr darüber wissen möchten, finden Sie unter diesen URLs zwei bekannte Package-Manager für JS.</p>
                <ul>
                    <li>
                        <a href="https://www.npmjs.com">https://www.npmjs.com</a>
                    </li>
                    <li><a href="https://yarnpkg.com">https://yarnpkg.com</a></li>
                    <li>
                        <a href="http://jspm.io">http://jspm.io</a>
                    </li>
                </ul>
            </hint>
          <!--  <h1>Übungen</h1>
            <exercise>
                <content>
                    <p>Zerlegen Sie den Code aus <a href="#highlight_chat_members_target"/> nach den Prinzipien dieser Lektion.</p>
                </content>
            </exercise>-->
        </lesson>
        <lesson id="attribute">
            <lesson_name>Attribute: Erkennen, Ändern und Manipulieren ausdrücklich erlaubt</lesson_name>
            <topics>
                <li>wie Sie HTML-Elementen im JavaScript-Code Attribute zuweisen können.</li>
                <li>wie Sie statisches HTML mit JavaScript interaktiv machen können.</li>
            </topics>
            <!-- oder "Mach was Dir gefällt &hellip; mit Attributen"  -->
            <!-- oder "Mach was Du willst &hellip; mit Attributen"  -->
            <hint src="images/hint/bjoern.png">
                <p>Wir hätten da gerne noch eine Verbesserung für den Newsbereich. Es ist wirklich nur eine Kleinigkeit.</p>
                <p>Zur besseren Visualisierung haben wir uns vorgestellt, dass ein Fortschrittsbalken anzeigt, wie viele News der Anwender schon gelesen hat und wie viele noch kommen. Das können Sie doch bestimmt heute noch einbauen, oder?</p>
                <figure width="70%">
                    <img src="images/screenshots/newsboard_progressbar.png"/>
                </figure>
            </hint>
            <p>Tja, mal sehen, ob Sie das heute fertig bekommen. Bevor Sie sich aber der Aufgabe im Ganzen widmen können, möchten wir Ihnen zeigen, wie Sie einen Fortschrittsbalken (engl. progress bar) mit JS ansprechen. Einen Fortschrittsbalken können Sie mit dem HTML5-Element <code>progress</code> erzeugen:</p>
            <figure id="progressbar_3_of_10">
                <blockcode type="html">
                &lt;progress value="3" max="10"&gt;&lt;/progress&gt;
            </blockcode>
                <figcaption>das HTML-Element progress</figcaption>
            </figure>
            <p>Das Attribut <code>max</code> gibt den maximalen Wert des Balkens an, bei dem er am Ende angelangt ist. Mit <code>value</code> ist der aktuelle Wert gemeint. Wenn Sie also gerade <i>Nachricht 3 von 10</i> anzeigen möchten, so müssen Sie <code>max</code> auf <code>10</code> und <code>value</code> auf <code>3</code> setzen, wie in <a href="#progressbar_3_of_10"/>.</p>
            <p>Natürlich benötigen Sie jetzt die Möglichkeit, den Wert des <code>value</code>-Attributs mit JavaScript zu ändern.</p>
            <blockcode numbered="numbered" src="accompanying_files/07/examples/progressbar.html" id="news_progress" type="html"/>
            <p>Öffnen Sie die Datei zu <a href="#news_progress"/> im Browser und greifen Sie auf das Element-Objekt des Balkens anhand seiner id <code>messages_progress</code> zu:</p>
            <blockcode>$('#messages_progress')</blockcode>
            <p>Alle HTML-Element-Objekte bieten die Methoden <code>getAttribute</code> und <code>setAttribute</code> zum Auslesen und Verändern von Attributwerten an.</p>
            <p>Mittels</p>
            <blockcode>$('#messages_progress').getAttribute('value')</blockcode>
            <p>erhalten Sie den aktuellen Wert <code>3</code> des <code>value</code>-Attributs zurück und mittels </p>
            <blockcode>$('#messages_progress').setAttribute('value', 8)</blockcode>
            <p>können Sie den Wert auf <code>8</code> ändern.</p>
            <p>Element-Objekte verfügen außerdem über die Eigenschaft <code>attributes</code>, die eine Liste aller verfügbaren Attribute zurückliefert:</p>
            <blockcode>$('#messages_progress').attributes // =&gt; NamedNodeMap [ max="20", value="7", id="messages_progress" ]</blockcode>
            <p>Der Rückgabewert ist eine sogenannte <code>NamedNodeMap</code> &mdash; ein Objekt, das alle Attribute und deren Werte enthält.</p>
            <h1>IDL-Attribut vs. Content-Attribut</h1>
            <p>Generell können Sie mit den beiden Methoden <code>getAttribute</code> und <code>setAttribute</code> nahezu beliebige Attribute auf HTML-Elementen auslesen und ändern. In vielen Fällen stellt das DOM die Attribute aber auch direkt als JS-Properties auf dem HTML-Element-Objekt zur Verfügung. So können Sie z.&thinsp;B. den Wert des Balkens auch direkt mit</p>
            <blockcode>$('#messages_progress').value</blockcode>
            <p>auslesen bzw. mit</p>
            <blockcode>$('#messages_progress').value = 8</blockcode>
            <p>auf <code>8</code> ändern. Die Attribute, die Sie mit den Zugriffs-Methoden auslesen, heißen <keyword>Content-Attribute</keyword> und die, die Sie direkt über Eigenschaften ansprechen, werden <keyword>IDL-Attribute</keyword> genannt. In den meisten Fällen macht es keinen Unterschied, welche Art von Attribut Sie verwenden. Die IDL-Attribute greifen auf die zugrundeliegenden Content-Attribute zu.</p>
            <p>Einen kleinen Unterschied stellt der verwendete Datentyp dar. Content-Attribute sind immer vom Datentyp <code>string</code>.</p>
            <blockcode>typeof $('#messages_progress').getAttribute('value') // =&gt; string</blockcode>
            <p>IDL-Attribute können dagegen unterschiedliche Datentypen haben. So ist z.&thinsp;B. der <code>value</code> des <code>progress</code>-Elementes vom Typ <code>number</code>.</p>
            <blockcode>typeof $('#messages_progress').value // =&gt; number</blockcode>
            <h1>Es lebe der Fortschritt(sbalken)!</h1>
            <p>Jetzt, wo Sie wissen, wie es funktioniert, müssen Sie den Fortschrittsbalken nur noch anbinden. Das Schöne dabei ist, dass Sie die ungeliebte Variable <code>currentMessageNumber</code> dabei loswerden. Statt in der Variable können Sie den Wert direkt im <code>value</code>-Attribut von <code>progress</code> speichern.</p>
            <p>Zum einfacheren Zugriff definieren Sie zunächst eine Funktion <code>progressbar</code>, die Ihnen das <code>progressbar</code>-Element zurückliefert.</p>
            <blockcode>const progressbar = () =&gt; $('#messages_progress');</blockcode>
            <p>Somit können Sie nun den aktuellen Wert des Fortschrittsbalken (<code>progressbar().value</code>) mittels <code>+=1</code> und <code>-=1</code> verändern.</p>
            <blockcode numbered="numbered">
              const nextMessage = e =&gt; {
                showMessageByNumber(progressbar().value += 1);
                e.preventDefault();
              };
              const prevMessage = e =&gt; {
                showMessageByNumber(progressbar().value -= 1);
                e.preventDefault();
              };            </blockcode>
            <h3>Ein kleines Refactoring</h3>
            <p>Zur Verbesserung der Lesbarkeit können Sie den Code, der den <code>value</code> der Fortschrittsbalken verändert, noch in eigene Funktionen auslagern:</p>
            <blockcode numbered="numbered">
              const nextMessage = e =&gt; {
                showMessageByNumber(incCurrentMessageNumber());
                e.preventDefault();
              };
              const prevMessage = e =&gt; {
                showMessageByNumber(decCurrentMessageNumber());
                e.preventDefault();
              };

              const incCurrentMessageNumber = () =&gt; progressbar().value += 1;
              const decCurrentMessageNumber = () =&gt; progressbar().value -= 1;</blockcode>
            <p>Probieren Sie es aus. Hurra &mdash; der Fortschrittsbalken funktioniert!</p>
            <!--hint src="images/hint/owl.png">
                <h3>Mutable State &mdash; Wie Böse ist das wirklich?</h3>
                <p>Was sind Seiteneffekte</p>
                <p>Nachvollziehbarkeit</p>
                <p>DOM + Event als Eingangsargument => neuer DOM als Ausgangsargument</p>
                <p>OOP versteckt state (encapsulation), macht ihn handlebar, FP vermeidet state</p>
                <p>a matter of scope, je größer der scope von geteilten Variablen (global ist am
                    schlimmsten) um so schwerer ist ein Programm zu verstehen</p>
                <p>Closures haben das Problem nicht, da Sie lexicalisch binden.</p>
                <p>http://henrikeichenhardt.blogspot.de/2013/06/why-shared-mutable-state-is-root-of-all.html</p>
                <p>http://programmers.stackexchange.com/questions/235558/what-is-state-mutable-state-and-immutable-state</p>
                <p>http://programmers.stackexchange.com/questions/148108/why-is-global-state-so-evil</p>
                <p>Events &amp; Eventloop (Node) statt multithreading -> verhindert shared mutable
                    State</p>
            </hint-->
            <h3>Initalisierung in progress</h3>
            <p>Um flexibel auf unterschiedlich große <code>messages</code>-Arrays reagieren zu können, sollten Sie den Fortschrittsbalken noch mit den richtigen Werten initialisieren.</p>
            <blockcode numbered="numbered">
            const initProgressbar = () =&gt; {
              progressbar().max = messages.length;
              progressbar().value = 1;
            };
            </blockcode>
            <p><code>initProgressbar</code> können Sie dann in der <code>init</code>-Hauptfunktion aufrufen. Fügen Sie versuchshalber ein paar neue Nachrichten im Array hinzu. Sie sehen, dass der Fortschrittsbalken sich sofort dynamisch anpasst.</p>
            <h1>Achtung! &mdash; boolesche Attribute</h1>
            <p>Bei booleschen Attributen müssen Sie etwas aufpassen. Betrachten Sie beispielsweise die Eigenschaft <code>disabled</code>. Diese Eigenschaft gibt es unter anderem auf den Elementen <code>button</code>, <code>input</code>,&nbsp;<code>option</code>,&nbsp;<code>select</code> und&nbsp;<code>textarea</code>.</p>
            <blockcode numbered="numbered" type="html">&lt;button disabled="disabled"&gt;Not today, sorry&lt;/button&gt;
&lt;button&gt;Click Me - I'm enabled&lt;/button&gt;</blockcode>
            <p>Mit <code>disabled="disabled"</code> können Sie den Button deaktiveren. Er erscheint ausgegraut und lässt sich nicht mehr anklicken.</p>
            <figure width="50%">
                <img src="images/screenshots/buttons_disabled.png"/>
                <figcaption>nicht-aktiver und aktiver Button</figcaption>
            </figure>
            <p>Das IDL-Attribut hat den Typ <code>boolean</code>:</p>
            <blockcode>typeof $('button').disabled // =&gt; boolean</blockcode>
            <p>Sie können es mittels</p>
            <blockcode>$('button').disabled = true</blockcode>
            <p>bzw.</p>
            <blockcode>$('button').disabled = false</blockcode>
            <p>umschalten. Verwenden Sie <a href="#button_disabled"/> und die Konsole, um es auszuprobieren.</p>
            <blockcode numbered="numbered" src="accompanying_files/07/examples/button.html" id="button_disabled" type="html"/>
            <p>Arbeiten Sie jedoch mit den Content-Attributen, ist die korrekte Schreibweise zum Ausgrauen des Buttons <code>$('button').setAttribute('disabled', 'disabled')</code>. Noch verrückter wird es, wenn Sie versuchen, den Button wieder zu aktivieren: Ein naives <code>$('button').setAttribute('disabled', '')</code> hilft nicht.</p>
            <p>Tatsächlich würde es den Wert von <code>disabled</code> auch auf <code>true</code> setzen &mdash; letztendlich geht es nämlich bei booleschen Attributen nur um die Frage, ob das Attribut vorhanden ist oder nicht. Der tatsächliche String-Wert spielt keine Rolle. Wenn Sie das Content-Attribut wieder loswerden möchten, müssen Sie es mit <code>removeAttribute</code> entfernen:</p>
            <blockcode>$('button').removeAttribute('disabled');</blockcode>
            <h1>Auf die Fragestellung kommt es an &mdash; mit dem value-Attribut</h1>
            <p>Betrachten Sie <a href="#input_stale_value_example"/>. Das Eingabefeld hat den vorgegebenen Text <i>hello</i> im <code>value</code>-Attribut.</p>
            <blockcode numbered="numbered" src="accompanying_files/07/examples/input.html" id="input_stale_value_example" type="html"/>
            <p>Solange Sie den Text nicht ändern, sind IDL- und Content-Attribut identisch.</p>
            <blockcode numbered="numbered">$('input').value                 // =&gt; "hello"
$('input').getAttribute('value') // =&gt; "hello"</blockcode>
            <p>Geben Sie nun einen neuen Text in das Feld ein, z.&thinsp;B. <i>world</i>, und fragen Sie den Wert erneut über JS ab:</p>
            <blockcode numbered="numbered">$('input').value                 // =&gt; "world"
$('input').getAttribute('value') // =&gt; "hello"</blockcode>
            <figure>
                <img src="images/screenshots/input_value_hello_world.png"/>
            </figure>
            <p>Das IDL-Attribut reflektiert die Änderung und liefert somit die aktuelle Eingabe
                (hier: <code>'world'</code>). Das Content-Attribut bezieht sich aber nach wie vor
                auf den Wert aus dem HTML-Quellcode (hier: <code>'hello'</code>). Dieser Wert kann
                hier auch als <i>Standardwert</i> bezeichnet werden, da er für den Anwender bereits
                vorab im Input-Element vorgegeben ist.</p>
            <hint src="images/people/christin.jpg">
                <h3>Meine Empfehlung</h3>
                <p>Verwenden Sie immer die IDL-Attribute &mdash; außer Sie benötigen gezielt einen Originalwert aus dem HTML-Code!</p>
            </hint>
            <p>Der Zugriff auf die IDL-Attribute ist aus mehreren Gründen vorzuziehen:</p>
            <ul>
                <li>Sie erhalten einen genaueren Datentyp und nicht nur String.</li>
                <li>Sie erhalten aktuelle, möglicherweise geänderte Werte (z.&thinsp;B. durch Eingaben).</li>
                <li>Das Verhalten ist konsistenter. Sie müssen weniger Sonderfälle beachten.</li>
            </ul>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Ein Auswahl von Attributen, die in der Praxis öfter mit JS angesprochen werden. Eine vollständige Liste aller Attribute finden Sie in der <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes">MDN Attribut reference</a>.</caption>
                <thead>
                    <tr>
                        <th>Name des Attributs </th>
                        <th>Elemente, für die das Attribut oft verwendet wird</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>alt</td>
                        <td>
                            <code>area, img, input</code>
                        </td>
                        <td>Alternativer Text, z.&thinsp;B. falls ein Bild nicht dargestellt werden kann.</td>
                    </tr>
                    <tr>
                        <td>checked</td>
                        <td>
                            <code>input</code>
                        </td>
                        <td>Gibt an, ob ein Radiobutton gewählt oder eine Checkbox angehakt ist.</td>
                    </tr>
                    <tr>
                        <td>cols</td>
                        <td>textarea</td>
                        <td>Anzahl der Spalten</td>
                    </tr>
                    <tr>
                        <td>disabled</td>
                        <td>
                            <code>button, input, option, select, textarea</code>
                        </td>
                        <td>Gibt an, ob ein Element deaktiviert ist.</td>
                    </tr>
                    <tr>
                        <td>href</td>
                        <td>
                            <code>a, link</code>
                        </td>
                        <td>Die URL einer verlinkten Ressource</td>
                    </tr>
                    <tr>
                        <td>max</td>
                        <td>
                            <code>progress, input</code>
                        </td>
                        <td>Der Maximalwert &mdash; bei <code>input</code>-Elementen ist das nur für <code>type="number"</code> und <code>type="range"</code> sinnvoll.</td>
                    </tr>
                    <tr>
                        <td>maxlength</td>
                        <td>
                            <code>input, textarea</code>
                        </td>
                        <td>Maximal erlaubte Zeichen in einem Element</td>
                    </tr>
                    <tr>
                        <td>min</td>
                        <td>
                            <code>input</code>
                        </td>
                        <td>Der Minimalwert &mdash; bei <code>input</code>-Elementen ist das nur für <code>type="number"</code> und <code>type="range"</code> sinnvoll.</td>
                    </tr>
                    <tr>
                        <td>multiple</td>
                        <td>
                            <code>input, select</code>
                        </td>
                        <td>Erlaubt bei <code>true</code> mehrere Eingaben für <code>input
                                type="email"</code> oder <code>input type="file"</code>. Bei <code>select</code> können mit <kbd>strg/cmd</kbd> mehrere Optionen gewählt werden.</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>
                            <code>button, form, fieldset, input, select, textarea</code>
                        </td>
                        <td>Name des Elements. Dieses Attribut wird hauptsächlich für serverseitige Anwendungen zur Identifizierung genutzt.</td>
                    </tr>
                    <tr>
                        <td>placeholder</td>
                        <td>
                            <code>input, textarea</code>
                        </td>
                        <td>Voreingestellter Text, der dem Anwender einen Hinweis zu den erwarteten Eingaben gibt.</td>
                    </tr>
                    <tr>
                        <td>readonly</td>
                        <td>
                            <code>input, textarea</code>
                        </td>
                        <td>Gibt an, ob ein Element bearbeitet werden kann.</td>
                    </tr>
                    <tr>
                        <td>rel</td>
                        <td>
                            <code>a, link</code>
                        </td>
                        <td>Definiert die Beziehung zwischen dem Ziel- und dem Link-Objekt. Kann auch für eigene Beziehungstypen verwendet werden, z.&thinsp;B. interne Links für eine JS-Bildergalerie.</td>
                    </tr>
                    <tr>
                        <td>required</td>
                        <td>
                            <code>input, select, textarea</code>
                        </td>
                        <td>Gibt an, ob ein Element ein Pflichtfeld darstellt.</td>
                    </tr>
                    <tr>
                        <td>rows</td>
                        <td>
                            <code>textarea</code>
                        </td>
                        <td>Anzahl der Zeilen</td>
                    </tr>
                    <tr>
                        <td>selected</td>
                        <td>
                            <code>option</code>
                        </td>
                        <td>Gibt an, ob eine <code>option</code> selektiert ist.</td>
                    </tr>
                    <tr>
                        <td>size</td>
                        <td>
                            <code>select</code>
                        </td>
                        <td>Anzahl der sichtbaren Optionen bei einer <code>select</code>-Box</td>
                    </tr>
                    <tr>
                        <td>src</td>
                        <td>
                            <code>img</code>
                        </td>
                        <td>URL der Bilddatei</td>
                    </tr>
                    <tr>
                        <td>start</td>
                        <td>
                            <code>ol</code>
                        </td>
                        <td>Definiert die Startnummer einer Liste, wenn etwas anderes als 1 gewünscht ist.</td>
                    </tr>
                    <tr>
                        <td>step</td>
                        <td>
                            <code>input</code>
                        </td>
                        <td>Die Schrittweite &mdash; bei <code>input</code>-Elementen ist das nur für <code>type="number"</code> und <code>type="range"</code> sinnvoll.</td>
                    </tr>
                    <tr>
                        <td>tabindex</td>
                        <td>auf allen Elementen möglich</td>
                        <td>Überschreibt die herkömmliche Reihenfolge der angesteuerten (Formular-)Elemente mit Hilfe der Tab-Taste.</td>
                    </tr>
                    <tr>
                        <td>title</td>
                        <td>auf allen Elementen möglich</td>
                        <td>Kleine Text-Box (Tooltip), die beim &raquo;Hover&laquo; angezeigt wird.</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>
                            <code>button, input</code>
                        </td>
                        <td>Typ des Elements</td>
                    </tr>
                    <tr>
                        <td>value</td>
                        <td>
                            <code>button, option, input, progress</code>
                        </td>
                        <td>Wert des Elements</td>
                    </tr>
                </tbody>
            </table>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>In einem HTML-Element gibt es folgenden Fortschrittsbalken:</p>
                        <blockcode>&lt;progress id="my_progress" value="4" max="5"&gt;&lt;/progress&gt;</blockcode>
                        <p>Welchen Wert gibt folgender Ausdruck zurück, wenn er im Kontext des angegebenen HTML-Arguments aufgerufen wird?</p>
                        <blockcode>document.querySelector('#my_progress').getAttribute('value') + 1</blockcode>
                    </question_text>
                    <answer><blank>41</blank></answer>
                </question>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Der button mit der id <code>'my_button'</code> ist ausgegraut/deaktiviert (<code>disabled</code>). Aktivieren Sie den Button wieder! Es gibt mehrere Möglichkeiten.</p>
                    </question_text>
                    <answer><code>document.querySelector('#my_button').remove('disabled');</code></answer>
                    <answer correct="correct"><code>document.querySelector('#my_button').removeAttribute('disabled')</code></answer>
                    <answer><code>document.querySelector('#my_button').disabled = true;</code></answer>
                    <answer correct="correct"><code>document.querySelector('#my_button').disabled = false;</code></answer>
                    <answer><code>document.querySelector('#my_button').setAttribute('disabled', '');</code></answer>
                    <answer><code>document.querySelector('#my_button').setAttribute('enabled', true);</code></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Gegeben ist folgender HTML-Codeschnippsel: <code>&lt;ol start="3"&gt;&lt;li /&gt;&lt;/ol&gt;</code>. Welchen Typ hat der Rückgabewert des folgenden Ausdrucks?</p>
                        <blockcode>document.querySelector('ol').start</blockcode>
                    </question_text>
                    <answer><blank>number</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Gegeben ist folgender HTML-Codeschnippsel: <code>&lt;ol start="3"&gt;&lt;li /&gt;&lt;/ol&gt;</code>. Welchen Typ hat der Rückgabewert des folgenden Ausdrucks?</p>
                        <blockcode>document.querySelector('ol').getAttribute('start')</blockcode>
                    </question_text>
                    <answer><blank>string</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>In einem HTML-Element gibt es folgenden Fortschrittsbalken:</p>
                        <blockcode>&lt;progress id="my_progress" value="4" max="5"&gt;&lt;/progress&gt;</blockcode>
                        <p>Welchen Wert gibt folgender Ausdruck zurück, wenn er im Kontext des angegebenen HTML-Arguments aufgerufen wird?</p>
                        <blockcode>document.querySelector('#my_progress').max + 1</blockcode>
                    </question_text>
                    <answer><blank>6</blank></answer>
                </question>
            </questions>
            <h1>Übungen</h1>
            <exercise>
                <name>Jetzt hat es sich &raquo;ausgebuyt&laquo;!</name>
                <content>
                    <p>Anwender sind häufig ungeduldig und neigen dazu, mehrmals auf etwas zu klicken, wenn nicht sofort etwas Sichtbares passiert. Damit der Käufer die neue Heimkino-Anlage oder das Segelboot nicht versehentlich mehrfach bestellt, hat es sich bewährt, Buttons zu deaktivieren, nachdem sie geklickt wurden.</p>
                    <p>Schreiben Sie eine entsprechende Funktion für den im Begleitmaterial (<i>buy_button.html</i>) hinterlegten Button.</p>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/07/solutions/buy_button/buy_button.js"/>
                </answer>
            </exercise>
            <exercise>
                <name>Newsboard: Jetzt ist aber Schluss!</name>
                <content>
                    <p>Die neuen Features des Newsboards sind schon fast fertig. Problematisch ist aber, dass die Vorwärts- und Rückwärts-Buttons auch aktiv sind, wenn es keine vorige bzw. nächste Nachricht mehr gibt. Dies führt zu einem sehr unschönen Fehler.</p>
                    <step>Machen Sie die Links (a-Element), die der Steuerung der Newsboards dienen, zu echten Buttons (button-Element). Damit lassen sie sich im Bedarfsfall deaktivieren.</step>
                    <step>Sorgen Sie dafür, dass die Vor- und Rückwärts-Buttons jeweils deaktiviert werden, sobald der Anwender am Anfang bzw. Ende der Nachrichtenliste angekommen ist.</step>
                    <step>Auch die Buttons, die den Anwender zur ersten bzw. zur letzten Nachricht führen, sollen deaktiviert sein, sobald sich der Anwender bei der ersten bzw. letzten Nachricht befindet.</step>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/07/solutions/newsboard/newsboard.js"/>
                </answer>
            </exercise>
            <exercise>
                <name>Die Rückkehr der Lauflichter: Teil 1 - Chasing Lights</name>
                <content>
                    <figure width="40%">
                        <img src="images/exercises/lichterkette.jpg"/>
                        <figcaption>Photo: <a href="https://www.flickr.com/photos/abbilder/4921660612/">Axel Kuhlmann</a><br/>Lizenz: <a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-2.0</a></figcaption>
                    </figure>
                    <p>Lichterketten waren einmal der letzte Schrei (und sind es um Weihnachten oft immer noch). Manche verfügen sogar über Lauflicht-Funktion. Genau so eine könnten Sie jetzt mal programmieren. Die folgende, einfache HTML-Vorlage finden Sie auch im Übungsmaterial:</p>
                    <blockcode src="accompanying_files/07/exercises/running_light/running_light.html"/>
                    <p>Eine erste Variante sind die <i>chasing Lights</i>. Dabei muss der Anwender das Lauflicht mit der Maus &raquo;jagen&laquo;. Immer wenn der Mauszeiger sich über einer Glühbirne befindet, schalten Sie die nächste Birne ein und die aktuelle aus. Versucht der Benutzer, mit dem Mauszeiger die leuchtende Glühbirne zu berühren, springt das Licht auf die nächste über. Er &raquo;jagt&laquo; quasi das Lauflicht.</p>
                    <p>Bei der letzten Lampe beginnt das Spiel wieder von vorne!</p>
                    <!-- TODO Screenshot, besser: Video -->
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/07/solutions/running_light/running_light.js"/>
                </answer>
            </exercise>
            <exercise>
                <name>Die Rückkehr der Lauflichter: Teil 2 - Triggered Classic</name>
                <content>
                    <p>Programmieren Sie ein weiteres Lauflicht. Dieses mal soll das Lauflicht weiterspringen, wenn der Benutzer auf irgendeine der Lampen klickt.</p>
                    <p>Auch hier gilt: Nach der letzten Lampe fängt das Licht wieder von vorne an zu laufen.</p>
                    <!-- TODO Screenshot, besser: Video -->
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/07/solutions/running_light/running_light2.js"/>
                </answer>
            </exercise>
            <!--
    Kommt Später:
                Ab 18-Übung mit Geburtsdatums-Eingabe und Checked-Feld für darf äh ab18-Film kaufen (siehe JS-Basics bsp)

                Währungsrechner-Umrechnung, kurs-feld
                Glühlampen revival-Aufgabe :) Lauflicht, src-Attribut ändern

                Ideen: selected, cols, readonly, value

                Kommt Später:
                    Quizzspiel / Führerscheinprüfung
                    Umfrage mit Progressbar
                    Produktmanagerbsp (Simple Bildergallerie)

                https://html.spec.whatwg.org/multipage/infrastructure.html#reflecting-content-attributes-in-idl-attributes
                https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attribute
                https://heycam.github.io/webidl-->
        </lesson>
        <lesson>
            <lesson_name>Eine Frage des Stils: Das Style-Objekt</lesson_name>
            <topics>
                <li>was es mit dem Style-Objekt auf sich hat.</li>
                <li>wie das Style-Objekt Ihnen die Manipulation vom HTML erleichtert.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Hey, wir haben gerade ein neue hippe Geschäftsidee gelaunched: Es gibt jetzt Nerd-Produkte für Senioren. Ich bin sicher, das wird der Renner! </p>
                <p>Ich habe aber schon von meiner Oma und einigen älteren Herrschaften gehört, dass ihnen die Schriftgröße auf unserer Seite zu klein ist. Wir werden sie natürlich grundsätzlich vergrößern. Die Bedürfnisse sind nur leider recht unterschiedlich. Deswegen wäre es gut, wenn Sie ein paar Buttons auf die Seite werfen könnten, mit denen sich die Schriftgröße wählen lässt:</p>
                <ul>
                    <li>small (14px)</li>
                    <li>normal (16px)</li>
                    <li>large (24px)</li>
                    <li>very large (36px)</li>
                    <li>&raquo;Mann, bin ich blind&laquo; (72px)</li>
                    <li>ultra enormously extraordinary extremly large (200px)</li>
                </ul>
                <p>Naja, vielleicht lassen Sie die letzten beiden erst einmal weg &hellip;</p>
                <figure width="70%">
                    <img src="images/screenshots/font_sizes.png"/>
                </figure>
            </hint>
            <p>Sie könnten auch hier wieder CSS-Klassen für die verschiedenen Schriftgrößen anlegen, das wäre in diesem Fall aber übertrieben. Einfacher ist es, Sie manipulieren die Schriftgröße direkt.</p>
            <blockcode numbered="numbered" src="accompanying_files/08/examples/font_size_big_small/font_size.html" id="font_size_big_small_html" type="html"/>
            <p>Das DOM stellt dafür die Eigenschaft <code>style</code> auf den HTML-Element-Objekten zur Verfügung. Öffnen Sie <a href="#font_size_big_small_html"/> im Browser. Geben Sie <code>$('p').style</code> in die Konsole ein &mdash; Sie erhalten ein <code>CSSStyleDeclaration</code>-Objekt zurück. Dieses Objekt stellt alle verfügbaren CSS-Eigenschaften als JS-Eigenschaften zur Verfügung, beispielsweise die Schriftfarbe <code>color</code>. Geben Sie ein:</p>
            <blockcode>$('p').style.color = 'red'</blockcode>
            <p>Der Text des ersten Absatzes (<code>p</code>-Tag) wird nun rot. Die Schriftgröße können Sie genauso verändern. Dabei gibt es nur eine kleine Spitzfindigkeit zu beachten...</p>
            <h3>Simsala-Bim: Du bist jetzt ein Kamel</h3>
            <p>In CSS haben viele Eigenschaften einen Bindestrich im Eigenschaftsnamen, so auch <code>font-size</code>. Das ist für JS-Bezeichner aber nicht zulässig. Deswegen müssen Sie die Schreibweise stattdessen in <i>camelCase</i> umwandeln: Aus <code>font-size</code> wird <code>fontSize</code>. Um die Schriftgröße zu vergrößern, können Sie eingeben:</p>
            <blockcode>$('p').style.fontSize = '36px'            </blockcode>
            <p>Vergessen Sie die Einheit (hier: <code>px</code>) nicht, sonst ignoriert der Browser die Angabe!</p>
            <p>Jetzt müssen Sie die Anweisungen nur noch an das <code>click</code>-Event des jeweiligen Buttons binden, z.&thinsp;B. so für den Big-Button:</p>
            <blockcode>$on($('#big'), 'click', () =&gt; $('p').style.fontSize = '36px');</blockcode>
            <p><a href="#font_size_big_small_js"/> zeigt den vollständigen Code für alle Buttons.</p>
            <blockcode numbered="numbered" src="accompanying_files/08/examples/font_size_big_small/font_size.js" id="font_size_big_small_js"/>
            <p>Das übliche Refactoring &mdash; hier das Entfernen von Redundanzen und Magic Numbers &mdash; führt zu folgendem Code.</p>
            <blockcode numbered="numbered" src="accompanying_files/08/examples/font_size_big_small/font_size_refactored.js"/>
            <h1>Absolut berechnend: getComputedStyle</h1>
            <hint src="images/hint/bjoern.png">
                <p>Oh &mdash; hmm ja &mdash; also. Sie haben das ja schon toll umgesetzt, aber wie soll ich das sagen: Wir müssen es nochmal ändern. Wir haben Umfragen bei unseren Kunden durchgeführt und festgestellt, dass sie lieber auf &raquo;<code>+</code>&laquo; und &raquo;<code>-</code>&laquo;-Buttons zur Änderung der Schriftgröße klicken würden.</p>
                <figure width="70%">
                    <img src="images/screenshots/font_size_plus_minus.png"/>
                </figure>
            </hint>
            <p>Kein Problem für Sie &mdash; hier ist das neue HTML-Dokument:</p>
            <blockcode numbered="numbered" src="accompanying_files/08/examples/font_size_inc_dec_non_functional/font_size.html" type="html"/>
            <p>Registrieren Sie zunächst wieder die Click-Events auf den Buttons. Sinnvoll ist es, die Funktionen zum Vergrößern (engl. <i>increase</i>) und Verkleinern (engl. <i>decrease</i>) der Schriftgröße entsprechend <code>incFontSize</code> und <code>decFontSize</code> zu nennen. </p>
            <blockcode numbered="numbered">
              const init = () =&gt; {
                $('#inc').on('click', incFontSize);
                $('#dec').on('click', decFontSize);
              };
            </blockcode>
            <p>Legen Sie die beiden Funktionen an &mdash; erst einmal <code>incFontSize</code>.</p>
            <p>Die Idee ist ganz einfach. Sie greifen auf die aktuelle Schriftgröße zu. Wir tun einfach mal so, als ob es bereits eine Funktion namens <code>currentFontSize</code> gäbe, die uns die Schriftgröße als <code>number</code> zurückliefert. Zu diesem Wert addieren Sie <code>5</code>. Das Ergebnis ist die neue <code>fontSize</code>, die Sie wieder dem Style-Objekt zuweisen.</p>
            <blockcode>const incFontSize = () =&gt; setFontSizeTo(currentFontSize() + 5);           </blockcode>
            <p>Mit dem Verkleinern verfahren Sie analog, indem Sie <code>5</code> von der aktuellen Schriftgröße (<code>currentFontSize</code>) abziehen:</p>
            <blockcode numbered="numbered">const decFontSize = () =&gt; setFontSizeTo(currentFontSize() - 5);           </blockcode>
            <p>Damit das auch funktioniert, müssen Sie nur noch die Funktion <code>currentFontSize</code> implementieren. Hier ein erster Versuch</p>
            <blockcode numbered="numbered">const currentFontSize = () =&gt; parseInt($('p').style.fontSize);            </blockcode>
            <p>Die Idee ist hier, die bestehende <code>fontSize</code> auszulesen und per <code>parseInt</code> eine Zahl ohne das <code>'px'</code> am Ende zu extrahieren. </p>
            <h3>parseInt oder das Geheimnis der verschwundenen Pixel</h3>
            <p>Am besten probieren Sie erst einmal <code>parseInt</code> direkt in der Konsole aus. Die Funktion ist hier außerordentlich nützlich, da sie Ihnen erlaubt, das <code>'px'</code> am Ende der <code>fontSize</code> loszuwerden. Geben Sie z.&thinsp;B. <code>'40px' - 5</code> in der Konsole ein, erhalten Sie <code>NaN</code> (Not a Number) als Rückgabewert. Der String <code>'40px'</code> ist nun mal keine Zahl, damit lässt sich leider nicht rechnen. </p>
            <p>Mittels <code>parseInt</code> können Sie die Zahl extrahieren. Die Funktion nimmt einen String entgegen und <keyword>parst</keyword> diesen, soweit sie gültige Zeichen (d.&thinsp;h. Ziffern) findet. Geben Sie in die Konsole ein:</p>
            <blockcode>parseInt('40px')</blockcode>
            <p>Sie erhalten <code>40</code> als <i>Number</i> zurück &mdash; damit können Sie rechnen.</p>
            <p>Das erste Problem ist bereits gelöst. Betrachten Sie nun nochmal die Implementierung von <code>currentFontSize</code>:</p>
            <blockcode numbered="numbered">const currentFontSize = () =&gt; parseInt($('p').style.fontSize);            </blockcode>
            <p>Leider funktioniert der Code immer noch nicht! Woran liegt das?</p>
            <h3>Wirklich eine Frage des Stils?</h3>
            <p>Lassen Sie uns ein kleines Experiment machen. Versuchen Sie mal, einen bestehenden Style auszulesen. Laden Sie die Seite neu und öffnen Sie die JS-Konsole. Geben Sie jetzt das Style-Objekt aus, indem Sie folgende Zeile in Konsole eintippen:</p>
            <blockcode>console.log($('p').style)            </blockcode>
            <p>Sie sehen, das Style-Objekt hat den Typ <code>CSSStyleDeclaration</code>. Klappen Sie es aus und zeigen Sie es an.</p>
            <figure>
                <img src="images/screenanimations/font_size_cssprops.png"/>
                <figcaption><code>fontSize</code>-Eigenschaft im <code>style</code>-Objekt mit Leerstring</figcaption>
            </figure>
            <p>Es hat eine Menge Eigenschaften. Die <code>fontSize</code> ist auch dabei. Das Erstaunliche ist aber, dass diese Eigenschaft statt einer tatsächlichen FontSize wie <code>'16px'</code> nur den leeren String <code>''</code> enthält.</p>
            <p>Weisen Sie der <code>fontSize</code> versuchsweise den Wert "40px" zu &mdash; wieder in der Konsole.</p>
            <blockcode>$('p').style.fontSize = '40px';           </blockcode>
            <p>Geben Sie es erneut aus.</p>
            <blockcode>console.log($('p').style);           </blockcode>
            <p>Dieses Mal finden Sie die <code>'40px'</code> tatsächlich als Wert der <code>fontSize</code> im Style-Objekt. </p>
            <figure width="95%">
                <img src="images/screenanimations/font_size_cssprops2.png"/>
                <figcaption><code>fontSize</code>-Eigenschaft im <code>style</code>-Objekt mit vorhandenem px-Wert</figcaption>
            </figure>
            <p>Genau darin besteht das Problem: <b>Sie können einen Wert erst dann aus dem Style-Objekt auslesen, wenn Sie ihn vorher mit JS gesetzt haben</b>. Auch ein sogenannter Inline-Style (style-Attribut) würde den Wert im Objekt setzen. In der Praxis empfiehlt es sich aber nicht, mit Inline-Styles zu arbeiten. Standwerte, die der Browser setzt oder Werte, die Sie in einem CSS-Stylesheet festgelegt haben, gibt das Style-Objekt leider nicht preis.</p>
            <p>Styling-Werte grundsätzlich mit JS statt mit CSS festzulegen, wäre aber auch keine gute Lösung &mdash; Nerdworld-Designerin Denise würde das gar nicht gut finden&thinsp;&hellip;</p>
            <h3>Grundsatzfragen mit getComputedStyle</h3>
            <p>Tatsächlich gibt es eine gute Lösung: die Funktion <code>getComputedStyle</code>. Diese Funktion ist eine Methode des <code>window</code>-Objektes und dadurch global verfügbar &mdash; d.&thinsp;h. statt <code>window.getComputedStyle</code> genügt es, einfach nur <code>getComputedStyle</code> zu schreiben. Sie steht in allen modernen Browsers zu Verfügung und ist im IE ab Version 9 nutzbar.</p>
            <p>Übergeben Sie <code>getComputedStyle</code> ein HTML-Element-Objekt, wie z.&thinsp;B. unser <code>p</code>-Tag, erhalten Sie ein Style-Objekt zurück &mdash; wie gewohnt vom Typ <code>CSSStyleDeclaration</code>. Das Besondere daran ist aber, dass dieses Objekt die tatsächlichen, berechneten Werte enthält. So wertet die Funktion auch Browserstandards und CSS-Eigenschaften inkl. externer Style&shy;sheets aus. Probieren Sie es: Laden Sie die Seite neu und geben Sie ein:</p>
            <blockcode>console.log(getComputedStyle($('p')).fontSize)</blockcode>
            <p>Sie erhalten <code>16px</code>, den Standardwert des Browsers. </p>
            <p>Wenn Sie sich das komplette Objekt ausgeben, sehen Sie, dass praktisch alle Eigenschaften mit Werten belegt sind.</p>
            <p>Perfekt &mdash; da wird Björn sich aber freuen. Sie können <code>getComputedStyle</code> nun für Ihre Funktion <code>currentFontSize</code> verwenden: </p>
            <blockcode>const currentFontSize = () =&gt;
  parseInt(getComputedStyle($("p")).fontSize);</blockcode>
            <p>Hier ist der komplette Code:</p>
            <blockcode numbered="numbered" src="accompanying_files/08/examples/font_size_inc_dec/font_size.js"/>
            <hint src="images/hint/owl.png">
                <h3>Besonderheiten und Nachteile von getComputedStyle</h3>
                <p>Tja, das hört sich ja schon echt gut an mit dem <code>getComputedStyle</code>. Auch, wenn ich nur ungern der Spaßverderber sein will, <b>aber</b>: Zwei Sachen muss ich klarstellen.</p>
                <h3>Read-Only</h3>
                <p>Das <code>CSSStyleDeclaration</code>-Objekt, das da zurückkommt, unterscheidet sich in einem ganz wesentlichen Aspekt vom normalen <code>.style</code>-Objekt: Die Eigenschaften lassen sich nicht ändern! Sie sind <keyword>Read-Only</keyword>. Das ist nicht wirklich ein Problem, schließlich lässt sich dafür das <code>.style</code>-Objekt verwenden &mdash; aber Sie müssen daran denken.</p>
                <p>Geben Sie z.&thinsp;B. </p>
                <blockcode>getComputedStyle($('p')).fontSize = '19px';</blockcode>
                <p>in die Konsole ein, straft Sie der Browser mit Meldungen wie dieser:</p>
                <blockcode>VM36020:1 Uncaught DOMException: Failed to set the 'font-size' property on 'CSSStyleDeclaration': These styles are computed, and therefore the 'font-size' property is read-only.(&hellip;)</blockcode>
                <h3>Perfomance</h3>
                <p><code>getComputedStyle</code> ist nicht gerade dafür bekannt, ein Rennpferd zu sein. Es ist viel, viel langsamer als <code>.style</code>. Deswegen ist es manchmal ein guter Trick, den ersten Wert per <code>getComputedStyle</code> zu ermitteln (z.&thinsp;B. in der <code>init</code>-Funktion) und danach mit dem deutlich schnelleren <code>.style</code> zu arbeiten.</p>
            </hint>
            <h1>Noch style-ischer mit Tooltips</h1>
            <hint src="images/hint/bjoern.png">
                <p>Wow &mdash; ich hab gestern Abend meiner Oma unseren neuen Prototyp gezeigt! Dank <kbd>&raquo;+&laquo;</kbd>-Button konnte sie den Text ohne Brille lesen, sie war ganz begeistert.</p>
                <p>Allerdings konnte sie mit einigen Begriffen auf der Website wenig anfangen und wollte wissen, was <i>cerebral cortex</i> und <i>neuron</i> eigentlich heißt. Könnten wir vielleicht kleine Erklärungstooltips einblenden, wenn jemand mit der Maus über ein Fremdwort fährt?</p>
                <p>Achso und nein &mdash; ich meine nicht diese Minitooltips, die man durch das <code>title</code>-Attribut bekommt, sondern schöne große Tooltip-Boxen, die Denise, unsere Designerin, auch stylen kann.</p>
                <p>Die Erklärungstexte zu den Begriffen sollen später über eine externe Datei eingelesen werden &mdash; so, dass wir sie selbst pflegen können. Aber das brauchen wir nicht sofort. Wir schicken Ihnen die Texte per E-Mail und Sie können sie dann direkt in den Code einbinden.</p>
                <figure width="80%">
                    <img src="images/screenanimations/tooltips_01.png"/>
                </figure>
            </hint>
            <p>Los gehts! Nach kurzem Überlegen wird klar: Das ist wieder ein Fall für das Style-Objekt. Betrachten Sie folgende HTML-Vorlage, die eine vereinfachte Fassung der echten Seite<footnote>Herzlichen Dank für die freundliche Genehmigung an Think Geek Inc.!</footnote> darstellt: </p>
            <blockcode src="accompanying_files/08/examples/tooltips/1/tooltips.html" type="html" numbered="numbered"/>
            <p>Björn hat einige der Wörter mit der Klasse <code>keyword</code> markiert. Das sind die Wörter, die ein Tooltip mit Erläuterung benötigen. Diese Wörter müssen Sie selektieren. Probieren Sie zunächst folgende Anweisung in der JS-Konsole aus:</p>
            <blockcode>$$('.keyword').forEach(n =&gt; console.log(n.innerHTML));</blockcode>
            <p>Sie erhalten:</p>
            <figure width="25%">
                <img src="images/screenshots/tooltips/keyword_log.png"/>
            </figure>
            <p>So weit, so gut! Erweitern Sie die Zeile nun zu einem richtigen Programm und registrieren Sie eine Funktion <code>showTooltip</code> auf das <code>mouseenter</code>-Event. Der Browser löst dieses Event aus, sobald sich der Mauszeiger über eines der Wörter bewegt.</p>
            <p>Im ersten Schritt möchten wir einfach nur sehen, ob die Funktion richtig angebunden ist. Deswegen genügt auch hier eine Ausgabe mit <code>console.log</code>.</p>
            <blockcode src="accompanying_files/08/examples/tooltips/1/tooltips.js" numbered="numbered"/>
            <p>Als Nächstes benötigen Sie das Tooltip. Zum Glück hat Nerdworlds Designerin Denise bereits eins erstellt und mit CSS gestylt. Das Tooltip selbst ist lediglich ein <code>div</code>-Tag, der den Erklärungstext enthält &mdash; da Björn noch keine Texte geliefert hat, reicht vorerst auch ein <i>lorem ipsum</i>-Platzhaltertext.</p>
            <blockcode type="html" numbered="numbered">&lt;div id="tooltip"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis voluptates, veniam facere laudantium.&lt;/div&gt;            </blockcode>
            <p>Fügen Sie den Tag einfach am Ende des HTML-Dokuments vor dem schließenden <code>body</code>-Tag ein.</p>
            <blockcode numbered="numbered" type="html">

                &lt;!DOCTYPE html&gt;
                &lt;html lang="en"&gt;

                &lt;head&gt;...&lt;/head&gt;

                &lt;body&gt;
                  &lt;p&gt;...&lt;/p&gt;

                  &lt;div id="tooltip"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis voluptates, veniam facere laudantium.&lt;/div&gt;
                &lt;/body&gt;

                &lt;/html&gt;

            </blockcode>
            <p>Dank der folgenden CSS-Regel aus <i>tooltips.css</i> besitzt das Tooltip bereits eine ansprechende Optik:</p>
            <blockcode numbered="numbered">                #tooltip {
                  width: 250px;
                  border: 2px solid #339;
                  padding: 5px;
                  background-color: #eef;
                  opacity: 0.95;

                  font-size: 1em;
                  text-align: justify;
                }            </blockcode>
            <p>Denise wird das später sicher noch schöner machen.</p>
            <p>Fügen Sie der Regel den Stil <code>display: none;</code> hinzu, damit das Tooltip nach dem Laden der Seite zunächst versteckt ist. Erst wenn ein Besucher der Website den Mauszeiger <!--Mausezeiger Kommt auf meine Liste von Typos, zu denen ich von Frank eine Karikatur haben will, so wie *Mulicast-Adressen*, Sucherbebnisse und *mit öffentlichen und privaten Schüsseln* (Verschlüsselung). -->über eines der Wörter bewegt, soll sich das Tooltip zeigen. Dazu müssen Sie lediglich per JavaScript den <code>display</code>-Wert des Tooltips auf <code>block</code> setzen. Das liegt daran, dass es sich dabei um ein <code>div</code>-Element handelt. Bei einem <code>span</code>-Element müssten Sie stattdessen den Wert <code>inline</code> verwenden.</p>
            <blockcode>$('#tooltip').style.display = 'block';</blockcode>
            <p>Das Setzen des Display-Stils ist die Aufgabe der Funktion <code>showTooltip</code>. Modifizieren Sie sie entsprechend.</p>
            <blockcode>const showTooltip = () =&gt; $('#tooltip').style.display = 'block';</blockcode>
            <h3>&hellip;&thinsp;und wieder weg</h3>
            <p>Das Tooltip sollte wieder verschwinden, wenn der Besucher den Mauszeiger wegbewegt. Dazu benötigen Sie noch eine passende Funktion <code>hideTooltip</code>, die Sie am besten auf das <code>mouseleave</code>-Event registrieren. Hier ist der komplette Code:</p>
            <blockcode src="accompanying_files/08/examples/tooltips/2/tooltips.js"/>
            <p>Damit das Tooltip auch wirklich ein Tooltip ist, darf es nicht unter dem Text stehen, sondern sollte immer in der Nähe des Mauszeigers erscheinen. Geben Sie dem Tooltip im CSS die Eigenschaft <code>position: absolute</code>, um eine freie Positionierung zu ermöglichen:</p>
            <blockcode src="accompanying_files/08/examples/tooltips/3/tooltips.css" numbered="numbered"/>
            <p>Zudem sollten Sie das Event von <code>mouseenter</code> auf <code>mousemove</code> ändern, damit sich die Position ständig anpasst:<br/>
                <code>$$('.keyword').on('mousemove', showTooltip) &hellip;</code>
            </p>
            <h3>Maus im Fokus</h3>
            <p>Als Nächstes gilt es herauszufinden, wo sich der Mauszeiger eigentlich befindet. Bei Mouse-Events kümmert sich praktischerweise das Event-Objekt darum. Es zeichnet die aktuelle Position des Mauszeigers in den Eigenschaften <code>clientX</code> und <code>clientY</code> auf.</p>
            <p>Erweitern Sie die Funktion <code>showTooltip</code> &mdash; so dass das Tooltip an die Position des Mauszeigers springt:</p>
            <blockcode numbered="numbered">
              const showTooltip = e =&gt; {
                $('#tooltip').style.display = 'block';
                $('#tooltip').style.top = e.clientY + 'px';
                $('#tooltip').style.left = e.clientX + 'px';
              };
            </blockcode>
            <p>Mit den Style-Eigenschaften <code>top</code> und <code>left</code> lässt sich das Tooltip pixelgenau positionieren &mdash; möglicherweise etwas zu genau. Nun &raquo;klebt&laquo; das Tooltip immer genau am Mauszeiger. Ein geringer Abstand von z.&thinsp;B. <code>10px</code> behebt das Problem.</p>
            <blockcode>$('#tooltip').style.top = e.clientY + 10 + 'px';
$('#tooltip').style.left = e.clientX + 10 + 'px';            </blockcode>
            <p>Am besten lagern Sie den Wert noch in eine Konstante aus, um die <keyword>Magic Number</keyword><footnote> Eine genaue Erklärung dazu finden Sie in <i>JavaScript Band 1 - Aller Anfang ist leicht</i>
                </footnote> loszuwerden. Hier der vollständige Code:</p>
            <blockcode numbered="numbered" src="accompanying_files/08/examples/tooltips/3/tooltips.js"/>
            <hint src="images/hint/bjoern.png">
                <p>Hurra &mdash; die Tooltips funktionieren. Oma hat sich riesig gefreut. Endlich weiß sie, was der <i>cerebral cortex</i> ist. Naja, vielleicht hätten wir <i>poop</i> nicht erklären müssen&thinsp;&hellip;</p>
            </hint>
            <hint src="images/hint/owl.png">
                <h3>Stilvoll oder eher mit Klasse?</h3>
                <p>Es gibt oft Situationen, in denen Sie eine Entscheidung treffen müssen. Entweder Sie arbeiten mit <code>classList.add</code>/<code>classList.remove</code>, um CSS-Eigenschaften zu verändern (siehe <a href="#classList"/>) &mdash; oder aber Sie greifen auf das Style-Objekt zu und verändern eine Eigenschaft direkt. Wann sollten Sie was tun?</p>
                <p><b>In den allermeisten Fällen ist es besser, Sie arbeiten mit CSS-Klassen</b>. Das hat den großen Vorteil, dass Sie Design-Aspekte (CSS) von Verhaltens-Aspekten (JS) getrennt halten. Innerhalb der CSS-Klasse sind die CSS-Eigenschaften gekapselt. Der JS-Code entscheidet nur über das Hinzufügen und Entfernen von Klassen, aber nicht darüber, welche konkreten Eigenschaften das betrifft.</p>
                <p>So kann beispielsweise ein Designer hinterher das CSS verbessern, ohne den JS-Code anfassen zu müssen. Selbst wenn Designer und Entwickler die gleiche Person sind, erleichtert das die Arbeit ungemein. Sind JS und CSS-Code vermischt, bedeutet eine Änderung an der Optik (CSS) immer ein Risiko, auch unerwünschte Verhaltensänderungen (Bugs!) einzuführen.</p>
                <p>Dennoch gibt es Situationen, in denen es besser ist, mit dem Style-Objekt direkt zu arbeiten &mdash; wie etwa im Beispiel mit den Schriftarten. Sie müssten dort für eine große Spanne von Fontgrößen jeweils passende Klassen anlegen, da die <i>Plus/Minus</i>-Buttons mit einem Delta von 5px arbeiten. </p>
            </hint>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Ändern Sie die Schriftgröße aller <code>h1</code>-Tags auf <code>3em</code>.</p>
                    </question_text>
                    <answer><code>document.querySelectorAll('h1').forEach(e =&gt; e.</code><blank>style.fontSize</blank><code> = '3em')</code>;</answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Färben Sie alle Absätze, die direkt auf ein <code>h2</code>-Tag folgen, rot ein. Verwenden Sie dabei nur einfache Anführungszeichen (<code>'</code>), keine doppelten (<code>"</code>).</p>
                    </question_text>
                    <answer><code>document.querySelectorAll('</code><blank>h2 + p</blank>').forEach(e =&gt; e.<blank>style.color = 'red'</blank>);</answer>
                </question>
                <question type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Ermitteln Sie die tatsächliche Breite eines Elements mit der id <code>'my_elem'</code>. Verwenden Sie dabei nur einfache Anführungszeichen (<code>'</code>), keine doppelten (<code>"</code>).</p>
                    </question_text>
                    <answer><blank>getComputedStyle(document.querySelector('#my_elem')).width</blank></answer>
                </question>
            </questions>
            <h1>Übungen</h1>
            <!--p>TODO ME: Adressformular für Firmenadresse (mit hide/show und radio-Button-Abfrage) </p-->
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 6</name>
                <content>
                    <p>Fragen Sie besser immer noch nicht nach dem Sinn. Der neue Wunsch besteht darin, den Text blau (<code>blue</code>) zu färben. Dieses Mal dürfen Sie keine CSS-Klassen verwenden.</p>
                    <p>Weisen Sie allen <code>p</code>-Elementen mit Hilfe des Style-Objektes die Farbe <code>blue</code> zu. Sie können dafür direkt die JavaScript-Konsole verwenden.</p>
                </content>
                <answer>
                    <blockcode>$$('p').forEach(p =&gt; p.style.color = 'blue');</blockcode>
                </answer>
            </exercise>
            <exercise>
                <name>TABula Rasa</name>
                <content>
                    <p>Einer Ihrer Kunden ist ein Schulungsunternehmen. Der Akademieleiter wünscht sich, dass die Beschreibungsseiten der Seminare etwas übersichtlicher dargestellt werden. Er möchte deswegen, dass die Seminarübersichtsseiten in Zukunft über Reiter (<i>Tabs</i>) verfügen, so dass Besucher zwischen den Bereichen</p>
                    <ul>
                        <li><i>Überblick</i>,</li>
                        <li><i>Themen</i>,</li>
                        <li><i>Lernziele</i> und </li>
                        <li>
                            <i>Termine</i>
                        </li>
                    </ul>
                    <p>hin- und herschalten können.</p>
                    <p>Eine HTML-Vorlage (inkl. CSS) hat er bereits von einer Agentur erstellen lassen. Ihre Aufgabe besteht darin, den JS-Code zu ergänzen.</p>
                    <blockcode numbered="numbered" src="accompanying_files/08/exercises/tabbed_navigation/tabs.html" type="html"/>
                    <p>Folgende Features müssen Sie dafür implementieren:</p>
                    <ul>
                        <li>Nach dem Laden müssen alle <code>article</code>-Elemente bis auf das erste versteckt sein.</li>
                        <li>Beim Klicken auf ein <code>li</code>-Element soll das zugehörige <code>article</code>-Element aktiv (d.&thinsp;h sichtbar) werden und alle anderen inaktiv.</li>
                        <li>Um zu sehen, welcher Tab gerade aktiv ist, darf außerdem nur das <code>li</code>-Element des gerade sichtbaren Tabs die CSS-Klasse <code>active</code> haben.</li>
                    </ul>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/08/solutions/tabbed_navigation/tabs.js"/>
                </answer>
            </exercise>
            <exercise>
                <name>Farbe Wechsel Dich</name>
                <content>
                    <p>Platzieren Sie drei Buttons (<code>button</code>-Tag) auf einer Seite mit den Texten &raquo;Red&laquo;, &raquo;Green&laquo; und &raquo;Blue&laquo;. Bei Betätigung eines Buttons soll sich der Hintergrund der Seite entsprechend färben.</p>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/08/solutions/color_change1/color_change.html"/>
                    <blockcode numbered="numbered" src="accompanying_files/08/solutions/color_change1/color_change.js"/>
                </answer>
            </exercise>
            <exercise>
                <name>Farbe Wechsel Dich &mdash; Teil 2</name>
                <content>
                    <p>Platzieren Sie drei Regler (<code>input type="range"</code>) auf einer Seite, die jeweils für einen Farbanteil des RGB-Farbmodells zuständig sind. Jedes mal, wenn ein Anwender einen Regler verschiebt, soll sich der Hintergrund der Seite entsprechend anpassen. Die drei Regler bestimmen dabei die Farbe anhand der entsprechenden Farbanteile.</p>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/08/solutions/color_change2/color_change.html"/>
                    <blockcode numbered="numbered" src="accompanying_files/08/solutions/color_change2/color_change.js"/>
                </answer>
            </exercise>
        </lesson>
        <lesson>
            <lesson_name>HTML unterwandern mit Data-Attributen</lesson_name>
            <topics>
                <li>das Data-Attribut kennen.</li>
                <li>wie Sie mithilfe des Data-Attributs Informationen in HTML-Elementen speichern können.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Wie schon gesagt: Die Tooltips sind super! Wir benötigen jetzt aber erstmal eine einfache Möglichkeit, die Texte der Tooltips zu pflegen. Mir wäre es am liebsten, wenn ich sie erst mal direkt im HTML hinterlegen könnte. Geht das irgendwie?</p>
            </hint>
            <p>Ja, das geht. Es gibt sogar mehrere Möglichkeiten. Am einfachsten ist es, sogenannte <code>data-Attributes</code> zu verwenden. Damit sind Sie in der Lage, beliebige Inhalte quasi &raquo;unsichtbar&laquo; im HTML zu speichern!</p>
            <p>HTML erlaubt es, eigene Attribute zu definieren, sofern diese mit <code>data-</code> beginnen. Sie können beispielsweise ein Attribut namens <code>data-tooltip</code> definieren und dort den jeweiligen Text hinterlegen. Das <code>tooltip</code> ist dabei ein Name, den Sie selbst wählen können. Er ist von HTML nicht vorgeschrieben. Sie haben dabei nahezu beliebige, aber nicht alle Freiheiten (z.&thinsp;B. Großbuchstaben sind nicht erlaubt). Auch Tooltips wie <code>data-foo</code>, <code>data-der-kunde-ist-doof</code> oder <code>data-was-immer-sie-wollen</code> wären möglich.</p>
            <blockcode numbered="numbered" type="html">&lt;p&gt;In your &lt;span class="keyword" data-tooltip="The brain's outer layer of neural tissue in humans and other mammals [wikipedia]."&gt;cerebral cortex&lt;/span&gt; right now,&hellip;</blockcode>
            <p>Versuchen Sie, das Attribut testweise in der Konsole auszulesen. Dazu benötigen Sie zunächst das Element: <code>$('.keyword')</code>. Um an ein <code>data-</code>-Attribute ranzukommmen, benutzen Sie die Eigenschaft <code>dataset</code>:</p>
            <blockcode>$('.keyword').dataset</blockcode>
            <p>Sie erhalten eine <i>DOMStringMap</i> zurück. Die können Sie behandeln wie jede andere Map. Jedes Data-Attribut ist in dieser Map mit seinem eigenen Key vertreten &mdash; so z.&thinsp;B. auch <code>tooltip</code>. Hier ist der Rückgabewert der letzten Anweisung:</p>
            <blockcode numbered="numbered">DOMStringMap {tooltip: "The brain's outer layer of neural tissue in humans and other mammals [wikipedia]."}</blockcode>
            <p>Jetzt müssen Sie Ihren JS-Code so anpassen, dass er statt des statischen Lorem Ipsums den korrekten Text aus dem <code>data</code>-Attribut zeigt. Fügen Sie die folgende Zeile in die Funktion <code>showTooltip</code> ein:</p>
            <blockcode>$('#tooltip').textContent = e.target.dataset.tooltip;</blockcode>
            <p>Das Attribut <code>textContent</code> ermöglicht es, einem Tag (wie hier dem <code>tooltip</code>-div, das das Lorem Ipsum enthält) einen beliebigen Textinhalt zuzuweisen. Damit ist es dem Attribut <code>innerHTML</code> recht ähnlich. Tatsächlich könnten Sie hier problemlos auch <code>innerHTML</code> verwenden. Wenn es Ihnen aber, wie hier, um reinen Text geht, ist <code>textContent</code> vorzuziehen. <code>textContent</code> interpretiert einen zugewiesenen String nicht als HTML &mdash; Sie können auch Zeichen wie <code>&amp;</code> oder <code>&lt;</code> direkt im Text verwenden.</p>
            <p>Deswegen ist <code>innerHTML</code> auch ein potentielles Sicherheitsrisiko, wenn Sie der Quelle des Inhalts nicht vertrauen können. <code>textContent</code> führt immer ein Escaping durch, damit besteht keine Gefahr, dass sich &raquo;bösartige&laquo; Tags in Ihren HTML-Code einschleichen.</p>
            <hint type="tip">
                <p>Verwenden Sie immer <code>textContent</code> statt <code>innerHTML</code>, wenn Sie Text einfügen möchten!</p>
            </hint>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Attribute dieser Lektion</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>dataset</td>
                        <td>$('#bar').dataset</td>
                        <td>Enthält eine <i>DOMStringMap</i> mit den Daten der <code>data</code>-Attribute.</td>
                    </tr>
                    <tr>
                        <td>textContent</td>
                        <td>$('#bar').textContent</td>
                        <td>Gibt den Text (ohne HTML-Tags) zurück, der sich im HTML-Element befindet &mdash; der Wert kann auch verändert werden.</td>
                    </tr>
                </tbody>
            </table>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Die Währung <code>Euro</code> eines Geldbetrags soll unter <code>currency</code> aus einem <i>dataset</i> abrufbar sein. Ergänzen Sie folgendes Listing. Verwenden Sie doppelte Anführungszeichen (<code>"</code>) &mdash; keine einfachen (<code>'</code>).</p>
                    </question_text>
                    <answer>&lt;span class="price" <blank>data-currency="Euro"</blank>&gt;100&lt;/span&gt;</answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Welchen Datentyp hat ein <i>dataset</i>?</p>
                    </question_text>
                    <answer><blank>DOMStringMap</blank></answer>
                </question>
            </questions>
            <h1>Übung</h1>
            <exercise>
                <name>awesome tours</name>
                <content>
                    <figure width="70%" id="awsome_tours_screenshot">
                        <img src="images/exercises/awesome_tours.png"/>
                        <figcaption>awesome tours Prototyp</figcaption>
                    </figure>
                    <p>Das Reiseunternehmen <i>awesome tours</i> bietet Rundreisen zu verschiedenen Sehenswürdigkeiten in Europa an. Im Zuge eines Rebuilds der Website möchte das Unternehmen die Darstellung der Sehenswürdigkeiten ebenfalls modernisieren. Das Design inklusive HTML- und CSS-Code hat bereits eine Agentur übernommen. </p>
                    <blockcode numbered="numbered">
                    ...
                    &lt;body&gt;
                      &lt;section id="pois"&gt;
                        &lt;img src="eiffelturm.jpg" id="fr" alt="Eiffel Tower" data-description="The Eiffel Tower is a wrought iron lattice tower on the Champ de Mars in Paris, France. It is named..." data-country-code="fr" data-flag-name="French Flag"/&gt;

                        &lt;img src="tower_bridge.jpg" id="uk" alt="Tower Bride" data-description="Tower Bridge (built 1886&ndash;1894) is a combined bascule and suspension bridge in London. The bridge..." data-country-code="uk" data-flag-name="Union Jack"/&gt;

                        &lt;img src="colosseum.jpg" id="it" alt="Colosseum" data-description="The Colosseum or Coliseum, also known as the Flavian Amphitheatre or Colosseo, is an oval amphitheatre in..." data-country-code="it" data-flag-name="Italian Flag"/&gt;
                      &lt;/section&gt;

                      &lt;section id="info"&gt;&lt;p&gt;Move your mouse pointer over the images to read the descriptions here!&lt;/p&gt;&lt;/section&gt;
                    &lt;/body&gt;
                    ...
                </blockcode>
                    <p>Die Informationen zu den Sehenswürdigkeiten (Name, Beschreibung, Land usw.) sind dabei bereits im HTML-Code hinterlegt. Ihre Aufgabe ist es nun beim Mouseenter eine Darstellung wie in <a href="#awsome_tours_screenshot"/> zu ermöglichen.</p>
                    <p>Dazu gehört die Anzeige von:</p>
                    <ul>
                        <li>dem Namen der Sehenswürdigkeit</li>
                        <li>der Beschreibung</li>
                        <li>der Landesflagge als Bild.</li>
                    </ul>
                    <p>Das HTML zur Anzeige der Eiffelturm-Infos könnte beispielsweise so aussehen:</p>
                    <blockcode numbered="numbered">
                &lt;section id="info"&gt;
                  &lt;h3&gt;
                     &lt;img src="it.png" alt="Italian Flag" title="Italian Flag"&gt;
                     Colosseum
                  &lt;/h3&gt;
                  &lt;p&gt;
                    The Colosseum or Coliseum, also known as the Flavian Amphitheatre or Colosseo, is an oval amphitheatre in...
                  &lt;/p&gt;
                &lt;/section&gt;
                </blockcode>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/09/solutions/awesome_tours/awesome_tours.js"/>
                </answer>
            </exercise>
        </lesson>
        <lesson>
            <lesson_name>Von neuen Elementen und angehängten Kindern: createElement &amp; appendChild</lesson_name>
            <topics>
                <li>wie JavaScript Ihnen hilft HTML-Elemente dynamisch zu erzeugen.</li>
                <li>wie Sie mit JavaScript HTML umstrukturieren können.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Die Mädels und Jungs von der Business-Development-Unit haben den Servercode für unser neues Produktmanager-Tool fertig. Wir sind uns aber noch unsicher, wie die Oberfläche dazu aussehen könnte. Deswegen bräuchten wir dringend mal einen Prototyp. Der muss noch keine Verbindung zum Server aufweisen, sondern im Wesentlichen demonstrieren, wie die Produktpflege im Web funktionieren könnte. Da hab' ich dann an Sie gedacht&thinsp;&hellip;</p>
                <figure width="90%">
                    <img src="images/screenanimations/products.png"/>
                    <figcaption>Erster Prototyp des Produktmanagers (mit Hinzufügen-Feature)</figcaption>
                </figure>
            </hint>
            <p>Nachdem Sie mit Björn die genauen Anforderungen detailliert besprochen haben, können Sie ein HTML-Gerüst mit Produkt-Beispielen für das Produktpflege-Interface liefern:</p>
            <figure>
                <blockcode numbered="numbered">
              &lt;h1&gt;Products&lt;/h1&gt;
              &lt;table id="products"&gt;
                &lt;thead&gt;
                  &lt;tr&gt;
                    &lt;th&gt;Name&lt;/th&gt;
                    &lt;th&gt;Price in €&lt;/th&gt;
                  &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody&gt;
                  &lt;tr&gt;
                    &lt;td&gt;3Doodler 3D Printing Pen&lt;/td&gt;
                    &lt;td&gt;29.99&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;td&gt;Powerstation 5- E. Maximus Chargus&lt;/td&gt;
                    &lt;td&gt;44.95&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                    &lt;td&gt;8-Bit Legendary Hero Heat-Change Mug&lt;/td&gt;
                    &lt;td&gt;6.99&lt;/td&gt;
                  &lt;/tr&gt;
                &lt;/tbody&gt;
              &lt;/table&gt;

              &lt;p id="new_product"&gt;
                &lt;input type="text" placeholder="name" class="name"/&gt;
                € &lt;input type="number" max="999" placeholder="price" class="price"/&gt;
                &lt;button id="add_product"&gt;Add&lt;/button&gt;
              &lt;/p&gt;
            </blockcode>
                <figcaption>additional_files/10/examples/product_manager_1/product_manager.html</figcaption>
            </figure>
            <p>Erst einmal sollte der <i>Add</i>-Button funktionieren. Dazu registrieren Sie &mdash; wie üblich &mdash; eine Funktion auf das Click-Event:</p>
            <blockcode>
                'use strict';

                {
                  const init = () =&gt; {
                    $('#add_product').on('click', addProduct);
                  };

                  const addProduct = () =&gt; {
                    ...
                  };

                  init();
                }
            </blockcode>
            <h1>HTML generieren lassen mit document.createElement</h1>
            <p>Was genau soll <code>addProduct</code> tun? Ein möglicher Ansatz wäre, mit <code>innerHTML</code> die Tabelle neu zu schreiben und dabei jeweils das neueste Produkt anzuhängen. Das könnten Sie bereits umsetzen.</p>
            <p>Das hätte aber den gravierenden Nachteil, dass Sie jedes Mal die Tabelle neu ins HTML schreiben müssten, obwohl nur eine neue Zeile dazukommt. Ein weiterer Nachteil ist, dass Sie mit eher &raquo;weichen&laquo; Strings arbeiten statt mit einen DOM-Teilbaum. Strings sind anfällig gegenüber Syntaxfehlern und Sie können keine Methoden des Node-Objekts anwenden, solange Sie den String noch nicht mittels <code>innerHTML</code> in die Seite &raquo;eingehängt&laquo; haben.<!-- &mdash; dazu
                später mehr (TODO Link auf Vor- &amp; Nachteile innerHTML vs. Node-Objekt).--></p>
            <p>Besser wäre es, komplette HTML-<keyword>Teilbäume</keyword> zu konstruieren und diese dann bei Bedarf in den Hauptbaum einzuhängen.</p>
            <p>Das ist ohne Weiteres möglich!</p>
            <p>Dazu sind ein paar neue Methoden nötig. Mit <code>document.createElement</code> können Sie ein <i>HTMLElement</i>-Objekt erzeugen, also hier zunächst mal ein <code>td</code>.</p>
            <blockcode numbered="numbered">
              const addProduct = () =&gt; {
                const valueTd = document.createElement('td');
                ...
              };
            </blockcode>
            <p>Diesem können Sie dann mittels <code>textContent</code> einen Text als Inhalt zuweisen, in diesem Fall den neuen Produktnamen aus dem Eingabefeld.</p>
            <blockcode numbered="numbered">
              const addProduct = () =&gt; {
                const valueTd = document.createElement('td');
                valueTd.textContent = $('#new_product .name').value;
                ...
              };
            </blockcode>
            <p>Lassen Sie sich das erzeugte Objekt einfach mal mit <code>console.log(valueTd);</code> ausgeben:</p>
            <blockcode numbered="numbered">
              const addProduct = () =&gt; {
                const valueTd = document.createElement('td');
                valueTd.textContent = $('#new_product .name').value;
                console.log(valueTd);
              };
            </blockcode>
            <p>Geben Sie als Produktname testweise z.&thinsp;B. <i>Mein Neues Produkt</i> und <i>100€</i> ein. Sie erhalten:</p>
            <blockcode>&lt;td&gt;Mein Neues Produkt&lt;/td&gt;</blockcode>
            <p>Es handelt sich bei <code>valueTd</code> aber nicht etwa um den String <code>&lt;td&gt;Mein Neues Produkt&lt;/td&gt;</code>, sondern tatsächlich um ein <code>HTMLTableCellElement</code>, eine Spezialisierung von <code>HTMLElement</code> bzw. von <code>Node</code>. Letzteres bedeutet, Sie könnten z.&thinsp;B. die <code>classList</code> manipulieren oder Event-Handler dranhängen, was mit einem String so nicht machbar wäre.</p>
            <h1>Endlich angefügt: appendChild</h1>
            <p>Um die Tabellenzeile zu vervollständigen, müssen Sie noch das <code>td</code> mit dem Preis bauen und anschließend beide Elemente an ein neues <code>tr</code> anhängen. Zum Anhängen verwenden Sie die Methode <code>appendChild</code> des Node-Objekts:</p>
            <blockcode numbered="numbered">
              const addProduct = () =&gt; {
                const valueTd = document.createElement('td');
                valueTd.textContent = newProductName();

                const priceTd = document.createElement('td');
                priceTd.textContent = newProductPrice();

                const productTr = document.createElement('tr');
                productTr.appendChild(valueTd);
                productTr.appendChild(priceTd);

                console.log('productTr', productTr);
              }
            </blockcode>
            <p>Das <code>console.log</code> am Ende der Funktion zeigt Ihnen nun das komplette HTML-Fragment der Tabellenzeile:</p>
            <blockcode numbered="numbered">                &lt;tr&gt;
                  &lt;td&gt;Mein Neues Produkt&lt;/td&gt;
                  &lt;td&gt;100&lt;/td&gt;
                &lt;/tr&gt;            </blockcode>
            <p>Sobald Sie dieses Fragment an der richtigen Stelle (dem <code>tbody</code> der Tabelle) in den HTML-Hauptbaum einhängen, erscheint die neue Zeile.</p>
            <blockcode>
                ...
                $('#products &gt; tbody').appendChild(productTr);
            </blockcode>
            <p>Hier nochmal zur Übersicht der komplette Code:</p>
            <blockcode src="accompanying_files/10/examples/product_manager_1/product_manager.js"/>
            <p>Natürlich ist der Code nicht gerade ein Kunstwerk. Das erwartet auch niemand &mdash; aber zumindest etwas mehr Lesbarkeit wäre gut. Da Sie keinen Ärger mit Carl dem Consultant wollen, ist noch ein wenig Refactoring angesagt.</p>
            <h1>Mal wieder etwas Refactoring</h1>
            <p>Das Kernproblem besteht darin, dass die Funktion <code>addProduct</code> viele zu viele Verantwortlichkeiten hat. Sie </p>
            <ul>
                <li>nimmt die Produktdaten aus dem Formular entgegen</li>
                <li>fügt das Produkt grundsätzlich hinzu</li>
                <li>kümmert sich um Low-level-Belange, wie das Erzeugen der benötigten <code>tr</code>- und <code>td</code>-Elemente.</li>
            </ul>
            <p>Genau diese Verantwortlichkeiten sollten Sie trennen (<keyword>Separation of Concerns</keyword>), anderenfalls enstehen unangenehme Redundanzen. Der Zugriff auf <code>createElement</code>, <code>appendChild</code> und <code>textContent</code> passiert möglicherweise öfter als nötig. Das kann ein erster Hinweis darauf sein, wo es sich lohnt, Funktionalität auszulagern.</p>
            <p>Beginnen wir mit den Low-level-Belangen. In folgendem Code zeichnet sich ein Muster ab:</p>
            <blockcode numbered="numbered">                const valueTd = document.createElement('td');
                valueTd.textContent = $('#new_product .name').value;

                const priceTd = document.createElement('td');
                priceTd.textContent = $('#new_product .price').value;</blockcode>
            <p>Der Code erzeugt zweimal ein <code>td</code> und weist diesem einen Textinhalt zu. Wie wäre es mit einer Methode namens &mdash; Achtung&thinsp;&hellip; &mdash; <code>td</code>, die genau das tut?</p>
            <blockcode numbered="numbered">                const td = text =&gt; {
                  const tdNode = document.createElement('td');
                  tdNode.textContent = text;
                  return tdNode;
                };            </blockcode>
            <p>Damit bleibt von <code>addProduct</code> übrig:</p>
            <blockcode numbered="numbered">
                const addProduct = () =&gt; {
                  const productTr = document.createElement('tr');
                  productTr.appendChild(td($('#new_product .name').value));
                  productTr.appendChild(td($('#new_product .price').value));
                  $('#products &gt; tbody').appendChild(productTr);
                };
            </blockcode>
            <p>Es ist naheliegend, mit dem <code>tr</code>-Element genauso zu verfahren. Der Unterschied ist, dass das <code>tr</code> statt eines Textes mehrere <code>td</code>-Elemente (als Array) entgegennehmen kann.</p>
            <blockcode>
                const tr = tds =&gt; {
                  const trNode = document.createElement('tr');
                  tds.forEach(td =&gt; trNode.appendChild(td));
                  return trNode;
                };
            </blockcode>
            <p>Ein erneuter Blick auf <code>addProduct</code> zeigt:</p>
            <blockcode>
                const addProduct = () =&gt;
                  $('#products &gt; tbody').appendChild(
                    tr([
                      td($('#new_product .name').value),
                      td($('#new_product .price').value)
                    ])
                  );
            </blockcode>
            <p>Als Letztes gilt es noch, das Auslesen der Produktdaten vom Hinzufügen des Produkts zu trennen. Es kann gut sein, dass Sie später mal Produkte hinzufügen möchten, deren Daten nicht aus den Formularfeldern kommen (Achtung, Spoiler):</p>
            <blockcode>
                const init = () =&gt; {
                  $('#add_product').on('click', addProductFromInput);
                };

                const addProductFromInput = () =&gt;
                  addProduct(
                    $('#new_product .name').value,
                    $('#new_product .price').value
                  );

                const addProduct = (name, price) =&gt;
                  $('#products &gt; tbody').appendChild(
                    tr([
                      td(name), td(price)
                    ])
                  );
            </blockcode>
            <p>&hellip;nach etwa 2 Minuten und 33½ Sekunden Refactoring kommen wir also zu folgendem Gesamtergebnis:</p>
            <blockcode src="accompanying_files/10/examples/product_manager_2_refact/product_manager.js"/>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 7</name>
                <content>
                    <p>Verändern Sie die Produktseite der Binär-Tasse mit Hilfe von JavaScript. Sie können wieder die JS-Konsole verwenden.</p>
                    <step>
                        <p>Fügen Sie in der Liste der <code>Product Specifications</code> mit Hilfe von JavaScript folgenden Listenpunkt hinzu:</p>
                        <p>
                            <i>Capacity: 11 oz.</i>
                        </p>
                    </step>
                    <step>
                        <p>Erweitern Sie die Select-Box neben dem buy-Button mit Hilfe von JavaScript um den Eintrag: <i>5 items</i>.</p>
                    </step>
                </content>
                <answer>
                    <ol>
                        <li>
                            <blockcode numbered="numbered">const li = document.createElement('li');
li.textContent = 'Capacity: 11 oz.';
$('#product_specification').appendChild(li);</blockcode>
                        </li>
                        <li>
                            <blockcode numbered="numbered">const option = document.createElement('option');
option.textContent = '5 items';
$('#buy_form select').appendChild(option);                            </blockcode>
                        </li>
                    </ol>
                </answer>
            </exercise>
            <h1>Und noch ein wenig JSON</h1>
            <hint src="images/hint/bjoern.png">
                <p>Könnten Sie die drei Produkte aus dem HTML herausnehmen? Mir wäre es lieber, wenn wir sie über eine externe Datei pflegen könnten. Ich weiß, ich weiß&thinsp;&hellip; es ist ein Prototyp. Aber um den sinnvoll zu testen, ist es auch sinnvoll, wenn wir die Produkte schnell ändern könnten, ohne das HTML anzupassen.</p>
                <p>Für unsere Datenbank haben wir einen JSON-Export &mdash; so könnten wir bei Bedarf einfach mal schnell mit ein paar echten Produkten testen. Können wir die Produkte in der Zusatzdatei als JSON (<keyword>JavaScript Object Notation</keyword>) speichern?</p>
            </hint>
            <p>Natürlich lässt sich das einrichten! Die Datei für die drei Produkte sieht folgendermaßen aus:</p>
            <blockcode src="accompanying_files/10/examples/product_list.js" numbered="numbered"/>
            <p>In der Konstante <code>PRODUCTS</code> sind die drei Produkte in einem Array gespeichert. Jedes der Array-Elemente ist ein Objekt und hat die Attribute <code>name</code> und <code>price</code> mit den entsprechenden Werten.</p>
            <p>Wenn Sie diese Daten bequem verwenden möchten, sollten Sie zunächst ein weiteres
                Refactoring des Produktmanager-Codes durchführen: Statt der Funktion
                <code>addProduct</code> jeweils <code>name</code> und <code>price</code> getrennt zu
                übergeben, wäre es hilfreich, diese zu einem Objekt zusammenzufassen, wie Sie sie im
                <code>PRODUCTS</code>-Array vorfinden &mdash; z.&thinsp;B.
                <code>{name: '3Doodler 3D Printing Pen', price: 29.99}</code>.</p>
            <p>Ändern Sie dazu zunächst die Funktion <code>addProduct</code>. Innerhalb der Funktion können Sie auf die ursprünglichen Werte <code>name</code> und <code>price</code> als Attribute <code>product.name</code> und <code>product.price</code> des übergebenen Objekts <code>product</code> zugreifen.</p>
            <blockcode numbered="numbered">
              const addProduct = product =&gt;
                $('#products &gt; tbody').appendChild(
                  tr([
                    td(product.name), td(product.price)
                  ])
                );
              ...
            </blockcode>
            <p>Passen Sie den Aufruf von <code>addProduct</code> in der Funktion <code>addProductFromInput</code> an. Damit der Code wieder funktioniert, müssen Sie <code>addProduct</code> nun ein Objekt übergeben. Dieses Objekt erstellen Sie direkt beim Aufruf aus den Formularwerten für <code>name</code> und <code>price</code>.</p>
            <blockcode numbered="numbered">
              ...
              const addProductFromInput = () =&gt;
                addProduct({
                  name: $('#new_product .name').value,
                  price: $('#new_product .price').value
                });
              </blockcode>
            <p><code>addProduct</code> arbeitet nun mit ganzen Objekten statt nur mit einzelnen Werten. Das macht es leicht, die Objekte aus der <code>PRODUCTS</code>-Konstante beim Laden hinzuzufügen. Schreiben Sie dazu eine neue Funktion <code>addExistingProducts</code>, die mit <code>forEach</code> alle Produkte hinzufügt.</p>
            <blockcode>const addExistingProducts = () =&gt; PRODUCTS.forEach(addProduct);</blockcode>
            <p>Rufen Sie sie in <code>init</code> auf.</p>
            <blockcode numbered="numbered">
              const init = () =&gt; {
                addExistingProducts(PRODUCTS);
                $('#add_product').on('click', addProductFromInput);
              };</blockcode>
            <p>Hurra, die Produkte werden importiert. Wie üblich, ist hier nochmal der Code im Ganzen:</p>
            <blockcode src="accompanying_files/10/examples/product_manager_3_json/product_manager.js"/>
            <hint src="images/hint/bjoern.png">
                <p>Ha &mdash; ich hab' gerade eine riiieesen-Datei mit Produkten im JSON-Format ausprobiert. Funktioniert perfekt! </p>
            </hint>
            <h1>Vergleich verschiedener DOM-Creation-Methoden</h1>
            <p>Sie haben in diesem Kurs verschiedene Möglichkeiten zur Erzeugung von DOM-Elementen kennengelernt. <a href="#comparison_dom_creation"/> zeigt die verschiedenen Möglichkeiten noch mal im Vergleich. Dazu gehen wir von folgender einfachen HTML-Struktur aus:</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                    &lt;p&gt;World&lt;/p&gt;
                &lt;/body&gt;
                ...
            </blockcode>
            <table id="comparison_dom_creation">
                <caption>DOM-Creation-Methoden im Vergleich</caption>
                <thead>
                    <tr>
                        <th>JavaScript-Anweisung</th>
                        <th>HTML-Struktur nach <br/>der Ausführung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <blockcode>
                                document.body
                                  .innerHTML = '&lt;p&gt;Hello&lt;/p&gt;';
                            </blockcode>
                        </td>
                        <td>
                            <blockcode type="html">
                                &lt;body&gt;
                                  &lt;p&gt;Hello&lt;/p&gt;
                                &lt;body&gt;
                            </blockcode>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <blockcode>
                                document.body
                                  .textContent = 'Hello';
                            </blockcode>
                        </td>
                        <td>
                            <blockcode type="html">&lt;body&gt;Hello&lt;/body&gt;</blockcode>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <blockcode>
                                document.body
                                  .appendChild($('p').cloneNode());
                            </blockcode>
                        </td>
                        <td>
                            <blockcode type="html">
                                &lt;body&gt;
                                  &lt;p&gt;World&lt;/p&gt;
                                  &lt;p&gt;World&lt;/p&gt;
                                &lt;body&gt;
                            </blockcode>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <blockcode>
                                document.body
                                  .appendChild(
                                    document.createElement('br')
                                  );
                            </blockcode>
                        </td>
                        <td>
                            <blockcode type="html">
                                &lt;body&gt;
                                  &lt;p&gt;World&lt;/p&gt;
                                  &lt;br /&gt;
                                &lt;body&gt;
                            </blockcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Methoden dieser Lektion</caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>appendChild</td>
                        <td>Hängt einen übergebenen Knoten (z.&thinsp;B. ein Element) als letztes Kind an den Elternknoten an, auf dem die Methode aufgerufen wurde.<p>Falls der angehängte Knoten bereits Teil des Dokuments war, wird er von seiner ursprünglichen Position entfernt.</p></td>
                    </tr>
                    <tr>
                        <td>document.createElement</td>
                        <td>Erzeugt ein Element des angegebenen Typs.</td>
                    </tr>
                    <tr>
                        <td>cloneNode</td>
                        <td>Kopiert einen Knoten und gibt die Kopie zurück. <code>cloneNode(true)</code> kopiert auch alle Kindknoten mit.</td>
                    </tr>
                </tbody>
            </table>
            <h3>Beispiel zu appendChild mit createElement</h3>
            <figure>
                <img src="images/graphs/dom_manipulation_appendChild.png"/>
            </figure>
            <p>HTML-Struktur (vorher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <p>JavaScript in der Konsole:</p>
            <blockcode>
                const li = document.createElement('li');
                li.textContent = '4';
                $('ul').appendChild(li);
            </blockcode>
            <p>HTML-Struktur (nachher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                    &lt;li&gt;4&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <h3>Beispiel zu appendChild <i>mit</i> cloneNode</h3>
            <p>HTML-Struktur (vorher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <p>JavaScript in der Konsole:</p>
            <blockcode>
                const li = $('ul li:first-child').cloneNode(true);
                $('ul').appendChild(li);
            </blockcode>
            <p>HTML-Struktur (nachher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                    &lt;li&gt;0&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <h3>Beispiel zu appendChild <i>ohne</i> cloneNode</h3>
            <p>HTML-Struktur (vorher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <p>JavaScript in der Konsole:</p>
            <blockcode>
                const li = $('ul li:first-child');
                $('ul').appendChild(li);
            </blockcode>
            <p>HTML-Struktur (nachher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                    &lt;li&gt;0&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Fügen Sie zum Ende des HTML-Bodys einen <code>br</code>-Tag hinzu.</p>
                    </question_text>
                    <answer><code>const br = </code><blank>document.createElement(</blank><code>'br');</code><br/><code>document.body</code><blank>.appendChild(br)</blank><code>;</code></answer>
                </question>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Gegeben ist folgender HTML-Codeschnippsel:</p>
                        <blockcode>&lt;p&gt;The Product &lt;span class="product"&gt;&lt;/span&gt; ist on sale!&lt;/p&gt;</blockcode>
                        <p>Im Kontext dieses HTML-Codes wird folgender JS-Code ausgeführt:</p>
                        <blockcode>document.querySelector('.product').textContent = '&lt;b&gt;Binary Mug&lt;/b&gt;';</blockcode>
                        <p>Bestimmen Sie den resultierenden HTML-Code:</p>
                    </question_text>
                    <answer>
                        <blockcode>&lt;p&gt;The Product &lt;span class="product"&gt;&lt;b&gt;Binary Mug&lt;/b&gt;&lt;/span&gt; ist on sale!&lt;/p&gt;</blockcode>
                    </answer>
                    <answer>
                        <blockcode>&lt;p&gt;The Product &lt;span class="product"&gt;Binary Mug&lt;/span&gt; ist on sale!&lt;/p&gt;</blockcode>
                    </answer>
                    <answer correct="correct">
                        <blockcode>&lt;p&gt;The Product &lt;span class="product"&gt;&amp;lt;b&amp;gt;Binary Mug&amp;lt;/b&amp;gt;&lt;/span&gt; ist on sale!&lt;/p&gt;</blockcode>
                    </answer>
                    <answer>
                        <blockcode>&lt;p&gt;The Product &lt;span class="product"&gt;&lt;/span&gt; ist on sale!&lt;/p&gt;</blockcode>
                    </answer>
                </question>
            </questions>
        </lesson>
        <lesson>
            <lesson_name>Ab in die Tonne mit remove</lesson_name>
            <topics>
                <li>wie Sie HTML-Elemente mit JavaScript entfernen können.</li>
                <li>DOM-Eigenschaften nach Einsatzzweck zu klassifizieren.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Ich hab' mal testweise massig Produkte per Formular hinzugefügt. Davon würde ich aber gerne ein paar wieder löschen. Können Sie einen Entfernen-Button hinzufügen?</p>
                <figure width="90%">
                    <img src="images/screenanimations/products_remove.png"/>
                    <figcaption>Produktmanager: Entfernen-Feature</figcaption>
                </figure>
            </hint>
            <p>Damit jedes Produkt über einen eigenen Entfernen-Button verfügt, ist eine weitere Spalte in der Tabelle hilfreich. Wir nennen die Spalte allgemein <i>Actions</i>, für den Fall, dass Marty irgendwann noch andere Aktionen benötigt.</p>
            <blockcode>
                &lt;table id="products"&gt;
                    &lt;tr&gt;
                      &lt;th&gt;Name&lt;/th&gt;
                      &lt;th&gt;Price in €&lt;/th&gt;
                      &lt;th&gt;Actions&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/table&gt;
            </blockcode>
            <p>Erweitern Sie die Funktion <code>addProduct</code>. Jede Produkt-Zeile benötigt einen weiteren TableData-Tag (<code>td</code>) mit dem Entfernen-Button (RemoveButton).</p>
            <blockcode numbered="numbered">
              const addProduct = product =&gt;
                $('#products &gt; tbody').appendChild(
                  tr([
                    td(product.name), td(product.price), tdWithRemoveButton()
                  ])
                );
            </blockcode>
            <p>Es fehlt noch die Funktion <code>tdWithRemoveButton</code>, die das entsprechende HTML-Fragment anlegt.</p>
            <blockcode>
                const tdWithRemoveButton = () =&gt; {
                  const td = document.createElement('td');
                  td.appendChild(removeButton());
                  return td;
                };

                const removeButton = () =&gt; {
                  const button = document.createElement('button');
                  button.textContent = 'x';
                  button.classList.add('remove_product');
                  return button;
                };
            </blockcode>
            <p>Die Aufteilung auf zwei Funktionen verbessert die Lesbarkeit. Der Remove-Button zeigt ein <code>x</code> als Entfernen-Symbol und erhält eine passende CSS-Klasse <code>remove_product</code>. Jetzt zur Funktionalität:</p>
            <p>Registrieren Sie eine Funktion <code>removeProduct</code> auf das <code>click</code>-Event. </p>
            <blockcode>
                const removeButton = () =&gt; {
                    ...
                    button.on('click', removeProduct);
                    return button;
                };
            </blockcode>
            <p><code>removeProduct</code> muss die ganze Tabellen-Zeile (<code>tr</code>) mit dem Produkt entfernen. Dazu müssen Sie sie erst finden. Wenn Sie vom Button aus (hier <code>event.target</code>) zwei Ebenen in der Baumstruktur nach oben wechseln, haben Sie die Zeile. Das Nach-oben-Wechseln lässt sich mit dem Attribut <code>parentNode</code> erreichen &mdash; Sie suchen den jeweiligen Elternknoten.</p>
            <blockcode>event.target.parentNode.parentNode</blockcode>
            <figure width="90%">
                <img src="images/screenshots/productmanager_parent_parent_with_arrows.png"/>
                <figcaption>Productmanager: Vom Button zur Produkt-Zeile</figcaption>
            </figure>
            <p>Das Attribut <code>parentNode</code> gehört zu einer Gruppe von Attributen, die es Ihnen erlauben, sich innerhalb des DOM-Baums von einem Knoten (Node) zum anderen zu bewegen. Der Bereich, in dem diese Attribute eingeordnet sind, heißt <keyword>DOM-Traversal</keyword> &mdash; damit beschäftigen wir uns gleich noch näher. </p>
            <p>Entfernen Sie die gefundene Zeile (<code>tr</code>) mit der <code>remove</code>-Methode des zur Zeile gehörigen Node-Objekts &mdash; und sie ist weg!</p>
            <blockcode>const removeProduct = event =&gt;
  event.target.parentNode.parentNode.remove();</blockcode>
            <p>Nach einem Extract-Refactoring erhalten Sie folgenden, etwas besser lesbaren Code:</p>
            <blockcode>const removeProduct = event =&gt;
  productRowForAction(event.target).remove();

const productRowForAction = button =&gt;
  button.parentNode.parentNode;            </blockcode>
            <p>Und hier ist nochmal der komplette Code am Stück:</p>
            <blockcode src="accompanying_files/11/examples/product_manager_4_remove/product_manager.js" numbered="numbered"/>
            <hint src="images/hint/storyteller_left.jpg">
                <h3>&raquo;Also früher, da mussten wir noch&thinsp;&hellip;&laquo; remove vs. removeChild</h3>
                <p>Die <code>remove</code>-Methode des Element-Objektes ist eine eher neue Entwicklung. Im Internet Explorer (einschließlich IE11) steht sie nicht zur Verfügung. Nur moderne Browser wie Chrome, Firefox und Edge haben sie direkt an Bord.</p>
                <p>Das ist aber nicht weiter tragisch. In älteren Browsern gab es bereits die ähnliche Methode <code>removeChild</code>. Damit lässt sich sehr leicht der folgende Polyfill konstruieren:</p>
                <figure>
                    <blockcode>if (!('remove' in Element.prototype)) {
  Element.prototype.remove = function() {
    if (this.parentNode) {
      this.parentNode.removeChild(this);
    }
  };
}                </blockcode>
                    <figcaption>Quelle: https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove</figcaption>
                </figure>
                <p>Fügen Sie den Polyfill einfach in Ihre <i>dom_helper</i>-Library ein, falls Sie ältere Browser unterstützen möchten.</p>
            </hint>
            <h1>Klassifizierung</h1>
            <p>Übrigens ist es recht hilfreich, DOM-Eigenschaften nach Einsatzzweck zu klassifizieren. Eine Klassifizierung erleichtert den Überblick über die Vielzahl an Eigenschaften und ist gleichzeitig hilfreich, wenn Sie etwas Bestimmtes suchen.</p>
            <p>Typischerweise lassen sich die DOM-Attribute und -Methoden vor allem in diese drei Bereiche untergliedern:</p>
            <ul>
                <li>DOM-Selection</li>
                <li>DOM-Manipulation</li>
                <li>DOM-Traversal</li>
            </ul>
            <p>Der Bereich <keyword>DOM-Selection</keyword> enthält vor allem Methoden wie <code>document.querySelectorAll</code>, die Ihnen ermöglichen, DOM-Elemente aufzustöbern. Mit Hilfe von DOM-Manipulation-Methoden wie <code>classList.add</code> oder Eigenschaften wie <code>.innerHTML</code> können Sie diese dann verändern.</p>
            <p>Wir verwenden die Klassifizierung übrigens auch hinten im Referenz-Anhang, um Ihnen das Nachschlagen zu erleichtern.</p>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Methoden dieser Lektion</caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>remove</td>
                        <td>Entfernt einen Knoten aus seinem HTML-Baum. Der Knoten wird zurückgegeben und kann weiterverwendet werden.</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>Attribute dieser Lektion</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>parentNode</td>
                        <td>Enthält den Eltern-Knoten des aktuellen Elements.</td>
                    </tr>
                </tbody>
            </table>
            <h3>Beispiel zu <code>remove</code></h3>
            <figure>
                <img src="images/graphs/dom_manipulation_remove.png"/>
            </figure>
            <p>HTML-Struktur (vorher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <p>JavaScript in der Konsole</p>
            <blockcode>$$('li')[2].remove();</blockcode>
            <p>HTML-Struktur (nachher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="multiple_choice">
                    <question_text>
                        <p>Gegeben ist folgender HTML-Code:</p>
                        <blockcode>&lt;ul&gt;
  &lt;li&gt;A&lt;/li&gt;
  &lt;li&gt;B&lt;/li&gt;
  &lt;li&gt;C&lt;/li&gt;
&lt;/ul&gt;</blockcode>
                        <p>Entfernen Sie das Listenelement <code>&lt;li&gt;B&lt;/li&gt;</code>.</p>
                    </question_text>
                    <answer correct="correct">document.querySelectorAll('li')[1].remove();</answer>
                    <answer>document.querySelectorAll('li')[1].removeChild();</answer>
                    <answer>document.querySelector('ul').remove(document.querySelectorAll('li')[1]);</answer>
                    <answer>document.querySelector('ul').remove('li[1]');</answer>
                    <answer correct="correct">document.querySelector('ul').removeChild(document.querySelectorAll('li')[1]);</answer>
                    <answer>document.querySelector('ul').removeChild('li[1]');</answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Mit welcher Eigenschaft greifen Sie auf das Elternelement eines DOM-Knotens zu?</p>
                    </question_text>
                    <answer><blank>parentNode</blank></answer>
                </question>
            </questions>
            <h1>Übungen</h1>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 8</name>
                <content>
                    <p>Verändern Sie erneut die Produktseite der Binär-Tasse mit Hilfe von JavaScript. Sie können auch hier wieder die JS-Konsole verwenden.</p>
                    <step>
                        <p>Entfernen Sie die Überschrift <code>Description</code> mit der <code>remove</code>-Methode.</p>
                    </step>
                    <step>
                        <p>Entfernen Sie mit der remove-Methode den Text <code>"010010000100111101010100"</code> aus der Hauptüberschrift.</p>
                    </step>
                </content>
                <answer>
                    <ol>
                        <li>
                            <blockcode>$('h2').remove()</blockcode>
                        </li>
                        <li>
                            <blockcode>$('h1 .keyword').remove()</blockcode>
                        </li>
                    </ol>
                </answer>
            </exercise>
        </lesson>
        <lesson>
            <lesson_name>Wenn Geschwister reisen: siblings &amp; insertBefore</lesson_name>
            <topics>
                <li>weitere DOM-Elemente kennen.</li>
                <li>die Möglichkeiten zum Dom-Traversal kennen.</li>
            </topics>
            <hint src="images/hint/bjoern.png">
                <p>Als Letztes wäre es noch schön, wenn es neben dem Remove-Button noch 2 Pfeil-Buttons für &raquo;<i>hoch</i>&laquo; und &raquo;<i>runter</i>&laquo; gäbe, um das jeweilige Produkt zu verschieben. Dann könnten wir mit dem Prototyp erst mal experimentieren und entscheiden, ob wir diese Funktionalität tatsächlich so im Endprodukt haben möchten.</p>
                <figure width="90%">
                    <img src="images/screenanimations/products_move.png"/>
                    <figcaption>Produktmanager: Hoch&amp;Runter-Feature</figcaption>
                </figure>
            </hint>
            <p>Zum Ergänzen der beiden neuen Buttons erweitern Sie die Funktion <code>tdWithRemoveButton</code> und benennen sie am besten auch gleich um, da sie danach mehr als nur den Remove-Button erzeugt &mdash; in <code>tdWithActionButtons</code>.</p>
            <blockcode numbered="numbered">
                const tdWithActionButtons = () =&gt; {
                    const td = document.createElement('td');
                    td.appendChild(removeButton());
                    td.appendChild(moveUpButton());
                    td.appendChild(moveDownButton());
                    return td;
                };
            </blockcode>
            <p>Die Buttons erzeugen Sie nach dem bekannten Schema:</p>
            <blockcode>
              const moveUpButton = () =&gt; {
                const button = document.createElement('button');
                button.textContent = '&uarr;';
                button.classList.add('move_product_up');
                button.on('click', moveProductUp);
                return button;
              };

              const moveDownButton = () =&gt; {
                const button = document.createElement('button');
                button.textContent = '&darr;';
                button.classList.add('move_product_down');
                button.on('click', moveProductDown);
                return button;
              };
            </blockcode>
            <p>Ja, wir wissen schon, was Sie sagen wollen: zuviel Redundanz durch böses Copy&amp;Paste. Natürlich haben Sie recht. Aber darum kümmern wir uns später, da wir zuerst noch die Funktionen <code>moveProductUp</code> und <code>moveProductDown</code> implementieren müssen. </p>
            <p>Wie sehen nun die eigentlichen Bewegungsfunktionen <code>moveProductUp</code> und <code>moveProductDown</code> aus? Auch hier müssen Sie sich zunächst die Produkt-Zeile schnappen &mdash; mit der existierenden Funktion <code>productRowForAction(event.target)</code>, die einfach wieder zwei parentNodes nach oben wechselt. Speichern Sie sie gleich in einer Variablen:</p>
            <blockcode>const currentProductRow = productRowForAction(event.target);</blockcode>
            <p>Jetzt können Sie diese Produktzeile an einer anderen Stelle wieder einfügen. Dazu benötigen Sie die Methode <code>insertBefore</code>. Sie kann ein Element vor einem anderen einfügen. Aufrufen müssen Sie die Methode immer auf dem Eltern-Element:</p>
            <blockcode>currentProductRow.parentNode.insertBefore(/* ... */)</blockcode>
            <p>Wo genau soll das Element eigentlich hin?</p>
            <p>Zum Nach-oben-Bewegen müssen Sie es auf der gleichen Ebene, ein Element vor der aktuellen Produktuzeile, einfügen. Elemente der gleichen Ebene heißen Geschwister (engl. <keyword>siblings</keyword>). Das Geschwister-Element vor dem aktuellen ist dann der <code>previousElementSibling</code> (vorheriges Geschwister-Element). In Code bedeutet das:</p>
            <blockcode numbered="numbered">
                currentProductRow.parentNode.insertBefore(
                  currentProductRow,
                  currentProductRow.previousElementSibling);
            </blockcode>
            <p>Das sieht etwas kompliziert aus, ist es aber nicht. Lesen Sie die Anweisung als: </p>
            <blockquote>
                <p>Ausgehend vom Parent (<code>currentProductRow.parentNode</code> &mdash; das ist hier der <code>tbody</code>) &mdash; füge die zu verschiebende Produktzeile (<code>currentProductRow</code>) <b>vor</b> dem vorhergehenden Geschwister-Element (<code>currentProductRow.previousElementSibling</code>) ein .</p>
            </blockquote>
            <p>Damit erhalten Sie folgende Funktion:</p>
            <blockcode numbered="numbered">
                const moveProductUp = event =&gt; {
                  const currentProductRow = productRowForAction(event.target);
                  currentProductRow.parentNode.insertBefore(
                    currentProductRow,
                    currentProductRow.previousElementSibling);
                };
            </blockcode>
            <p>Jetzt lässt sich das Produkt nach oben schieben &mdash; hurra! Probieren Sie es aus.</p>
            <p><code>moveProductDown</code> ist auch kein Kunststück mehr. Sie benötigen das Attribut <code>nextElementSibling</code>. Leider gibt es ein kleines Problem. Das nächste Geschwister-<code>tr</code> von <i>3Doodler</i>-<code>tr</code> ist die <i>Powerstation</i>. Wenn Sie den 3Doodle mit <code>insertBefore</code> vor der <i>Powerstation</i> einfügen (<i>before next</i> in <a href="#next_next_with_arrows"/>), haben Sie nichts verändert!</p>
            <figure id="next_next_with_arrows">
                <img src="images/screenshots/productmanager_next_next_with_arrows.png"/>
                <figcaption>moveProductDown mit<code>insertBefore</code> auf <code>.nextElementSibling.nextElementSibling</code></figcaption>
            </figure>
            <p>Sie müssen den <i>3Doodler</i> stattdessen vor dem übernächsten <code>tr</code> (<i>before next next</i> in <a href="#next_next_with_arrows"/>), der <i>8.Bit&hellip;Mug</i>, einfügen:</p>
            <blockcode>
                const moveProductDown = event =&gt; {
                  const currentProductRow = productRowForAction(event.target);
                  currentProductRow.parentNode.insertBefore(
                    currentProductRow,
                    currentProductRow.nextElementSibling.nextElementSibling);
                };
            </blockcode>
            <p>Hier ist nochmal alles im Überblick:</p>
            <blockcode src="accompanying_files/12/examples/product_manager_5_move/product_manager.js" numbered="numbered"/>
            <p>Ganz schön lang, nicht wahr?</p>
            <h1>Allerliebstes Refactoring</h1>
            <p>Zumindest die Redundanzen sollten Sie noch entfernen. Alle drei Button-Funktionen sind nach dem gleichen Schema aufgebaut: </p>
            <blockcode>
              const removeButton = () =&gt; {
                const button = document.createElement('button');
                button.textContent = 'x';
                button.classList.add('remove_product');
                button.on('click', removeProduct);
                return button;
              };

              const moveUpButton = () =&gt; {
                const button = document.createElement('button');
                button.textContent = '&uarr;';
                button.classList.add('move_product_up');
                button.on('click', moveProductUp);
                return button;
              };

              const moveDownButton = () =&gt; {
                const button = document.createElement('button');
                button.textContent = '&darr;';
                button.classList.add('move_product_down');
                button.on('click', moveProductDown);
                return button;
              };
            </blockcode>
            <p>Definieren Sie eine Funktion <code>buildButton</code>, die die Unterschiede vereinheitlicht:</p>
            <blockcode>
              const buildButton = (symbol, cssClass, action) =&gt; {
                const button = document.createElement('button');
                button.textContent = symbol;
                button.classList.add(cssClass);
                button.on('click', action);
                return button;
              };
            </blockcode>
            <p>Sie können alle drei Buttons mit der neuen Funktion erzeugen:</p>
            <blockcode>
              const removeButton = () =&gt;
                buildButton('x', 'remove_product', removeProduct);
              const moveUpButton = () =&gt;
                buildButton('&uarr;', 'move_product_up', moveProductUp);
              const moveDownButton = () =&gt;
                buildButton('&darr;', 'move_product_down', moveProductDown);
            </blockcode>
            <p>Der Code ist nicht nur kürzer &mdash; Sie können auf einen Blick erkennen, wie sich die drei Buttons tatsächlich voneinander unterscheiden.</p>
            <p>Auch die beiden <code>move</code>-Funktionen unterscheiden sich nur minimal. Der einzige Unterschied ist der Zugriff auf die Geschwister-Elemente, um die Richtung festzulegen. Ziehen Sie die Unterschiede heraus:</p>
            <blockcode>
              const moveProductUp = event =&gt; moveProduct(event, up);
              const moveProductDown = event =&gt; moveProduct(event, down);

              const moveProduct = (event, direction) =&gt; {
                const currentProductRow = productRowForAction(event.target);
                currentProductRow.parentNode.insertBefore(
                    currentProductRow, direction(currentProductRow));
              };

              const down = el =&gt; el.nextElementSibling.nextElementSibling;
              const up = el =&gt; el.previousElementSibling;
            </blockcode>
            <p>Insgesamt sieht der verbesserte Code nun so aus:</p>
            <blockcode src="accompanying_files/12/examples/product_manager_6_move_refact/product_manager.js" numbered="numbered"/>
            <h1>Uups &mdash; das geht noch besser!</h1>
            <hint src="images/hint/bjoern.png">
                <p>Mir ist noch ein kleiner Glitch aufgefallen. Ich kann beim ersten Produkt auf den &raquo;Nach-oben&laquo;-Button drücken. So sieht das Ergebnis aus:</p>
                <figure width="90%">
                    <img src="images/screenshots/productmanager_up_error.png"/>
                </figure>
                <p>Zugegeben ich hab' meinen Browser schon lange nicht mehr aktualisiert. Aber auf einem neuen Chrome oder Firefox &mdash; hab' ich gesehen &mdash; wandert das erste Produkt dann nach unten. Das ergibt auch keinen Sinn. </p>
                <p>Genauso wenig sinnvoll ist es, beim letzten Produkt auf den &raquo;Nach-unten&laquo;-Button zu drücken. Könnten Sie die entsprechenden Buttons nicht einfach deaktivieren?</p>
                <!--TODO ME: Screencast einbetten: product_manager_disabled_buttons.mov -->
            </hint>
            <p>Stimmt, eigentlich sollten diese Buttons gar nicht aktiv sein. Ein kleine Funktion schafft hier Abhilfe.</p>
            <blockcode numbered="numbered">const disableNonFunctionalButtons = () =&gt;
  $$('#products &gt; tbody &gt; tr').forEach(tr =&gt; {
    tr.querySelector('.move_product_up').disabled = !tr.previousElementSibling;
    tr.querySelector('.move_product_down').disabled = !tr.nextElementSibling;
  });</blockcode>
            <p>Das ist nun im Grunde nichts Neues. Das <code>forEach</code> durchläuft alle Tabellenzeilen (<code>tr</code>) und schaltet die Rauf-/runter-Buttons in den richtigen Zustand. Der einzige Trick ist es, herauszufinden, was denn der richtige Zustand ist. Hat eine Zeile <i>keinen Vorgänger</i> (<code>!tr.previousElementSibling</code>), so muss sie die oberste Zeile sein. Dementsprechend ist der Button für &raquo;Nach oben&laquo; (<code>tr.querySelector('.move_product_up')</code>) in dieser Zeile zu deaktivieren (<code>.disabled = true</code>). Hat die Zeile jedoch einen Vorgänger, so gibt <code>!tr.previousElementSibling</code> den Wert <code>false</code> zurück. Sie setzen also das Attribut <code>disabled</code> auf <code>false</code>. Der Button bleibt (oder wird) aktiv.</p>
            <p>Der &raquo;Nach-unten&laquo;-Button lässt sich genauso deaktivieren bzw. aktivieren.</p>
            <p>Jetzt muss die Funktion nur noch aufgerufen werden. Wann ist der beste Zeitpunkt? </p>
            <p>Idealerweise immer, nachdem der Anwender einen der Buttons betätigt hat.</p>
            <h3>Aufruf in der Tabelle</h3>
            <p>Für die Buttons <code>&uarr;</code>, <code>&darr;</code> und <code>x</code> hängen Sie die Funktion <code>disableNonFunctionalButtons</code> einfach zusätzlich ans jeweilige Click-Event in der <code>buildButton</code>-Funktion. Das zweite <code>on</code> in Zeile 5 registriert <code>disableNonFunctionalButtons</code> als zweiten Event-Handler auf dem <code>click</code>-Event (<keyword>Chaining</keyword>). Beide Funktionen werden beim Auftreten des Events ausgeführt.</p>
            <blockcode numbered="numbered">
              const buildButton = (symbol, cssClass, action) =&gt; {
                const button = document.createElement('button');
                button.textContent = symbol;
                button.classList.add(cssClass);
                button.on('click', action).on('click', disableNonFunctionalButtons);
                return button;
              };
            </blockcode>
            <p>Jeder Klick auf einen von <code>buildButton</code> erzeugten Button ruft <code>disableNonFunctionalButtons</code> auf. Somit kann der Anwender einen beliebigen Button eines beliebigen Produktes betätigen und es bleibt sichergestellt, dass alle Buttons in den richtigen Zustand wechseln.</p>
            <h3>Aufruf nach dem Hinzufügen neuer Produkte</h3>
            <p>Um auch einen korrekten Zustand nach dem Hinzufügen neuer Produkte zu haben, sollten Sie die Funktion noch am Ende von <code>addProduct</code> einfügen:</p>
            <blockcode numbered="numbered">
              const addProduct = product =&gt; {
                $('#products &gt; tbody').appendChild(
                  tr([
                    td(product.name), td(product.price), tdWithActionButtons()
                  ])
                );
                disableNonFunctionalButtons();
              };
            </blockcode>
            <p>Wie immer der komplette Code zur Übersicht:</p>
            <blockcode numbered="numbered" src="accompanying_files/12/examples/product_manager_7_move_disabled_buttons/product_manager.js"/>
            <h1>Zusammenfassung</h1>
            <table>
                <caption>Methoden dieser Lektion</caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>insertBefore</td>
                        <td>Fügt einen übergebenen Knoten (erstes Argument) vor einem anderen Knoten (zweites Argument) ein. Ausgegangen wird dabei von dem Elternknoten, auf dem die Methode aufgerufen wurde.</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>Attribute dieser Lektion</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>previousElementSibling</td>
                        <td>Enthält das vorhergehende Geschwisterelement</td>
                    </tr>
                    <tr>
                        <td>nextElementSibling</td>
                        <td>Enthält das nachfolgende Geschwisterelement</td>
                    </tr>
                </tbody>
            </table>
            <h2>Beispiel zu <code>insertBefore</code></h2>
            <figure>
                <img src="images/graphs/dom_manipulation_insertBefore.png"/>
            </figure>
            <p>HTML-Struktur (vorher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <p>JavaScript in der Konsole</p>
            <blockcode>
                const li = document.createElement('li');
                li.textContent = '4';
                $('ul').insertBefore(li, $$('ul &gt; li')[2]);
            </blockcode>
            <p>HTML-Struktur (nachher):</p>
            <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;4&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
            <h2>DOM-Traversal</h2>
            <p>Um sich innerhalb des DOM von einem Element zum anderen zu bewegen (<keyword>traversal</keyword>), sind verschiedene Attribute nötig. Diese Übersicht zeigt die wichtigsten Attribute anhand von <a href="#ul_example"/>.</p>
            <p>Alle in <a href="#dom_traversal_attrs_table"/> bzw. <a href="#dom_traversal_attrs_image"/> aufgelisteten Attribute sind <i>read-only</i>. Sie können zwar anhand der Attribute im DOM navigieren, aber keine Veränderungen an der Baumstruktur durchführen.</p>
            <table id="dom_traversal_attrs_table">
                <caption>Diese Tabelle zeigt die wichtigsten Möglichkeiten zum DOM-<b>Traversal</b> (Bewegung innerhalb des DOMs)</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>parentNode</td>
                        <td>der Elternknoten</td>
                    </tr>
                    <tr>
                        <td>children</td>
                        <td>alle Kindelemente</td>
                    </tr>
                    <tr>
                        <td>childElementCount</td>
                        <td>Anzahl der Kindelemente</td>
                    </tr>
                    <tr>
                        <td>firstElementChild</td>
                        <td>das erste Kindelelement</td>
                    </tr>
                    <tr>
                        <td>lastElementChild</td>
                        <td>das letzte Kindelelement</td>
                    </tr>
                    <tr>
                        <td>previousElementSibling</td>
                        <td>das vorhergehende Geschwisterelement</td>
                    </tr>
                    <tr>
                        <td>nextElementSibling</td>
                        <td>das nächste Geschwisterelement</td>
                    </tr>
                </tbody>
            </table>
            <h3>Beispiele</h3>
            <figure id="ul_example">
                <blockcode type="html">
                ...
                &lt;body&gt;
                  &lt;ul&gt;
                    &lt;li&gt;0&lt;/li&gt;
                    &lt;li&gt;1&lt;/li&gt;
                    &lt;li&gt;2&lt;/li&gt;
                    &lt;li&gt;3&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/body&gt;
            </blockcode>
                <figcaption>HTML-Beispiel einer einfachen unordered list</figcaption>
            </figure>
            <figure id="dom_traversal_attrs_image">
                <img src="images/graphs/dom_traversal.png"/>
                <figcaption>DOM-Traversal-Attributes zu <a href="#ul_example"/></figcaption>
            </figure>
            <blockcode>
                document.body                   // =&gt; &lt;body&gt;...&lt;/body&gt;
                document.body.children          // =&gt; [&lt;ul&gt;...&lt;/ul&gt;]
                document.body.childElementCount // =&gt; 0

                $('ul')                   // =&gt; &lt;ul&gt;...&lt;/ul&gt;
                $('ul').parentNode        // =&gt; &lt;body&gt;...&lt;/body&gt;
                $('ul').firstElementChild // =&gt; &lt;li&gt;0&lt;/li&gt;
                $('ul').lastElementChild  // =&gt; &lt;li&gt;3&lt;/li&gt;
                $('ul').childElementCount // =&gt; 4
                $('ul').children // =&gt; [&lt;li&gt;0&lt;/li&gt;, ..., &lt;li&gt;3&lt;/li&gt;]

                $$('li')[1]                        // =&gt; &lt;li&gt;1&lt;/li&gt;
                $$('li')[1].parentNode             // =&gt; &lt;ul&gt;...&lt;/ul&gt;
                $$('li')[1].previousElementSibling // =&gt; &lt;li&gt;0&lt;/li&gt;
                $$('li')[1].nextElementSibling     // =&gt; &lt;li&gt;2&lt;/li&gt;
            </blockcode>
            <hint src="images/hint/storyteller_left.jpg">
                <h3>Literaturhinweis</h3>
                <p>Die in den letzten Lektionen beschriebenen Techniken, um Elemente im DOM zu manipulieren, wurden vor allem durch das Buch <i>DOM Scripting</i> (Keith 2005) von <i>Jeremy Keith</i> bekannt. Es erschien 2005 und ritt damit auf dem Höhepunkt der Ajax-Hype-Welle. Es demonstrierte sehr eindrucksvoll, wie sich mit sauberem und standardkonformem Code moderne Anwendungen entwickeln lassen &mdash; ein Novum zur damaligen Zeit.</p>
            </hint>
            <h1>Testen Sie Ihr Wissen!</h1>
            <questions>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Mit welcher Eigenschaft greifen Sie auf das vorherige Geschwisterelement eines DOM-Knotens zu?</p>
                    </question_text>
                    <answer><blank>previousElementSibling</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Mit welcher Eigenschaft greifen Sie auf das nächste Geschwisterelement eines DOM-Knotens zu?</p>
                    </question_text>
                    <answer><blank>nextElementSibling</blank></answer>
                </question>
                <question reviewed="reviewed" type="fill_in_the_blanks" public="public">
                    <question_text>
                        <p>Gegeben ist eine <i>unordered List</i> mit der id <code>my_list</code>, die 5 <code>li</code>-Elemente enthält. Finden Sie per JavaScript anhand der <i>id</i> die Anzahl der <code>li</code>-Elemente (5) heraus.</p>
                    </question_text>
                    <answer><code>console.log(document.querySelector('#my_list')</code><blank>.childElementCount</blank><code>);</code></answer>
                </question>
            </questions>
            <h1>Übungen</h1>
            <exercise>
                <name>010010000100111101010100 &mdash; Teil 9</name>
                <content>
                    <p>Verändern Sie noch mal die Produktseite der Binär-Tasse mit Hilfe von JavaScript. </p>
                    <p>Fügen Sie noch einmal den folgenden Listenpunkt zur Liste der <code>Product
Specifications</code> hinzu:</p>
                    <p>
                        <i>Capacity: 11 oz.</i>
                    </p>
                    <p>Fügen Sie den Listenpunkt aber dieses Mal nicht am Ende der Liste ein, sondern vor dem Eintrag <i>Materials: Ceramic</i>.</p>
                </content>
                <answer>
                    <blockcode numbered="numbered">const li = document.createElement('li');
li.textContent = 'Capacity: 11 oz.';
$('#product_specification').insertBefore(li, $$('#product_specification li')[4])
                    </blockcode>
                </answer>
            </exercise>
            <exercise>
                <name>Cuteycat</name>
                <content>
                    <figure width="70%">
                        <img src="images/exercises/cuteycat.png"/>
                    </figure>
                    <p>Der Katzenfreundeverein <i>Cuteycat</i> hat einen Auftrag für Sie. Der Verein möchte auf seiner Website einen Wettbewerb ausrichten. Die Seite zeigt eine Reihe von Katzen, aus denen ein Besucher jeweils die drei niedlichsten auswählen soll.</p>
                    <step>
                        <p>Verwenden Sie das HTML und CSS aus dem Begleitmaterial. Sobald ein Besucher auf eine der Katzen klickt, soll diese auch in der rechten Box (<i>Cutest Cats</i>) erscheinen. Sie darf aber aus der Liste der Katzen (<i>Our Cats</i>) nicht verschwinden!</p>
                        <blockcode numbered="numbered" src="accompanying_files/12/solutions/cute_kittens/cuteycat.html"/>
                        <blockcode numbered="numbered" src="accompanying_files/12/solutions/cute_kittens/cuteycat.css"/>
                    </step>
                    <step>Achten Sie darauf, dass sich die gleiche Katze nicht zweimal auswählen lässt.</step>
                    <step>Es darf nicht mehr als 3 niedlichste Katzen geben.</step>
                    <step>Benutzer sollen eine Katze in der Gewinnerbox (<i>Cutest Cats</i>) anklicken können, um sie wieder herauszunehmen.</step>
                    <h3>Hinweise</h3>
                    <ul>
                        <li>Versuchen Sie die Übung ohne <code>.innerHTML</code> zu lösen!</li>
                        <li>Unter der URL <a href="http://loremflickr.com/150/150/cute,kitten/all">http://loremflickr.com/150/150/cute,kitten/all</a> können Sie weitere zufällige Katzenbilder generieren.</li>
                        <li>Die Seite <a href="http://fantasynamegenerators.com/cat-names.php">http://fantasynamegenerators.com/cat-names.php</a> produziert zufällige Katzennamen.</li>
                        <li>Verwenden Sie <code>.cloneNode(true)</code> auf den <code>li</code>-Elementen, um das Entfernen der Katzen aus <i>Our Cats</i> zu verhindern.</li>
                        <li>Registrieren Sie den Event-Handler auf den <code>li</code>-Elementen. Falls der Benutzer aber nicht direkt das <code>li</code> anklickt, sondern Bild oder Text (Name der Katze), so zeigt <code>event.target</code> auf das angeklickte Element. Mittels <code>event.currentTarget</code> können Sie aber immer noch auf das <code>li</code> zugreifen. <code>currentTarget</code> enthält immer das Element, auf dem der Handler tatsächlich registriert wurde.</li>
                    </ul>
                </content>
                <answer>
                    <blockcode numbered="numbered" src="accompanying_files/12/solutions/cute_kittens/cuteycat.js"/>
                </answer>
            </exercise>
        </lesson>
        <lesson>
            <lesson_name>Projekt - Taschenrechner</lesson_name>
            <h1>Einführung</h1>
            <p>Zum Abschluss dieser Class werden Sie nun begleitet einen Taschenrechner als Webanwendung programmieren. Sie beginnen mit den einfacheren Funktionalitäten,
                wie der Eingabe von Werten und deren Berechnung. Daraufhin implementieren Sie die Eingabe der Zahlen durch die Tastatur. Im nächsten Schritt werden Sie den
                Taschenrechner um eine Rechenhistorie erweitern. Zum Schluss werden Sie die Historie modifizieren und um fortgeschrittenere Funktionen erweitern.</p>
            <p>Dieses Projekt ist dabei so gegliedert, dass Sie jeweils eine Einleitung zu dem
                bekommen, was Sie programmieren sollen. Dabei wird es sich manchmal nur um eine
                textuelle Beschreibung handeln. Andere Male bekommen Sie auch Code vorgegeben.
                Daraufhin können Sie aktiv werden und immer eine Funktionalität selbst
                programmieren. Am Ende jedes Abschnittes erhalten Sie dann eine mögliche
                Implementierung der jeweiligen Aufgabe. So können Sie, auch wenn Sie bei einer
                Aufgabe nicht weiterkommen sollten, die restlichen Aufgaben bearbeiten.</p>

            <p>Preview der Endlösung video</p>
            <exercise>
                <name>Taschenrechner - grundlegende Funktionalität</name>
                <content>
                    <p>Ihre erste Aufgabe wird es sein, die unten gegebene HTML-Datei um ein JS-Script zu erweitern und somit den einzelnen Buttons Funktionalität zu verleihen. In der Vorlage sind Buttons für die Zahlen von 0 bis 9, so wie die Rechenoperationen Addition, Subtraktion, Multiplikation und Division hinterlegt. Zudem gibt es je einen Button, alle Eingaben zu entfernen und um den eingegebenen Term auszuwerten.</p>
                    <p><b>Vorgehensweise</b></p>
                    <p>Zur Implementierung der Rechenfunktionen können Sie auf die entsprechenden
                        JavaScript-Operatoren zurückgreifen. Der einfachheitshalber dürfen Sie die Funktion
                        <a
                            href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/eval"
                            ><code>eval()</code></a> benutzen um den Term auszuwerten. Seien Sie sich jedoch
                        bewusst, dass diese Funktion ein hohes Sicherheitsrisiko darstellt, da sie sämtliche
                        JavaScript Befehle auswertet. Verwenden Sie diese Funktion also nur zu Testzwecken
                        und außerhalb dieser Übung auf keinem Fall für eine finale Anwendung.</p>
                    <p><a href="accompanying_files/13/exercise/taschenrechner/calculator.html">calculator.html</a></p>
                </content>
                <answer>
                    Video hier
                    <a href="accompanying_files/13/solution/taschenrechner_grundlagen/calculator_grundlagen.js">calculator_grundlagen.js</a>
                </answer>
            </exercise>

          <exercise>
              <name>Tastatureingabe</name>
              <content>
                  <p>Aktuell ist es bei Ihrem Taschenrechner nur möglich Zahlen einzugeben, wenn Sie dazu
                      mit der Maus auf den entsprechenden Button klicken. Drücken Sie bspw. die 5 auf
                      Ihrer Tastatur, so passiert nichts. Im nächsten Arbeitsschritt werden Sie dieses
                      Problem in Angriff nehmen. Es soll nun möglich sein, den Taschenrechner auch per
                      Tastatur bedienen zu können. Somit besitzt Ihr Taschenrechner nach diesem
                      Arbeitsschritt sowohl eine Maus- als auch eine Tastatureingabe.</p>
                  <p><b>Vorgehensweise</b></p>
                  <p>Um die Tastatur abzufragen, hält JavaScript mehrere Events bereit. Finden Sie das
                      entsprechende Event heraus und fügen Sie einem passenden HTML-Element den benötigten
                      Eventhandler hinzu. Um das richtige Event zu finden können Sie in der <a
                          href="https://developer.mozilla.org/de/docs/Web/JavaScript"
                          >JavaScript-Dokumentation</a> nachgucken. Mittels <code>event.keycode</code>
                      können Sie den Keycode der gedrückten Taste abfragen. Um herauszufinden, welche
                      Taste welchen Keycode besitzt, können Sie die Seite <a href="https://keycode.info/"
                          >keycode.info</a> verwenden. Nutzen Sie für die Tastenbelegung die passenden
                      Tasten auf Ihrer Tastatur. Mit der <i>löschen</i>-Taste (delete) soll die letzte
                      Eingabe entfernt werden. Die <i>escape</i>-Taste (esc) soll alle Eingaben entfernen
                      und die <i>enter</i>-Taste soll die Auswertung des Terms einleiten.</p>
              </content>
              <answer>
                  <a href="accompanying_files/13/solution/taschenrechner_tastatureingabe/calculator_tastatureingabe.js">calculator_tastatureingabe.js</a>
              </answer>
          </exercise>

            <exercise>
                <name>Rechenhistorie</name>
                <content>
                    <p>Mit der letzten Erweiterung haben Sie die Bedienung Ihres Taschenrechners um einiges
                        komfortabler gemacht. Warum also nun aufhören? Als Nächstes werden Sie den
                        Taschenrechner um eine Rechenhistorie erweitern. Dem Benutzer soll es möglich sein,
                        mit den Pfeiltasten nach oben und unten durch seine letzten Berechnungen zu
                        navigieren. Somit kann der Benutzer jederzeit nachgucken, was er bereits alles
                        berechnet hat.</p>
                    <p><b>Vorgehensweise</b></p>
                    <p>Am einfachsten ist es, wenn Sie diese Erweiterung in zwei Arbeitsschritte aufteilen.
                        Der erste Arbeitsschritt besteht daraus, die Logik für die Rechenhistorie zu
                        implementieren. Hierzu genügt es, wenn Sie die Berechnungen und ihre Ergebnisse
                        intern abspeichern. Außerdem können Sie bereits die Funktionen zur Navigation
                        schreiben. Im zweiten Arbeitsschritt binden Sie dann die Pfeiltasten ein. Hierzu
                        können Sie nach demselben Prinzip vorgehen, wie Sie es bereits in der vorherigen
                        Erweiterung gemacht haben. Wenn die Pfeiltaste nach oben gedrückt wird, soll das
                        letzte Ergebnis angezeigt werden. Ein erneutes Drücken der Taste soll dann den
                        zugehörigen Term anzeigen. Wenn Sie bei dem allerersten Term, also dem Anfang Ihrer
                        Historie, angekommen sind, dann soll ein wiederholtes Drücken der Taste das
                        Eingabefeld hervorbringen. Die Pfeiltaste nach unten sollen entgegengesetzt zur
                        Pfeiltaste nach oben funktionieren.</p>
                </content>
                <answer>
                    <a href="accompanying_files/13/solution/taschenrechner_historie/calculator_historie.js">calculator_historie.js</a>
                </answer>
            </exercise>
            <exercise>
                <name>Erweiterte Historie</name>
                <content>
                    <h1>Erweiterte Historie</h1>
                    <p>Sie haben es fast geschafft. Der letzte Arbeitsschritt wird daraus bestehen, die
                        zuvor implementierte Historie zu erweitern. Sich seine letzten Berechnungen
                        anzugucken ist schön, sie dann wiederverwenden zu können ist jedoch noch schöner.
                        Genau das wird Ihre letzte Aufgabe sein. Der Benutzer soll auf einen Button drücken
                        können, welcher ihm die gesamte Historie anzeigt. Wenn der Benutzer dann auf einen
                        Term (oder ein Ergebnis) klickt, dann soll dieser in das Eingabefeld übernommen
                        werden und wiederverwendet werden können. Sie können sich dabei an der Historie des
                        Google Chrome Taschenrechners orientieren. Diesen erreichen Sie, indem Sie einfach
                        "Taschenrechner" in das Suchfeld eingeben.</p>
                    <figure width="50%">
                        <img src="images/screenshots/google_calculator.png"/>
                    </figure>
                    <p> --- hier Vorgehensweise angeben --- </p>
                </content>
                <answer> --- hier Lösung angeben --- </answer>
            </exercise>

            <assignment weight="2">
                <name>E-Book mit automatischem Inhaltverzeichnis</name>
                <content>
                    <p>Ein Verlag möchte alle seine E-Books seinen Lesern online zur Verfügung stellen. Die Bücher stehen bereits inhaltlich komplett &ndash; aber ohne Inhaltsverzeichnis (engl.: table of contents) &ndash; im HTML-Format zur Verfügung. Ihre Aufgabe besteht darin, eine in jedes E-Book einbindbare JavaScript-Datei namens <code>toc.js</code> zu schreiben, die zwei dynamische Features implementiert.</p>
                    <p><i>Achtung:</i> Verwenden Sie für diese Aufgabe z.&thinsp;B. einen Blindtext, um die E-Books zu simulieren. Wichtig ist, dass jedes E-Book eine gültige HTML-Datei mit einer h1- und mehreren h2-Elementen darstellt. Weitere HTML-Elemente oder Attribute von HTML-Elementen können im E-Book vorhanden sein oder auch nicht. Das ist von E-Book zu E-Book unterschiedlich. Die genaue Optik spielt dabei keine Rolle.</p>
                    <h3>Feature 1: Seitenleiste</h3>
                    <p>Ein kleiner Button mit der Aufschrift <i>Menü</i> soll das Inhaltverzeichnis in einer Seitenleiste öffnen.</p>
                    <figure width="100%">
                        <img src="images/screenshots/assignment_menu.png"/>
                    </figure>
                    <p>Entwickeln Sie Button und Seitenleiste mit folgenden Eigenschaften:</p>
                    <ul>
                        <li>
                            <p>Ein Klick auf den Button blendet die Seitenleiste ein. Der Contentbereich wird entsprechend verkleinert.</p>
                        </li>
                        <li>
                            <p>Klickt der Anwender auf den Schließen-Button (ein Button mit einem <i>X</i>), schließt sich die Seitenleiste, der Contentbereich wird wieder entsprechend vergrößert.</p>
                        </li>
                    </ul>
                    <figure width="100%">
                        <img src="images/screenshots/assignment_sidebar.png"/>
                    </figure>
                    <h3>Feature 2: Generierung des Inhaltsverzeichnisses</h3>
                    <p>Die Seitenleiste soll das Inhaltsverzeichnis des E-Books anzeigen. Dazu müssen alle h2-Überschriften im E-Book gefunden und in der Seitenleiste dargestellt werden. Außerdem sind die einzelnen Überschriften zu verlinken, sodass der Anwender direkt die richtige Stelle im E-Book anwählen kann.</p>
                    <p>Die Verlinkung soll auch dann noch funktionieren, falls mehrere h2-Elemente den gleichen Text enthalten oder eine sehr große Anzahl von h2-Überschriften existiert.</p>
                    <h3>Technologien</h3>
                    <p>Zur Realisierung der Applikation werden Sie folgende Technologien einsetzen:</p>
                    <ul>
                        <li>HTML5</li>
                        <li>CSS</li>
                        <li>JavaScript - ES6+</li>
                    </ul>
                    <p>Externe JavaScript-Bibliotheken sind <b>nicht</b> zugelassen. Überprüft wird die Aufgabe im aktuellen Firefox-Browser.</p>
                    <p>Eine Demo der Einsendeaufgabe finden Sie unter: <a href="&toc_demo;">&toc_demo;</a></p>
                </content>
                <answer>
                    <p>Musterlösung</p>
                    <a href="&table_of_content_solution;">&table_of_content_solution;</a>
                </answer>
                <criteria>
                    <criteria_group weight="75">
                        <criteria_group_name>Table Of Content</criteria_group_name>
                        <criterion type="boolean" weight="1">E-Book: keine statischen HTML-Elemente für die Seitenleiste enthalten</criterion>
                        <criterion type="boolean" weight="1">E-Book: keine statischen HTML-Elemente für das Inhaltsverzeichnis enthalten</criterion>
                        <criterion type="boolean" weight="1">Feature 1: Seitenleiste wird mittels "Menü"-Button geöffnet</criterion>
                        <criterion type="boolean" weight="1">Feature 1: Seitenleiste wird mittels "X"-Button geschlossen</criterion>
                        <criterion type="boolean" weight="1">Feature 1: Contentbereich wird entsprechend verkleinert oder vergrößert</criterion>
                        <criterion type="boolean" weight="1">Feature 2: Inhaltsverzeichnis ist in der Seitenleiste enthalten</criterion>
                        <criterion type="boolean" weight="1">Feature 2: Inhaltsverzeichnis führt zur korrekten Überschrift</criterion>
                        <criterion type="boolean" weight="1">Feature 2: Inhaltsverzeichnis ist bei großer Anzahl von Überschriften bedienbar</criterion>
                    </criteria_group>
                    <criteria_group weight="25">
                        <criteria_group_name>Codequalität</criteria_group_name>
                        <criterion type="boolean" weight="1">Es wurde ES6 konformer Code geschrieben.</criterion>
                        <criterion type="boolean" weight="1">Es werden die in der Aufgabenstellung vorgegebenen Variablen- und Funktionsnamen verwendet.</criterion>
                        <criterion type="boolean" weight="1">Es wurden sinnvolle und beschreibende Variablen-/Funktionsnamen gewählt.</criterion>
                        <criterion type="boolean" weight="1">Variablennamen entsprechen den gelernten Konventionen (Konstanten in UPPERCASE, Funktionen in camelCase, …).</criterion>
                        <criterion type="boolean" weight="1">Es existieren keine überflüssigen Variablen/Funktionen.</criterion>
                        <criterion type="boolean" weight="1">Eine Funktion erfüllt nur eine Funktionalität.</criterion>
                        <criterion type="boolean" weight="1">Es existieren keine unnötige komplexen Verschachtelungen.</criterion>
                        <criterion type="boolean" weight="1">Es existiert kein doppelter Code. Mehrfach vorkommende Funktionalitäten sind in eigene Funktionen verpackt.</criterion>
                        <criterion type="boolean" weight="1">Nicht benötigte Kontrollstrukturen werden vermieden.</criterion>
                        <criterion type="boolean" weight="1">Es existiert kein ungenutzter/auskommentierter Code.</criterion>
                    </criteria_group>
                </criteria>
            </assignment>
            <assignment>
                <name>Suchen und Ersetzen</name>
                <content>
                    <p>In dieser Einsendeaufgabe sollen Sie die altbekannte <i>Suchen- und Ersetzen-Funktion</i> für eine Webseite entwickeln. Es soll möglich sein, nach einer beliebigen Abfolge von Zeichen zu suchen. Weiterhin soll der Benutzer wahlweise nur das erste oder jedes Vorkommen der eingegebenen Zeichenfolge durch einen neuen Begriff ersetzen können.</p>
                    <p>Zur einfacheren Implementierung genügt es, wenn Ihre HTML-Seite aus einer Überschrift, Suchfeld, Ersetzenfeld, einem Knopf für das einfache Ersetzen und einem Knopf für das vollständige Ersetzen, so wie einem Paragraphen mit Inhalt besteht. Es ist erlaubt, weitere Elemente hinzuzufügen. Diese werden jedoch nicht gewerten, können unter Umständen jedoch zu Punktabzug führen, wenn die geforderte Funktionalität darunter leidet. Da es in dieser Class um Javascript geht, geben ich Ihnen den HTML Code vor, den Sie gerne verwenden können. </p>
                    <blockcode type="html" src="accompanying_files/12/examples/search_and_replace/index.html"  />
                    <p>Sie können gerne unetr ... einen Blick auf die Musterlösung werfen um sich die Funktionalität anzusehen.</p>
                    <h3>Feature 1: Suchen und markieren</h3>
                    <p>Es soll möglich sein, dass der Nutzer im Inputfeld einen String eingibt, nach welcher der Paragraph der Webseite dann durchsucht wird. Wenn eine Übereinstimmung gefunden wurde, sollen etwaige Treffer überall im Text farbig markiert werden. Zusätzlich soll die Suche in Echtzeit erfolgen, d.h. es soll nach jedem eingegebenen Char eine Suche durchgeführt werden und die übereinstimmenden Zeichen markiert werden.</p>
                    <p>Gehen Sie dazu wie folgt vor:</p>
                    <ul>
                        <li>
                            <p>Schreiben Sie eine Funktion <code>search()</code>. Diese bekommt den in das Suchfeld eingegebene String als Parameter übergeben.</p>
                        </li>
                        <li>
                            <p>Findet die Funktion <code>search()</code> eine Übereinstimmung im Paragraphen, so wird der Treffer farbig markiert. Hierzu eigenet sich ein <code>span</code>-Element</p>
                        </li>
                        <li>Das Input Tag bietet ein Event, welches sich perfekt dafür eignet, auf Änderungen der Eingabe zu reagieren. Hier ist ein Blick in die Dokumentation zu empfehlen.</li>
                    </ul>
                    <h3>Feature 2: Ersetzen</h3>
                    <p>Nun sollen Sie den Buttons <i> ersten Treffer ersetzen</i> und <i>alle Treffer ersetzen</i> Leben einhauchen. Dabei soll beim Klick auf den Button <i>ersten Treffer ersetzen</i> nur das erste Vorkommen im Text mit dem Inhalt des Ersetzenfeldes ersetzt werden. Analog dazu soll beim Klick auf den <i>alle Treffer ersetzen</i> Button jeder Treffer im Text ersetzt werden.</p>
                    <p>Gehen Sie dazu wie folgt vor:</p>
                    <ul>
                        <li>
                            <p>Schreiben Sie eine Funktion <code>replace()</code>. Diese bekommt den String des Suchfeldes sowie den String des Ersetzenfeldes als Parameter übergeben.</p>
                        </li>
                        <li>
                            <p>Es soll nun, je nachdem welcher Knopf betätigt wurde, der erste Treffer der Suche oder alle Treffer im Text mit dem Wert des Ersetzenfeldes ersetzt werden.</p>
                        </li>
                    </ul>
                    <h3>Feature 3: Korrekte Markierungen</h3>
                    <p>Achten Sie darauf, dass die Treffer der Suche zu jeder Zeit korrekt sind. Wenn ein Zeichen aus dem gesuchten String entfernt wird, dann soll dieses auch nicht mehr im Text markiert sein. Ebenso soll nichts markiert sein, wenn nichts (mehr) im Suchfeld steht. Außerdem sollen die Treffer auch nach dem Ersetzen noch stimmen. Es sollen nach dem Ersetzen des ersten Treffers nur noch die verbleibenden Treffer markiert sein. Beim Ersetzen aller Treffer soll selbstverständlich kein String mehr markiert sein.</p>
                    <h3>Technologien</h3>
                    <p>Zur Realisierung der Applikation werden Sie folgende Technologien einsetzen:</p>
                    <ul>
                        <li>HTML5</li>
                        <li>CSS</li>
                        <li>JavaScript - ES6+</li>
                    </ul>
                    <p>Externe JavaScript-Bibliotheken sind <b>nicht</b> zugelassen. Ihr Ergebnis soll im akutellen Chrome-Browser lauffähig sein.</p>
                    <p>Eine Demo der Einsendeaufgabe finden Sie unter: <a href="&sar_demo;">&sar_demo;</a></p>
                </content>
                <answer>
                    <p>Musterlösung: </p>
                    <a href="&search_and_replace_solution;">&search_and_replace_solution;</a>
                </answer>
                <criteria>
                    <criteria_group weight="30">
                        <criteria_group_name>Arbeitsschritt 1</criteria_group_name>
                        <criterion type="boolean" weight="1">Die Funktion <code>search()</code>
                            bekommt die gesuchte Zeichenkette als Parameter übergeben.</criterion>
                        <criterion type="boolean" weight="2">Die Suche der Funktion <code>search()</code> erfolgt in Echtzeit.</criterion>
                        <criterion type="boolean" weight="4">Die Funktion <code>search()</code> hinterlegt jede Übereinstimmung farbig.</criterion>
                        <criterion type="boolean" weight="2">Die Funktion <code>search()</code> markiert nur Übereinstimmungen.</criterion>
                    </criteria_group>
                    <criteria_group weight="30">
                        <criteria_group_name>Arbeitsschritt 2</criteria_group_name>
                        <criterion type="boolean" weight="1">Die Funktion <code>replace()</code>
                            bekommt die gesuchte und die neue Zeichenkette als Parameter
                            übergeben.</criterion>
                        <criterion type="boolean" weight="4">Die Funktion <code>replace()</code>
                            kann das erste Vorkommen der gesuchten Zeichenkette korrekt
                            ersetzen.</criterion>
                        <criterion type="boolean" weight="4">Die Funktion <code>replace()</code>
                            kann jedes Vorkommen der gesuchten Zeichenkette korrekt
                            ersetzen.</criterion>
                        <criterion type="boolean" weight="2">Die Funktion <code>replace()</code>
                            ersetzt nur gesuchte Zeichenketten.</criterion>
                    </criteria_group>
                    <criteria_group weight="15">
                        <criteria_group_name>Arbeitsschritt 3</criteria_group_name>
                        <criterion type="boolean" weight="1">Es werden nur Zeichenketten markiert,
                            die exakt mit der gesuchten Zeichenkette übereinstimmen.</criterion>
                        <criterion type="boolean" weight="1">Beim Entfernen von gesuchten Zeichen
                            wird auch die Markierung der entfernten Zeichen im Paragraphen
                            aufgehoben.</criterion>
                        <criterion type="boolean" weight="1">Auch nach dem Ersetzen von Zeichen
                            stimmt die Markierung im Paragraphen noch.</criterion>
                    </criteria_group>
                    <criteria_group weight="25">
                        <criteria_group_name>Codequalität</criteria_group_name>
                        <criterion type="boolean" weight="1">Es wurde ES6 konformer Code geschrieben.</criterion>
                        <criterion type="boolean" weight="1">Es werden die in der Aufgabenstellung vorgegebenen Variablen- und Funktionsnamen verwendet.</criterion>
                        <criterion type="boolean" weight="1">Es wurden sinnvolle und beschreibende Variablen-/Funktionsnamen gewählt.</criterion>
                        <criterion type="boolean" weight="1">Variablennamen entsprechen den gelernten Konventionen (Konstanten in UPPERCASE, Funktionen in camelCase, …).</criterion>
                        <criterion type="boolean" weight="1">Es existieren keine überflüssigen Variablen/Funktionen.</criterion>
                        <criterion type="boolean" weight="1">Eine Funktion erfüllt nur eine Funktionalität.</criterion>
                        <criterion type="boolean" weight="1">Es existieren keine unnötige komplexen Verschachtelungen.</criterion>
                        <criterion type="boolean" weight="1">Es existiert kein doppelter Code. Mehrfach vorkommende Funktionalitäten sind in eigene Funktionen verpackt.</criterion>
                        <criterion type="boolean" weight="1">Nicht benötigte Kontrollstrukturen werden vermieden.</criterion>
                        <criterion type="boolean" weight="1">Es existiert kein ungenutzter/auskommentierter Code.</criterion>
                    </criteria_group>
                </criteria>
                <submission_instructions><p>Laden Sie Ihren gesamten Projektordner zu der Einsendeaufgabe als .zip-Datei im Onlinecampus
                        hoch.</p>
                    <p><b>Bitte beachten Sie</b>: Sobald Sie Ihre Aufgabenlösung hier eingereicht haben, wird
                        diese in der Regel zeitnah bewertet. Sie können die Aufgabe nicht noch einmal neu
                        einreichen, sobald wir mit der Bewertung begonnen haben, der Upload ist dann
                        gesperrt.</p></submission_instructions>
            </assignment>
        </lesson>
        <lesson>
            <lesson_name>Anhang A: Referenz</lesson_name>
            <p>Diese Referenz fasst die Browser-APIs zusammen, soweit dieser Kurs sie vermittelt. Auf selten benötigte oder zu komplexe Eigenschaften &amp; Methoden haben wir bewusst verzichtet.</p>
            <p>Verwenden Sie diese Referenz als Nachschlagewerk für Ihre Übungen. Wir hoffen, dass sie Ihnen auch später bei der täglichen Arbeit eine Hilfe ist. Sobald Sie die Namen der grundlegenden Methoden, Attribute und Interfaces aber halbwegs kennen, macht es vermutlich mehr Sinn, auf eine Online-Referenz wie <a href="http://developer.mozilla.org">developer.mozilla.org</a> oder <a href="http://www.webplatform.org">www.webplatform.org</a> umzusteigen. Falls Sie wissen möchten, ab welchen Browserversionen eine bestimmte Funktionalität zur Verfügung steht, empfehlen wir Ihnen <a href="http://caniuse.com">caniuse.com</a>.</p>
            <hint src="images/people/marco.jpg">
                <h3>Mein Tipp</h3>
                <p>Benutzen Sie die Referenz nicht nur als Nachschlagewerk. Lesen Sie die Referenz einfach mal bei Gelegenheit &mdash; wie eine Sonntagszeitung oder den aktuellen Twitter-Feed. </p>
                <p>Lesen Sie nicht unbedingt hochkonzentriert und fokussiert, sondern einfach zum Entspannen. Stellen Sie sich dabei vor, was Sie mit den Attributen und Methoden für spannende Dinge programmieren könnten. Und bei Gelegenheit: Lesen Sie die Referenz nochmal.</p>
                <p>Auf diese Weise prägen Sie sich die wichtigsten Dinge quasi &raquo;im Vorbeigehen&laquo; ein, und Sie haben alles schon einmal gesehen. Falls Sie dann später z.&thinsp;B. eine bestimmte Methode benötigen, fällt Ihnen sofort wieder ein, dass es da etwas Passendes gibt.</p>
                <p>Referenzen zu lesen, muss wirklich nicht &raquo;trocken&laquo; sein. Als ich mit 12 mein erstes Programmierbuch las (das Basic-Handbuch für den Commodore C64), hab' ich den Referenzteil geradezu &raquo;verschlugen&laquo;. Bei jeder neuen Funktion hab' ich davon geträumt, welche großartigen Dinge ich mal damit programmieren würde.</p>
            </hint>
            <h1>Elemente</h1>
            <p><b>Hinweis:</b> Die im DOM zur Verfügung stehenden Methoden stammen aus verschiedenen Interfaces/APIs. Diese Herkunfts-APIs sind in den folgenden Referenztabellen jeweils mit aufgeführt. Das hat rein dokumentarische Gründe. Sie können bei der entsprechenden API nachlesen, welche Methoden nun genau zur Verfügung stehen.</p>
            <h2>Element vs. Node</h2>
            <p>Das DOM unterscheidet zwischen Knoten (<keyword>Node</keyword>) im Allgemeinen und speziellen Knotentypen, wie Element-Knoten (<keyword>Element</keyword>), Text-Knoten, Kommentar-Knoten usw. Für die Praxis sind normalerweise nur die Element-Knoten relevant. Daher konzentriert sich unser Kurs auf diese. Falls Sie sich doch für weitere, eher selten benötige Knotentypen interessieren, finden Sie unter <a href="https://developer.mozilla.org/en/docs/Web/API/Node/nodeType">nodeType im MDN</a> eine Auflistung mit Erläuterungen. </p>
            <p>Da ein Element-Knoten (<i>Element</i>) eine Spezialisierung eines Knotens (<i>Node</i>) darstellt, stehen Ihnen auf dem Element-Knoten neben den Element-Eigenschaften (z.&thinsp;B. <code>children</code>) auch alle Node-Eigenschaften (z.&thinsp;B. <code>parentNode</code>) zur Verfügung. Im Normalfall können Sie den Unterschied ignorieren.</p>
            <h2>Der Document-Knoten</h2>
            <p>Der <code>document</code>-Knoten ist ebenfalls ein Spezialfall eines Knotens. Er repräsentiert das komplette HTML-Dokument und stellt einige zusätzliche Methoden wie <code>createElement</code> bereit. </p>
            <p>Die Methoden <code>querySelector</code> und <code>querySelectorAll</code> lassen sich auf <code>document</code>
                <b>global</b> und auf einzelnen Elementen <b>lokal</b> verwenden. Global heißt, der Selektor durchsucht das gesamte Dokument. Lokal bedeutet, dass nur die Nachfahren (d.&thinsp;h. Kinder, Enkel usw.) des entsprechenden Element-Knotens zur Suche herangezogen werden.</p>
            <h2>DOM Selection</h2>
            <table>
                <caption>Diese Tabelle zeigt die wichtigsten Methoden zur <b>Selektion</b> von DOM-Elementen. Weitere finden Sie im <a href="https://developer.mozilla.org">MDN</a> bei den Beschreibungen der entsprechenden APIs: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element</a> &amp; <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document">Document</a>. </caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                        <th>Interface/API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>querySelector</td>
                        <td>Gibt das <b>erste</b> Element zurück, das zum angegeben Selektor passt. Durchsucht nur Elemente innerhalb des HTML-Teilbaums, auf dessen Wurzelelement <code>querySelector</code> aufgerufen wurde.</td>
                        <td>Element</td>
                    </tr>
                    <tr>
                        <td>querySelectorAll</td>
                        <td>Gibt <b>alle</b> Elemente zurück, die zum angegeben Selektor passen. Durchsucht nur Elemente innerhalb des HTML-Teilbaums, auf dessen Wurzelelement <code>querySelectorAll</code> aufgerufen wurde.</td>
                        <td>Element</td>
                    </tr>
                    <tr>
                        <td>document.querySelector <i>(aka $)</i></td>
                        <td>Gibt das <b>erste</b> Element zurück, das zum angegeben Selektor passt. Durchsucht das gesamte HTML-Dokument.</td>
                        <td>Document</td>
                    </tr>
                    <tr>
                        <td>document.querySelectorAll <i>(aka $$)</i></td>
                        <td>Gibt <b>alle</b> Elemente zurück, die zum angegeben Selektor passen. Durchsucht das gesamte HTML-Dokument.</td>
                        <td>Document</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>Diese Tabelle zeigt die wichtigsten Attribute zur <b>Selektion</b> von DOM-Elementen. Weitere finden Sie im <a href="https://developer.mozilla.org">MDN</a> bei den Beschreibungen der Document-API. </caption>
                <thead>
                    <tr>
                        <th>Attribute</th>
                        <th>Beschreibung</th>
                        <th>Interface/API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>document.head</td>
                        <td>Gibt das <code>head</code>-Element zurück.</td>
                        <td>Document</td>
                    </tr>
                    <tr>
                        <td>document.body</td>
                        <td>Gibt das <code>body</code>-Element zurück.</td>
                        <td>Document</td>
                    </tr>
                </tbody>
            </table>
            <h3>CSS Selektoren</h3>
            <table>
                <caption>Basis CSS3-Selektoren</caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Universal selector</td>
                        <td>
                            <blockcode type="css">*</blockcode>
                        </td>
                        <td>Selektiert ein beliebiges Element. Diesen Selektor sollten Sie nicht ohne weitere Einschränkungen verwenden, da das Selektieren <b>aller</b> Elemente einer Website sehr viel Rechenzeit in Anspruch nehmen kann.</td>
                    </tr>
                    <tr>
                        <td>Type selector</td>
                        <td>
                            <blockcode type="css">h1</blockcode>
                        </td>
                        <td>Selektiert alle Elemente eines bestimmten Typs.</td>
                    </tr>
                    <tr>
                        <td>ID selector</td>
                        <td>
                            <blockcode type="css">#some-id</blockcode>
                        </td>
                        <td>Selektiert genau <b>ein</b> Element mit der gegebenen <code>id</code>.</td>
                    </tr>
                    <tr>
                        <td>Class selector</td>
                        <td>
                            <blockcode type="css">.some-class</blockcode>
                        </td>
                        <td>Selektiert alle Elemente, denen die angegebene Klasse zugewiesen wurde. Beachten Sie, dass ein Element mehrere Klassen haben kann.</td>
                    </tr>
                    <tr>
                        <td>-</td>
                        <td>
                            <blockcode type="css">h1, p, .go</blockcode>
                        </td>
                        <td>Das Komma ist selbst kein Selektor, sondern erlaubt es, mehrere Selektoren zu kombinieren. Im Beispiel würden alle <code>h1</code>-Elemente, alle <code>p</code>-Elemente und alle Elemente mit der Klasse <code>go</code> selektiert.</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>CSS attribute selectors. All examples select &lt;img src="funny_cat.png" ... /&gt;</caption>
                <thead>
                    <tr>
                        <th>Selektor</th>
                        <th>Beispiel zu<br/><code>&lt;img src="funny_cat.png" ... /&gt;</code></th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>[<i>attr</i>]</td>
                        <td>
                            <blockcode type="css">[src]</blockcode>
                        </td>
                        <td>Selektiert Elemente mit dem angegebenen Attribut. Der Attributwert spielt dabei keine Rolle (<keyword>attribute presence</keyword>).</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src='funny_cat.png']</blockcode>
                        </td>
                        <td>Selektiert Elemente, die das angegebene Attribut (<i>src</i>) mit genau dem angegebenen Wert (<i>funny_cat.png</i>) enthalten (<keyword>exact attribute match</keyword>).</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>*=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src*=cat]</blockcode>
                        </td>
                        <td>Selektiert Elemente, bei denen das angegebene Attribut (<i>src</i>) den Wert (<i>cat</i>) als Teilstring enthält (<keyword>substring attribute match</keyword>).</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>^=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src^=funny]</blockcode>
                        </td>
                        <td>Selektiert Elemente, bei denen das angegebene Attribut (<i>src</i>) mit dem Wert (<i>funny</i>) beginnt.</td>
                    </tr>
                    <tr>
                        <td>[<i>attr</i>$=<i>val</i>]</td>
                        <td>
                            <blockcode type="css">[src$=png]</blockcode>
                        </td>
                        <td>Selektiert Elemente, bei denen das angegebene Attribut (<i>src</i>) auf den angegebenen Wert (<i>png</i>) endet.</td>
                    </tr>
                </tbody>
            </table>
            <blockcode src="accompanying_files/02/examples/selector_testing.html" id="selector_testing_appendix" type="html"/>
            <table>
                <caption>Combinator Selectors &mdash; Ergebnisse basieren auf <a href="#selector_testing_appendix"/></caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Descendant combinator (Leerzeichen)</td>
                        <td>
                            <blockcode type="css">li span</blockcode>
                        </td>
                        <td>Selektiert Elemente (hier <code>span</code>), die die Nachfahren eines anderen angegebenen Elements (hier <code>li</code>) sind &mdash; völlig unabhängig davon, wie viele Ebenen dazwischen liegen.<p><b>Ergebnis:</b>
                                <code>[&lt;span&gt;11&lt;/span&gt;, &lt;span&gt;21&lt;/span&gt;,
                                    &lt;span&gt;22&lt;/span&gt;]</code></p></td>
                    </tr>
                    <tr>
                        <td>Adjacent sibling combinator (+)</td>
                        <td>
                            <blockcode type="css">li#li11 + li</blockcode>
                        </td>
                        <td>Mit diesem Selektor können Sie das Element auswählen, das im HTML-Quelltext <b>direkt nach</b> dem angegeben Element (hier <code>li#li11</code>) auf der gleichen Ebene (Geschwister-Element) folgt. Falls das im Dokument nachfolgende Element nicht dem hinter dem +-Symbol angegebenen entspricht, wird nichts selektiert.<p><b>Ergebnis:</b>
                                <code>[&lt;li id="li12"&gt;12&lt;/li&gt;]</code></p></td>
                    </tr>
                    <tr>
                        <td>General sibling combinator (~)</td>
                        <td>
                            <blockcode type="css">li#li12 ~ li</blockcode>
                        </td>
                        <td>Mit diesem Selektor können Sie alle Elemente auswählen, die im Dokument nach dem angegebenen Element (hier <code>li#li12</code>) auf der gleichen Ebene (Geschwister-Element) folgen. Es wird <b>nicht nur das direkt folgende</b> Element gewählt, wie beim <i>Next sibling combinator</i>.<p><b>Ergebnis:</b>
                                <code>[&lt;li id="li13"&gt;13&lt;/li&gt;, &lt;li
                                    id="li14"&gt;14&lt;/li&gt;]</code></p></td>
                    </tr>
                    <tr>
                        <td>Child combinator (&gt;)</td>
                        <td>
                            <blockcode type="css">li &gt; span</blockcode>
                        </td>
                        <td>Eine Variante der Nachfahren-Selektoren sind die Kind-Selektoren, mit denen Sie Elemente auswählen können, die <b>direkte</b> &raquo;Kinder&laquo; von übergeordneten Eltern-Elementen sind.<br/>Im Beispiel werden nur <code>span</code>-Elemente selektiert, die sich direkt innerhalb eines <code>li</code>-Elements befinden. <code>&lt;span&gt;22&lt;/span&gt;</code> befindet sich in einem <code>strong</code>-Element und wird deswegen nicht selektiert.<p><b>Ergebnis:</b>
                                <code>[&lt;span&gt;11&lt;/span&gt;, &lt;span&gt;21&lt;/span&gt;]</code></p></td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>Pseudo Classes</caption>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>:first-child</td>
                        <td>ul li:first-child</td>
                        <td><p>Mit dieser Pseudo-Klasse sprechen Sie das erste Kind-Element eines übergeordneten Containers (hier: <code>ul</code>) an, falls es sich um ein Element vom angegeben Tag-Typ (hier: <code>li</code>) handelt.</p>Sollte das erste Kindelement nicht den richtigen Tag-Typ haben, wird nichts selektiert.</td>
                    </tr>
                    <tr>
                        <td>:nth-child(x)</td>
                        <td>ul li:nth-child(5)</td>
                        <td>Die Pseudo-Klasse spricht das x-te Kind-Element an &mdash; im Beispiel das fünfte Element innerhalb von <code>ul</code>, falls es vom Tag-Typ <code>li</code> ist.</td>
                    </tr>
                    <tr>
                        <td>:last-child</td>
                        <td>ul li:last-child</td>
                        <td>Äquivalent zu <code>:first-child</code> selektieren Sie hier das letzte Kind-Element, sofern es vom richtigen Tag-Typ ist.</td>
                    </tr>
                    <tr>
                        <td>:only-child</td>
                        <td>#article p:only-child</td>
                        <td>Diese Klasse selektiert ein Element nur, wenn es sich um das einzige Kind eines angegebenen Eltern-Elementes handelt.</td>
                    </tr>
                    <tr>
                        <td>:empty</td>
                        <td>div:empty</td>
                        <td>Mit dieser Pseudo-Klasse sprechen Sie nur Elemente an, die ohne Kind-Elemente sind. Inhalt in Form von Text wird dabei ebenfalls als Kind-Element betrachtet.</td>
                    </tr>
                    <tr>
                        <td>:not(selector)</td>
                        <td>:not(span)</td>
                        <td>Negation. Wählt Elemente aus, wenn sie nicht dem in Klammern angegebenen Selektor entsprechen. Im Beispiel würde alles außer <code>span</code>-Elementen ausgewählt.</td>
                    </tr>
                </tbody>
            </table>
            <h2>DOM Manipulation</h2>
            <table>
                <caption>Diese Tabelle zeigt die wichtigsten Methoden zur <b>Manipulation</b> von DOM-Elementen. Weitere finden Sie im <a href="https://developer.mozilla.org">MDN</a> bei den Beschreibungen der entsprechenden APIs: Node &amp; ChildNode.</caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                        <th>API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>appendChild</td>
                        <td>Hängt einen übergebenen Knoten (z.&thinsp;B. ein Element) als letztes Kind an den Elternknoten an, auf dem die Methode aufgerufen wurde.<p>Falls der angehängte Knoten bereits Teil des Dokuments war, wird er von seiner ursprünglichen Position entfernt.</p></td>
                        <td>Node</td>
                    </tr>
                    <tr>
                        <td>insertBefore</td>
                        <td>Fügt einen übergebenen Knoten (erstes Argument) vor einem anderen Knoten (zweites Argument) ein. Ausgegangen wird dabei von dem Elternknoten, auf dem die Methode aufgerufen wurde.</td>
                        <td>Node</td>
                    </tr>
                    <tr>
                        <td>remove</td>
                        <td>Entfernt einen Knoten aus seinem HTML-Baum. Der Knoten wird zurückgegeben und kann weiterverwendet werden.</td>
                        <td>ChildNode</td>
                    </tr>
                </tbody>
            </table>
            <h2>DOM Traversal</h2>
            <p>Um sich innerhalb des DOM von einem Element zum anderen zu bewegen (<keyword>traversal</keyword>), sind verschiedene Attribute nötig; dieser Referenzteil zeigt die wichtigsten.</p>
            <p>Alle in <a href="#dom_traversal_attrs_table_ref"/> bzw. <a href="#dom_traversal_attrs_image_ref"/> aufgelisteten Attribute sind <i>read-only</i>. Sie können zwar anhand der Attribute im DOM navigieren, aber keine Veränderungen an der Baumstruktur durchführen.</p>
            <table id="dom_traversal_attrs_table_ref">
                <caption>Diese Tabelle zeigt die wichtigsten Attribute zum DOM-<b>Traversal</b> (Bewegung innerhalb des DOMs). Weitere finden Sie im <a href="https://developer.mozilla.org">MDN</a> bei den Beschreibungen der entsprechenden APIs.</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beschreibung</th>
                        <th>API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>parentNode</td>
                        <td>der Elternknoten</td>
                        <td>Node</td>
                    </tr>
                    <tr>
                        <td>children</td>
                        <td>alle Kindelemente</td>
                        <td>parentNode</td>
                    </tr>
                    <tr>
                        <td>childElementCount</td>
                        <td>Anzahl der Kindelemente</td>
                        <td>parentNode</td>
                    </tr>
                    <tr>
                        <td>firstElementChild</td>
                        <td>das erste Kindelelement</td>
                        <td>parentNode</td>
                    </tr>
                    <tr>
                        <td>lastElementChild</td>
                        <td>das letzte Kindelelement</td>
                        <td>parentNode</td>
                    </tr>
                    <tr>
                        <td>previousElementSibling</td>
                        <td>das vorhergehende Geschwisterelement</td>
                        <td>NonDocumentTypeChildNode</td>
                    </tr>
                    <tr>
                        <td>nextElementSibling</td>
                        <td>das nächste Geschwisterelement</td>
                        <td>NonDocumentTypeChildNode</td>
                    </tr>
                </tbody>
            </table>
            <figure id="dom_traversal_attrs_image_ref">
                <img src="images/graphs/dom_traversal.png"/>
                <figcaption>DOM-Traversal-Attributes</figcaption>
            </figure>
            <h2>DOM Creation</h2>
            <table>
                <caption>Diese Tabelle zeigt die wichtigsten Methoden zur Erzeugung (<b>Creation</b>) von DOM-Elementen. Weitere finden Sie im <a href="https://developer.mozilla.org">MDN</a> bei den Beschreibungen der entsprechenden APIs.</caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beschreibung</th>
                        <th>API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>cloneNode</td>
                        <td>Kopiert einen Knoten und gibt die Kopie zurück. <code>cloneNode(true)</code> kopiert auch alle Kindknoten mit.</td>
                        <td>Node</td>
                    </tr>
                    <tr>
                        <td>document.createElement</td>
                        <td>Erzeugt ein Element vom angegebenen Typ</td>
                        <td>Document</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>Diese Tabelle zeigt die wichtigsten Attribute zur Erzeugung (<b>Creation</b>) von DOM-Elementen. Weitere finden Sie im <a href="https://developer.mozilla.org">MDN</a> bei den Beschreibungen der entsprechenden APIs.</caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beschreibung</th>
                        <th>API</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>innerHTML</td>
                        <td>Gibt das HTML im Inneren eines Elementes zurück &mdash; der Wert kann auch verändert werden.</td>
                        <td>Element</td>
                    </tr>
                    <tr>
                        <td>textContent</td>
                        <td>Gibt den Text (ohne HTML-Tags) zurück, der sich im HTML-Element befindet &mdash; der Wert kann auch verändert werden.</td>
                        <td>Node</td>
                    </tr>
                </tbody>
            </table>
            <h1>Attribute</h1>
            <table>
                <caption>Ein Auswahl von Attributen, die in der Praxis öfter mit JS angesprochen werden. Eine vollständige Liste aller Attribute finden Sie in der <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes">MDN Attribut reference</a>.</caption>
                <thead>
                    <tr>
                        <th>Name des Attributs </th>
                        <th>Elemente, für die das Attribut oft verwendet wird</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>alt</td>
                        <td>
                            <code>area, img, input</code>
                        </td>
                        <td>Alternativer Text, z.&thinsp;B. falls ein Bild nicht dargestellt werden kann.</td>
                    </tr>
                    <tr>
                        <td>checked</td>
                        <td>
                            <code>input</code>
                        </td>
                        <td>Gibt an, ob ein Radiobutton gewählt oder eine Checkbox angehakt ist.</td>
                    </tr>
                    <tr>
                        <td>cols</td>
                        <td>textarea</td>
                        <td>Anzahl der Spalten</td>
                    </tr>
                    <tr>
                        <td>disabled</td>
                        <td>
                            <code>button, input, option, select, textarea</code>
                        </td>
                        <td>Gibt an, ob ein Element deaktiviert ist.</td>
                    </tr>
                    <tr>
                        <td>href</td>
                        <td>
                            <code>a, link</code>
                        </td>
                        <td>Die URL einer verlinkten Ressource</td>
                    </tr>
                    <tr>
                        <td>max</td>
                        <td>
                            <code>progress, input</code>
                        </td>
                        <td>Der Maximalwert &mdash; bei <code>input</code>-Elementen ist das nur für <code>type="number"</code> und <code>type="range"</code> sinnvoll.</td>
                    </tr>
                    <tr>
                        <td>maxlength</td>
                        <td>
                            <code>input, textarea</code>
                        </td>
                        <td>Maximal erlaubte Zeichen in einem Element</td>
                    </tr>
                    <tr>
                        <td>min</td>
                        <td>
                            <code>input</code>
                        </td>
                        <td>Der Minimalwert &mdash; bei <code>input</code>-Elementen ist das nur für <code>type="number"</code> und <code>type="range"</code> sinnvoll.</td>
                    </tr>
                    <tr>
                        <td>multiple</td>
                        <td>
                            <code>input, select</code>
                        </td>
                        <td>Erlaubt bei <code>true</code> mehrere Eingaben für <code>input
                            type="email"</code> oder <code>input type="file"</code>. Bei <code>select</code> können mit <kbd>strg/cmd</kbd> mehrere Optionen gewählt werden.</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>
                            <code>button, form, fieldset, input, select, textarea</code>
                        </td>
                        <td>Name des Elements. Dieses Attribut wird hauptsächlich für serverseitige Anwendungen zur Identifizierung genutzt.</td>
                    </tr>
                    <tr>
                        <td>placeholder</td>
                        <td>
                            <code>input, textarea</code>
                        </td>
                        <td>Voreingestellter Text, der dem Anwender einen Hinweis zu den erwarteten Eingaben gibt.</td>
                    </tr>
                    <tr>
                        <td>readonly</td>
                        <td>
                            <code>input, textarea</code>
                        </td>
                        <td>Gibt an, ob ein Element bearbeitet werden kann.</td>
                    </tr>
                    <tr>
                        <td>rel</td>
                        <td>
                            <code>a, link</code>
                        </td>
                        <td>Definiert die Beziehung zwischen dem Ziel- und dem Link-Objekt. Kann auch für eigene Beziehungstypen verwendet werden, z.&thinsp;B. interne Links für eine JS-Bildergalerie.</td>
                    </tr>
                    <tr>
                        <td>required</td>
                        <td>
                            <code>input, select, textarea</code>
                        </td>
                        <td>Gibt an, ob ein Element ein Pflichtfeld darstellt.</td>
                    </tr>
                    <tr>
                        <td>rows</td>
                        <td>
                            <code>textarea</code>
                        </td>
                        <td>Anzahl der Zeilen</td>
                    </tr>
                    <tr>
                        <td>selected</td>
                        <td>
                            <code>option</code>
                        </td>
                        <td>Gibt an, ob eine <code>option</code> selektiert ist.</td>
                    </tr>
                    <tr>
                        <td>size</td>
                        <td>
                            <code>select</code>
                        </td>
                        <td>Anzahl der sichtbaren Optionen bei einer <code>select</code>-Box</td>
                    </tr>
                    <tr>
                        <td>src</td>
                        <td>
                            <code>img</code>
                        </td>
                        <td>URL der Bilddatei</td>
                    </tr>
                    <tr>
                        <td>start</td>
                        <td>
                            <code>ol</code>
                        </td>
                        <td>Definiert die Startnummer einer Liste, wenn etwas anderes als 1 gewünscht ist.</td>
                    </tr>
                    <tr>
                        <td>step</td>
                        <td>
                            <code>input</code>
                        </td>
                        <td>Die Schrittweite &mdash; bei <code>input</code>-Elementen ist das nur für <code>type="number"</code> und <code>type="range"</code> sinnvoll.</td>
                    </tr>
                    <tr>
                        <td>tabindex</td>
                        <td>auf allen Elementen möglich</td>
                        <td>Überschreibt die herkömmliche Reihenfolge der angesteuerten (Formular-)Elemente mit Hilfe der Tab-Taste.</td>
                    </tr>
                    <tr>
                        <td>title</td>
                        <td>auf allen Elementen möglich</td>
                        <td>Kleine Text-Box (Tooltip), die beim &raquo;Hover&laquo; angezeigt wird.</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>
                            <code>button, input</code>
                        </td>
                        <td>Typ des Elements</td>
                    </tr>
                    <tr>
                        <td>value</td>
                        <td>
                            <code>button, option, input, progress</code>
                        </td>
                        <td>Wert des Elements</td>
                    </tr>
                </tbody>
            </table>
            <h1>CSS</h1>
            <table>
                <caption>Methoden des classList-Interfaces. Ein ausführliche Referenz finden Sie im <a href="https://developer.mozilla.org/en/docs/Web/API/Element/classList">MDN</a>
                </caption>
                <thead>
                    <tr>
                        <th>Methode</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>add</td>
                        <td>$('#bar').classList.add('foo')</td>
                        <td>Fügt eine Klasse hinzu. <br/>Im Beispiel erhält das Element mit der <code>id</code>
                            <i>bar</i> die Klasse <i>foo</i>.</td>
                    </tr>
                    <tr>
                        <td>remove</td>
                        <td>$('#bar').classList.remove('foo')</td>
                        <td>Entfernt eine Klasse. <br/>Enfernt im Beispiel die Klasse <i>foo</i> von dem Element mit der <code>id</code>
                            <i>bar</i>.</td>
                    </tr>
                    <tr>
                        <td>item</td>
                        <td>$('#bar').classList.item(2)</td>
                        <td>Gibt eine Klasse aus der Classlist anhand des übergebenen Index-Arguments zurück.<br/>Gibt im Beispiel den dritten Klassennamen des Elements mit der <code>id</code>
                            <i>bar</i> zurück.</td>
                    </tr>
                    <tr>
                        <td>toggle</td>
                        <td>$('#bar').classList.toggle('foo')</td>
                        <td>Entfernt eine Klasse oder fügt sie hinzu. <br/>Im Beispiel wird die Klasse <i>foo</i> hinzugefügt, falls das Element mit der <code>id</code>
                            <i>bar</i> noch nicht über diese Klasse verfügt. Falls die Klasse schon vorhanden ist, wird sie entfernt.</td>
                    </tr>
                    <tr>
                        <td>contains</td>
                        <td>$('#bar').classList.contains('foo')</td>
                        <td>Gibt <code>true</code> zurück, falls die angegebene Klasse in der Classlist vorhanden ist.</td>
                    </tr>
                </tbody>
            </table>
            <table>
                <caption>Attribute des HTMLElement-Interfaces für CSS-Zugriff. Ein ausführliche Referenz finden Sie im <a href="https://developer.mozilla.org/en/docs/Web/API/Element/classList">MDN</a>
                </caption>
                <thead>
                    <tr>
                        <th>Attribut</th>
                        <th>Beispiel</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>style</td>
                        <td>$('#bar').style</td>
                        <td>Enthält die CSS-Stile des Elements als <i>CSSStyleDeclaration</i> (änderbar)</td>
                    </tr>
                    <tr>
                        <td>classList</td>
                        <td>$('#bar').classList</td>
                        <td>Enthält die Liste der CSS-Klassen als <i>DOMTokenList</i> (änderbar).</td>
                    </tr>
                </tbody>
            </table>
            <h1>Events</h1>
            <table>
                <caption>Ein Auswahl in der Praxis benötigter Browser-Events. Eine vollständige Liste finden Sie in der <a href="https://developer.mozilla.org/en-US/docs/Web/Events">MDN Event reference</a>.</caption>
                <thead>
                    <tr>
                        <th>Eventname</th>
                        <th>wird ausgelöst, wenn &hellip;</th>
                        <th>z.&thinsp;B. verfügbar auf</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>blur</td>
                        <td>ein Element den Fokus verliert.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>change</td>
                        <td>ein Anwender eine Änderung am Element bewirkt &mdash; z.&thinsp;B. durch Wählen einer Option innerhalb einer <code>select</code>-Box oder durch das Bestätigen einer Checkbox. Im Gegensatz zum <code>input</code>-Event gilt: Bei einem <code>input</code>-Field oder einer <code>textarea</code> &raquo;feuert&laquo; dieses Event erst, nachdem das Feld seinen Fokus wieder verliert (d.&thinsp;h. die Eingabe als abgeschlossen gilt).</td>
                        <td>input, select, textarea</td>
                    </tr>
                    <tr>
                        <td>click</td>
                        <td>ein Anwender auf ein Element klickt (und wieder loslässt). Das <code>click</code>-Event repräsentiert den kompletten Vorgang: Drücken und Loslassen. Wenn Sie nur auf das Runterdrücken reagieren möchten, verwenden Sie <code>mousedown</code>, für nur das Loslassen <code>mouseup</code>.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>dblclick</td>
                        <td>ein Anwender auf einem Element einen Doppelklick ausführt.</td>
                        <td>button, img, body</td>
                    </tr>
                    <tr>
                        <td>focus</td>
                        <td>ein Element den Fokus erhält.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>hashchange</td>
                        <td>sich der Fragmentbezeichner der URL ändert (der Fragmentbezeichner ist der Teil, der nach dem #-Symbol folgt, inkl. Symbol).</td>
                        <td>window</td>
                    </tr>
                    <tr>
                        <td>input</td>
                        <td>der Inhalt eines <code>input</code>- oder <code>textarea</code>-Elements geändert wird. Im Gegensatz zu <code>change</code> feuert dieser Event bei jeder Eingabe sofort. Unter <a href="http://jsfiddle.net/AtvtZ/">http://jsfiddle.net/AtvtZ/</a> finden Sie einen guten Vergleich von <code>input</code> und <code>change</code>.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>keydown</td>
                        <td>der Anwender eine Taste drückt.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>keypress</td>
                        <td>der Anwender eine Taste gedrückt hält.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>keyup</td>
                        <td>der Anwender eine Taste loslässt.</td>
                        <td>input, textarea</td>
                    </tr>
                    <tr>
                        <td>mouseenter</td>
                        <td>der Anwender den Mauszeiger über das Element bewegt &mdash; genauer: die Fläche des Elements mit dem Mauszeiger betritt.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>mouseleave</td>
                        <td>der Anwender den Mauszeiger aus einem Element herausbewegt.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>mousemove</td>
                        <td>sich der Mauszeiger über dem Element bewegt.</td>
                        <td>button, img, body, p, div</td>
                    </tr>
                    <tr>
                        <td>reset</td>
                        <td>ein Formular zurückgesetzt wird.</td>
                        <td>form</td>
                    </tr>
                    <tr>
                        <td>resize</td>
                        <td>der Anwender die Größe des Browserfensters verändert.</td>
                        <td>window</td>
                    </tr>
                    <tr>
                        <td>scroll</td>
                        <td>innerhalb eines Elements (oder des Browserfensters) gescrollt wird.</td>
                        <td>window, div</td>
                    </tr>
                    <tr>
                        <td>select</td>
                        <td>der Anwender Text markiert.</td>
                        <td>input, textarea, p</td>
                    </tr>
                    <tr>
                        <td>submit</td>
                        <td>ein Formular abgeschickt wird.</td>
                        <td>form</td>
                    </tr>
                    <tr>
                        <td>transitionend</td>
                        <td>eine CSS-Transition beendet ist.</td>
                        <td>img, div, p</td>
                    </tr>
                    <tr>
                        <td>visibilitychange</td>
                        <td>Inhalt eines Elements sichtbar oder unsichtbar wird.</td>
                        <td>img, div, p</td>
                    </tr>
                    <tr>
                        <td>wheel</td>
                        <td>der Anwender am Rad dreht (wir meinen das wörtlich, nicht im übertragenen Sinn). Normalerweise ist es das Mausrad, aber es kann auch ein Trackball oder ein Touchpad sein.</td>
                        <td>window, div</td>
                    </tr>
                </tbody>
            </table>
        </lesson>
        <!--
        <lesson>
            <lesson_name>A Better Way?</lesson_name>

Productmanager nochmal, mit Hexagonaler Architectur, + innerHTML / dann Morphdom (React erwähnen)
        <lesson>
            <lesson_name>DOM-Creation</lesson_name>
            <p>Warum ist innerHtml doof: Performance, no-check</p>
            <p>Fragments</p>
            <p>Plain-JS</p>
            <p>Crel, Laconic, el</p> DOM-Builders: Crel:
            https://github.com/KoryNunn/crel/blob/master/crel.js Laconic:
            https://github.com/joestelmach/laconic </lesson>
            <exercise name="Sortierbare Tabellen"></exercise>
        <lesson>

        lesson: FORMs The UI element states enabled, disabled, checked

        <lesson>
            <lesson_name>Ajax</lesson_name>
            <p>Nein - wir wiederholen hier nicht die blöden alten Witze mit dem Waschmittel und der
                holländischen Fußballmanschaft</p>
        </lesson>
-->
        <lesson>
            <lesson_name>Anhang B: Quellen &amp; Literaturhinweise</lesson_name>
            <h1>APA-Style</h1>
            <p>Zum Aufzeigen von Referenzen, Quellen und weiterführender Literatur verwenden wir den sogenannten <keyword>APA-Style</keyword>. Der APA-Style ist &mdash; unter anderem &mdash; ein System zur Kennzeichnung von Referenzen. Entwickelt wurde das System von der <i>American Psychological Association</i> (APA).</p>
            <p>Weitere Informationen dazu finden Sie auf <a href="http://en.wikipedia.org/wiki/Apa_style">Wikipedia</a> oder im <a href="https://owl.english.purdue.edu/owl/resource/560/01/">Online Writing Lab</a>. Eine APA-Style-Referenz besteht meist aus Nachname und Jahreszahl. Hier sehen Sie zwei Beispiele.</p>
            <blockquote>
                <p>Ein Indiz für die Aussagekraft eines Bezeichners ist auch seine Länge. Variablen, die aus nur einem Zeichen bestehen, sind meistens problematisch (Kellerwessel 2002).</p>
            </blockquote>
            <blockquote>
                <p>Douglas Crockford (2008) bezeichnet das <code>==</code> sogar als bösen Zwilling.</p>
            </blockquote>
            <p>Im folgenden Quellenverzeichnis können Sie die Referenzen dann nachschlagen.</p>
            <h1>Quellen</h1>
            <p><b>Crockford D. (2001).</b> JavaScript: The World's Most Misunderstood Programming Language. Douglas Crockford's Wrrrld Wide Web (private Website). Betrachtet am 19.03.2015 unter <a href="http://javascript.crockford.com/javascript.html">http://javascript.crockford.com/javascript.html</a></p>
            <p><b>Crockford D. (Mai 2008).</b> JavaScript: The Good Parts: Working with the Shallow Grain of JavaScript. O'Reilly</p>
            <p><b>Ecma International (Juni 2015).</b> ECMAScript 2015 Language Specification. Standard ECMA-262, 6th Edition / June 2015</p>
            <p><b>Ecma International (Juni 2011).</b> ECMAScript Language Specification. Standard ECMA-262, 5.1 Edition / June 2011</p>
            <p><b>Fowler M., Beck K., Brant J., Opdyke W. et. al. (1999).</b> Refactoring: Improving the Design of Existing Code, Amsterdam: Addison-Wesley Longman</p>
            <p><b>Keith, J. (2005)</b>. DOM Scripting: Web Design with JavaScript and the Document Object Model, 1st Edition, Friends of Ed</p>
            <p><b>Martin R. C. (2002).</b> Agile Software Development. Principles, Patterns, and Practices. Prentice Hall</p>
            <p><b>Martin R. C. (2008).</b> Clean Code: A Handbook of Agile Software Craftsmanship. Prentice Hall</p>
            <p><b>Nicholus R. (2015).</b> Beyond jQuery. Beta Book 2015-09-25. Lean Pub</p>
            <p><b>Opdyke W. F., Johnson R. E. (September 1990).</b> Refactoring: An Aid in Designing Application Frameworks and Evolving Object-Oriented Systems.&nbsp;Proceedings of the Symposium on Object Oriented Programming Emphasizing Practical Applications (SOOPPA). ACM</p>
            <p><b>Osmani A. (2015).</b> Learning JavaScript Design Patterns. O'Reilly</p>
            <p><b>Rauschmayer A. (April 2016).</b> Setting up ES6. Leanpub</p>
            <p><b>Venners B. (März 2003).</b> Orthogonality and the DRY Principle - A Conversation with Andy Hunt and Dave Thomas, Part II. Interview in einem Web-Artikel. Betrachtet am 12.04.2016 unter <a href="http://www.artima.com/intv/dry.html">www.artima.com/intv/dry.html</a></p>
        </lesson>
    </lessons>
</html>
